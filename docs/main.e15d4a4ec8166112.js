"use strict";(self.webpackChunksmart_home=self.webpackChunksmart_home||[]).push([[179],{6304:(Be,fe,R)=>{R.d(fe,{Dh:()=>Ee,GT:()=>ie,cc:()=>me,hO:()=>we,on:()=>O,pX:()=>Y,xv:()=>re});var g=R(5879),W=R(120),P=R(6106);Be=R.hmd(Be);const z=["ngOnDestroy"],Y=(Ie,We,je,q={})=>new Proxy(Ie,{get:(ae,Z)=>je.runOutsideAngular(()=>{var he;if(Ie[Z])return!(null===(he=q?.spy)||void 0===he)&&he.get&&q.spy.get(Z,Ie[Z]),Ie[Z];if(z.indexOf(Z)>-1)return()=>{};const Ce=We.toPromise().then(Me=>{const J=Me&&Me[Z];return"function"==typeof J?J.bind(Me):J&&J.then?J.then(ze=>je.run(()=>ze)):je.run(()=>J)});return new Proxy(()=>{},{get:(Me,J)=>Ce[J],apply:(Me,J,ze)=>Ce.then(ct=>{var An;const er=ct&&ct(...ze);return!(null===(An=q?.spy)||void 0===An)&&An.apply&&q.spy.apply(Z,ze,er),er})})})}),ie=(Ie,We)=>{We.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(q=>{Object.defineProperty(Ie.prototype,q,Object.getOwnPropertyDescriptor(je.prototype||je,q))})})};class oe{constructor(We){return We}}const Ee=new g.OlP("angularfire2.app.options"),re=new g.OlP("angularfire2.app.name");function O(Ie,We,je){const ae="object"==typeof je&&je||{};ae.name=ae.name||"string"==typeof je&&je||"[DEFAULT]";const he=W.Z.apps.filter(Ce=>Ce&&Ce.name===ae.name)[0]||We.runOutsideAngular(()=>W.Z.initializeApp(Ie,ae));try{JSON.stringify(Ie)!==JSON.stringify(he.options)&&V("error",`${he.name} Firebase App already initialized with different options${Be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(he)}const V=(Ie,...We)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ie](...We)},$={provide:oe,useFactory:O,deps:[Ee,g.R0b,[new g.FiY,re]]};let we=(()=>{class Ie{constructor(je){W.Z.registerVersion("angularfire",P.q4.full,"core"),W.Z.registerVersion("angularfire",P.q4.full,"app-compat"),W.Z.registerVersion("angular",g.q4F.full,je.toString())}static initializeApp(je,q){return{ngModule:Ie,providers:[{provide:Ee,useValue:je},{provide:re,useValue:q}]}}}return Ie.\u0275fac=function(je){return new(je||Ie)(g.LFG(g.Lbi))},Ie.\u0275mod=g.oAB({type:Ie}),Ie.\u0275inj=g.cJS({providers:[$]}),Ie})();function me(Ie,We,je,q,ae){const[,Z,he]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===Ie)||[];if(Z)return function Pe(Ie,We){try{return Ie.toString()===We.toString()}catch{return Ie===We}}(ae,he)||(Ae("error",`${We} was already initialized on the ${je} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:ae,was:he})),Z;{const Ce=q();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Ce,ae]),Ce}}const ve=!!Be.hot,Ae=(Ie,...We)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ie](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6106:(Be,fe,R)=>{R.d(fe,{q4:()=>gr,iC:()=>Zd,HU:()=>cu,vb:()=>Es,JM:()=>uo});var g=R(5879),W=R(4097),P=R(5861),z=R(1571),Y=R(229),ie=R(6820),oe=R(4287);const Ee=(E,C)=>C.some(b=>E instanceof b);let re,O;const we=new WeakMap,me=new WeakMap,Pe=new WeakMap,ve=new WeakMap,Ae=new WeakMap;let je={get(E,C,b){if(E instanceof IDBTransaction){if("done"===C)return me.get(E);if("objectStoreNames"===C)return E.objectStoreNames||Pe.get(E);if("store"===C)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return he(E[C])},set:(E,C,b)=>(E[C]=b,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Z(E){return"function"==typeof E?function ae(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Ce(this),C),he(we.get(this))}:function(...C){return he(E.apply(Ce(this),C))}:function(C,...b){const A=E.call(Ce(this),C,...b);return Pe.set(A,C.sort?C.sort():[C]),he(A)}}(E):(E instanceof IDBTransaction&&function We(E){if(me.has(E))return;const C=new Promise((b,A)=>{const k=()=>{E.removeEventListener("complete",j),E.removeEventListener("error",X),E.removeEventListener("abort",X)},j=()=>{b(),k()},X=()=>{A(E.error||new DOMException("AbortError","AbortError")),k()};E.addEventListener("complete",j),E.addEventListener("error",X),E.addEventListener("abort",X)});me.set(E,C)}(E),Ee(E,function V(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,je):E)}function he(E){if(E instanceof IDBRequest)return function Ie(E){const C=new Promise((b,A)=>{const k=()=>{E.removeEventListener("success",j),E.removeEventListener("error",X)},j=()=>{b(he(E.result)),k()},X=()=>{A(E.error),k()};E.addEventListener("success",j),E.addEventListener("error",X)});return C.then(b=>{b instanceof IDBCursor&&we.set(b,E)}).catch(()=>{}),Ae.set(C,E),C}(E);if(ve.has(E))return ve.get(E);const C=Z(E);return C!==E&&(ve.set(E,C),Ae.set(C,E)),C}const Ce=E=>Ae.get(E),ze=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],An=new Map;function er(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(An.get(C))return An.get(C);const b=C.replace(/FromIndex$/,""),A=C!==b,k=ct.includes(b);if(!(b in(A?IDBIndex:IDBObjectStore).prototype)||!k&&!ze.includes(b))return;const j=function(){var X=(0,P.Z)(function*(Se,...De){const Ve=this.transaction(Se,k?"readwrite":"readonly");let rt=Ve.store;return A&&(rt=rt.index(De.shift())),(yield Promise.all([rt[b](...De),k&&Ve.done]))[0]});return function(De){return X.apply(this,arguments)}}();return An.set(C,j),j}!function q(E){je=E(je)}(E=>({...E,get:(C,b,A)=>er(C,b)||E.get(C,b,A),has:(C,b)=>!!er(C,b)||E.has(C,b)}));const ai="@firebase/installations",tn="0.6.4",Xi=1e4,Ti=`w:${tn}`,ee="FIS_v2",ne="https://firebaseinstallations.googleapis.com/v1",le=36e5,xe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(E){return E instanceof Y.ZR&&E.code.includes("request-failed")}function Zt({projectId:E}){return`${ne}/projects/${E}/installations`}function He(E){return{token:E.token,requestStatus:2,expiresIn:xn(E.expiresIn),creationTime:Date.now()}}function vt(E,C){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(E,C){const A=(yield C.json()).error;return xe.create("request-failed",{requestName:E,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})})).apply(this,arguments)}function xt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pn(E){return bt.apply(this,arguments)}function bt(){return(bt=(0,P.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function xn(E){return Number(E.replace("s","000"))}function fr(){return(fr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:b}){const A=Zt(E),k=xt(E),j=C.getImmediate({optional:!0});if(j){const Ve=yield j.getHeartbeatsHeader();Ve&&k.append("x-firebase-client",Ve)}const Se={method:"POST",headers:k,body:JSON.stringify({fid:b,authVersion:ee,appId:E.appId,sdkVersion:Ti})},De=yield pn(()=>fetch(A,Se));if(De.ok){const Ve=yield De.json();return{fid:Ve.fid||b,registrationStatus:2,refreshToken:Ve.refreshToken,authToken:He(Ve.authToken)}}throw yield vt("Create Installation",De)})).apply(this,arguments)}function hr(E){return new Promise(C=>{setTimeout(C,E)})}const bo=/^[cdef][\w-]{21}$/,$e="";function dt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const b=function tt(E){return function Ai(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return bo.test(b)?b:$e}catch{return $e}}function At(E){return`${E.appName}!${E.appId}`}const $t=new Map;function tr(E,C){const b=At(E);js(b,C),function yt(E,C){const b=function ut(){return!nr&&"BroadcastChannel"in self&&(nr=new BroadcastChannel("[Firebase] FID Change"),nr.onmessage=E=>{js(E.data.key,E.data.fid)}),nr}();b&&b.postMessage({key:E,fid:C}),function Zr(){0===$t.size&&nr&&(nr.close(),nr=null)}()}(b,C)}function js(E,C){const b=$t.get(E);if(b)for(const A of b)A(C)}let nr=null;const Mi="firebase-installations-database",Ri=1,yr="firebase-installations-store";let Pi=null;function Lr(){return Pi||(Pi=function Me(E,C,{blocked:b,upgrade:A,blocking:k,terminated:j}={}){const X=indexedDB.open(E,C),Se=he(X);return A&&X.addEventListener("upgradeneeded",De=>{A(he(X.result),De.oldVersion,De.newVersion,he(X.transaction))}),b&&X.addEventListener("blocked",()=>b()),Se.then(De=>{j&&De.addEventListener("close",()=>j()),k&&De.addEventListener("versionchange",()=>k())}).catch(()=>{}),Se}(Mi,Ri,{upgrade:(E,C)=>{0===C&&E.createObjectStore(yr)}})),Pi}function gn(E,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,P.Z)(function*(E,C){const b=At(E),k=(yield Lr()).transaction(yr,"readwrite"),j=k.objectStore(yr),X=yield j.get(b);return yield j.put(C,b),yield k.done,(!X||X.fid!==C.fid)&&tr(E,C.fid),C})).apply(this,arguments)}function rr(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(E){const C=At(E),A=(yield Lr()).transaction(yr,"readwrite");yield A.objectStore(yr).delete(C),yield A.done})).apply(this,arguments)}function Er(E,C){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(E,C){const b=At(E),k=(yield Lr()).transaction(yr,"readwrite"),j=k.objectStore(yr),X=yield j.get(b),Se=C(X);return void 0===Se?yield j.delete(b):yield j.put(Se,b),yield k.done,Se&&(!X||X.fid!==Se.fid)&&tr(E,Se.fid),Se})).apply(this,arguments)}function F(E){return x.apply(this,arguments)}function x(){return x=(0,P.Z)(function*(E){let C;const b=yield Er(E.appConfig,A=>{const k=function B(E){return nt(E||{fid:dt(),registrationStatus:0})}(A),j=function ce(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(xe.create("app-offline"))};const b={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},A=function Q(E,C){return Ne.apply(this,arguments)}(E,b);return{installationEntry:b,registrationPromise:A}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Je(E)}:{installationEntry:C}}(E,k);return C=j.registrationPromise,j.installationEntry});return b.fid===$e?{installationEntry:yield C}:{installationEntry:b,registrationPromise:C}}),x.apply(this,arguments)}function Ne(){return Ne=(0,P.Z)(function*(E,C){try{const b=yield function Si(E,C){return fr.apply(this,arguments)}(E,C);return gn(E.appConfig,b)}catch(b){throw Te(b)&&409===b.customData.serverCode?yield rr(E.appConfig):yield gn(E.appConfig,{fid:C.fid,registrationStatus:0}),b}}),Ne.apply(this,arguments)}function Je(E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(E){let C=yield _n(E.appConfig);for(;1===C.registrationStatus;)yield hr(100),C=yield _n(E.appConfig);if(0===C.registrationStatus){const{installationEntry:b,registrationPromise:A}=yield F(E);return A||b}return C})).apply(this,arguments)}function _n(E){return Er(E,C=>{if(!C)throw xe.create("installation-not-found");return nt(C)})}function nt(E){return function Kt(E){return 1===E.registrationStatus&&E.registrationTime+Xi<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function un(){return(un=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:C},b){const A=function Kr(E,{fid:C}){return`${Zt(E)}/${C}/authTokens:generate`}(E,b),k=function kt(E,{refreshToken:C}){const b=xt(E);return b.append("Authorization",function dr(E){return`${ee} ${E}`}(C)),b}(E,b),j=C.getImmediate({optional:!0});if(j){const Ve=yield j.getHeartbeatsHeader();Ve&&k.append("x-firebase-client",Ve)}const Se={method:"POST",headers:k,body:JSON.stringify({installation:{sdkVersion:Ti,appId:E.appId}})},De=yield pn(()=>fetch(A,Se));if(De.ok)return He(yield De.json());throw yield vt("Generate Auth Token",De)})).apply(this,arguments)}function li(E){return To.apply(this,arguments)}function To(){return To=(0,P.Z)(function*(E,C=!1){let b;const A=yield Er(E.appConfig,j=>{if(!st(j))throw xe.create("not-registered");const X=j.authToken;if(!C&&function Et(E){return 2===E.requestStatus&&!function rn(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+le}(E)}(X))return j;if(1===X.requestStatus)return b=function te(E,C){return K.apply(this,arguments)}(E,C),j;{if(!navigator.onLine)throw xe.create("app-offline");const Se=function sn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(j);return b=function ke(E,C){return Re.apply(this,arguments)}(E,Se),Se}});return b?yield b:A.authToken}),To.apply(this,arguments)}function K(){return(K=(0,P.Z)(function*(E,C){let b=yield _e(E.appConfig);for(;1===b.authToken.requestStatus;)yield hr(100),b=yield _e(E.appConfig);const A=b.authToken;return 0===A.requestStatus?li(E,C):A})).apply(this,arguments)}function _e(E){return Er(E,C=>{if(!st(C))throw xe.create("not-registered");return function Rn(E){return 1===E.requestStatus&&E.requestTime+Xi<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Re(){return Re=(0,P.Z)(function*(E,C){try{const b=yield function pt(E,C){return un.apply(this,arguments)}(E,C),A=Object.assign(Object.assign({},C),{authToken:b});return yield gn(E.appConfig,A),b}catch(b){if(!Te(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const A=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield gn(E.appConfig,A)}else yield rr(E.appConfig);throw b}}),Re.apply(this,arguments)}function st(E){return void 0!==E&&2===E.registrationStatus}function Hs(){return(Hs=(0,P.Z)(function*(E){const C=E,{installationEntry:b,registrationPromise:A}=yield F(C);return A?A.catch(console.error):li(C).catch(console.error),b.fid})).apply(this,arguments)}function $s(){return $s=(0,P.Z)(function*(E,C=!1){const b=E;return yield function Pl(E){return Ir.apply(this,arguments)}(b),(yield li(b,C)).token}),$s.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(E){const{registrationPromise:C}=yield F(E);C&&(yield C)})).apply(this,arguments)}function Ws(E){return xe.create("missing-app-config-values",{valueName:E})}const Ol="installations",_h=E=>{const C=E.getProvider("app").getImmediate(),b=function ir(E){if(!E||!E.options)throw Ws("App Configuration");if(!E.name)throw Ws("App Name");const C=["projectId","apiKey","appId"];for(const b of C)if(!E.options[b])throw Ws(b);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:b,heartbeatServiceProvider:(0,z._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},ts=E=>{const C=E.getProvider("app").getImmediate(),b=(0,z._getProvider)(C,Ol).getImmediate();return{getId:()=>function qr(E){return Hs.apply(this,arguments)}(b),getToken:k=>function Rl(E){return $s.apply(this,arguments)}(b,k)}};(function Td(){(0,z._registerComponent)(new ie.wA(Ol,_h,"PUBLIC")),(0,z._registerComponent)(new ie.wA("installations-internal",ts,"PRIVATE"))})(),(0,z.registerVersion)(ai,tn),(0,z.registerVersion)(ai,tn,"esm2017");const Mo="@firebase/remote-config",kn=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ze{constructor(C,b,A,k){this.client=C,this.storage=b,this.storageCache=A,this.logger=k}isCachedDataFresh(C,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const A=Date.now()-b,k=A<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${A}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${k}.`),k}fetch(C){var b=this;return(0,P.Z)(function*(){const[A,k]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(k&&b.isCachedDataFresh(C.cacheMaxAgeMillis,A))return k;C.eTag=k&&k.eTag;const j=yield b.client.fetch(C),X=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===j.status&&X.push(b.storage.setLastSuccessfulFetchResponse(j)),yield Promise.all(X),j})()}}function Ft(E=navigator){return E.languages&&E.languages[0]||E.language}class Hn{constructor(C,b,A,k,j,X){this.firebaseInstallations=C,this.sdkVersion=b,this.namespace=A,this.projectId=k,this.apiKey=j,this.appId=X}fetch(C){var b=this;return(0,P.Z)(function*(){const[A,k]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),X=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,Se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},De={sdk_version:b.sdkVersion,app_instance_id:A,app_instance_id_token:k,app_id:b.appId,language_code:Ft()},Ve={method:"POST",headers:Se,body:JSON.stringify(De)},rt=fetch(X,Ve),et=new Promise((qn,ti)=>{C.signal.addEventListener(()=>{const du=new Error("The operation was aborted.");du.name="AbortError",ti(du)})});let Kn;try{yield Promise.race([rt,et]),Kn=yield rt}catch(qn){let ti="fetch-client-network";throw"AbortError"===qn?.name&&(ti="fetch-timeout"),kn.create(ti,{originalErrorMessage:qn?.message})}let It=Kn.status;const Br=Kn.headers.get("ETag")||void 0;let Wi,Gi;if(200===Kn.status){let qn;try{qn=yield Kn.json()}catch(ti){throw kn.create("fetch-client-parse",{originalErrorMessage:ti?.message})}Wi=qn.entries,Gi=qn.state}if("INSTANCE_STATE_UNSPECIFIED"===Gi?It=500:"NO_CHANGE"===Gi?It=304:("NO_TEMPLATE"===Gi||"EMPTY_CONFIG"===Gi)&&(Wi={}),304!==It&&200!==It)throw kn.create("fetch-status",{httpStatus:It});return{status:It,eTag:Br,config:Wi}})()}}class No{constructor(C,b){this.client=C,this.storage=b}fetch(C){var b=this;return(0,P.Z)(function*(){const A=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(C,A)})()}attemptFetch(C,{throttleEndTimeMillis:b,backoffCount:A}){var k=this;return(0,P.Z)(function*(){yield function ns(E,C){return new Promise((b,A)=>{const k=Math.max(C-Date.now(),0),j=setTimeout(b,k);E.addEventListener(()=>{clearTimeout(j),A(kn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,b);try{const j=yield k.client.fetch(C);return yield k.storage.deleteThrottleMetadata(),j}catch(j){if(!function Pn(E){if(!(E instanceof Y.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(j))throw j;const X={throttleEndTimeMillis:Date.now()+(0,Y.$s)(A),backoffCount:A+1};return yield k.storage.setThrottleMetadata(X),k.attemptFetch(C,X)}})()}}class zs{constructor(C,b,A,k,j){this.app=C,this._client=b,this._storageCache=A,this._storage=k,this._logger=j,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ye(E,C){const b=E.target.error||void 0;return kn.create(C,{originalErrorMessage:b&&b?.message})}const Nn="app_namespace_store";class Ll{constructor(C,b,A,k=function Lt(){return new Promise((E,C)=>{try{const b=indexedDB.open("firebase_remote_config",1);b.onerror=A=>{C(Ye(A,"storage-open"))},b.onsuccess=A=>{E(A.target.result)},b.onupgradeneeded=A=>{0===A.oldVersion&&A.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(b){C(kn.create("storage-open",{originalErrorMessage:b?.message}))}})}()){this.appId=C,this.appName=b,this.namespace=A,this.openDbPromise=k}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var b=this;return(0,P.Z)(function*(){const A=yield b.openDbPromise;return new Promise((k,j)=>{const Se=A.transaction([Nn],"readonly").objectStore(Nn),De=b.createCompositeKey(C);try{const Ve=Se.get(De);Ve.onerror=rt=>{j(Ye(rt,"storage-get"))},Ve.onsuccess=rt=>{const et=rt.target.result;k(et?et.value:void 0)}}catch(Ve){j(kn.create("storage-get",{originalErrorMessage:Ve?.message}))}})})()}set(C,b){var A=this;return(0,P.Z)(function*(){const k=yield A.openDbPromise;return new Promise((j,X)=>{const De=k.transaction([Nn],"readwrite").objectStore(Nn),Ve=A.createCompositeKey(C);try{const rt=De.put({compositeKey:Ve,value:b});rt.onerror=et=>{X(Ye(et,"storage-set"))},rt.onsuccess=()=>{j()}}catch(rt){X(kn.create("storage-set",{originalErrorMessage:rt?.message}))}})})()}delete(C){var b=this;return(0,P.Z)(function*(){const A=yield b.openDbPromise;return new Promise((k,j)=>{const Se=A.transaction([Nn],"readwrite").objectStore(Nn),De=b.createCompositeKey(C);try{const Ve=Se.delete(De);Ve.onerror=rt=>{j(Ye(rt,"storage-delete"))},Ve.onsuccess=()=>{k()}}catch(Ve){j(kn.create("storage-delete",{originalErrorMessage:Ve?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class rs{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,P.Z)(function*(){const b=C.storage.getLastFetchStatus(),A=C.storage.getLastSuccessfulFetchTimestampMillis(),k=C.storage.getActiveConfig(),j=yield b;j&&(C.lastFetchStatus=j);const X=yield A;X&&(C.lastSuccessfulFetchTimestampMillis=X);const Se=yield k;Se&&(C.activeConfig=Se)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Oi(){return br.apply(this,arguments)}function br(){return(br=(0,P.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function vn(){(0,z._registerComponent)(new ie.wA("remote-config",function E(C,{instanceIdentifier:b}){const A=C.getProvider("app").getImmediate(),k=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!(0,Y.hl)())throw kn.create("indexed-db-unavailable");const{projectId:j,apiKey:X,appId:Se}=A.options;if(!j)throw kn.create("registration-project-id");if(!X)throw kn.create("registration-api-key");if(!Se)throw kn.create("registration-app-id");const De=new Ll(Se,A.name,b=b||"firebase"),Ve=new rs(De),rt=new oe.Yd(Mo);rt.logLevel=oe.in.ERROR;const et=new Hn(k,z.SDK_VERSION,b,j,X,Se),Kn=new No(et,De),It=new Ze(Kn,De,Ve,rt),Br=new zs(A,It,Ve,De,rt);return function Bn(E){const C=(0,Y.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Br),Br},"PUBLIC").setMultipleInstances(!0)),(0,z.registerVersion)(Mo,"0.4.4"),(0,z.registerVersion)(Mo,"0.4.4","esm2017")}();const Aa=(E,C)=>C.some(b=>E instanceof b);let is,ot;const Ma=new WeakMap,yn=new WeakMap,ss=new WeakMap,En=new WeakMap,xi=new WeakMap;let Cn={get(E,C,b){if(E instanceof IDBTransaction){if("done"===C)return yn.get(E);if("objectStoreNames"===C)return E.objectStoreNames||ss.get(E);if("store"===C)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return pr(E[C])},set:(E,C,b)=>(E[C]=b,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function os(E){return"function"==typeof E?function Ra(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zs(){return ot||(ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(sr(this),C),pr(Ma.get(this))}:function(...C){return pr(E.apply(sr(this),C))}:function(C,...b){const A=E.call(sr(this),C,...b);return ss.set(A,C.sort?C.sort():[C]),pr(A)}}(E):(E instanceof IDBTransaction&&function Md(E){if(yn.has(E))return;const C=new Promise((b,A)=>{const k=()=>{E.removeEventListener("complete",j),E.removeEventListener("error",X),E.removeEventListener("abort",X)},j=()=>{b(),k()},X=()=>{A(E.error||new DOMException("AbortError","AbortError")),k()};E.addEventListener("complete",j),E.addEventListener("error",X),E.addEventListener("abort",X)});yn.set(E,C)}(E),Aa(E,function vh(){return is||(is=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Cn):E)}function pr(E){if(E instanceof IDBRequest)return function On(E){const C=new Promise((b,A)=>{const k=()=>{E.removeEventListener("success",j),E.removeEventListener("error",X)},j=()=>{b(pr(E.result)),k()},X=()=>{A(E.error),k()};E.addEventListener("success",j),E.addEventListener("error",X)});return C.then(b=>{b instanceof IDBCursor&&Ma.set(b,E)}).catch(()=>{}),xi.set(C,E),C}(E);if(En.has(E))return En.get(E);const C=os(E);return C!==E&&(En.set(E,C),xi.set(C,E)),C}const sr=E=>xi.get(E);function Ks(E,C,{blocked:b,upgrade:A,blocking:k,terminated:j}={}){const X=indexedDB.open(E,C),Se=pr(X);return A&&X.addEventListener("upgradeneeded",De=>{A(pr(X.result),De.oldVersion,De.newVersion,pr(X.transaction))}),b&&X.addEventListener("blocked",()=>b()),Se.then(De=>{j&&De.addEventListener("close",()=>j()),k&&De.addEventListener("versionchange",()=>k())}).catch(()=>{}),Se}function qs(E,{blocked:C}={}){const b=indexedDB.deleteDatabase(E);return C&&b.addEventListener("blocked",()=>C()),pr(b).then(()=>{})}const Vl=["get","getKey","getAll","getAllKeys","count"],yh=["put","add","delete","clear"],Pa=new Map;function Ul(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Pa.get(C))return Pa.get(C);const b=C.replace(/FromIndex$/,""),A=C!==b,k=yh.includes(b);if(!(b in(A?IDBIndex:IDBObjectStore).prototype)||!k&&!Vl.includes(b))return;const j=function(){var X=(0,P.Z)(function*(Se,...De){const Ve=this.transaction(Se,k?"readwrite":"readonly");let rt=Ve.store;return A&&(rt=rt.index(De.shift())),(yield Promise.all([rt[b](...De),k&&Ve.done]))[0]});return function(De){return X.apply(this,arguments)}}();return Pa.set(C,j),j}!function $n(E){Cn=E(Cn)}(E=>({...E,get:(C,b,A)=>Ul(C,b)||E.get(C,b,A),has:(C,b)=>!!Ul(C,b)||E.has(C,b)}));const ic="/firebase-messaging-sw.js",Bl="/firebase-cloud-messaging-push-scope",sc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Eh="https://fcmregistrations.googleapis.com/v1",Vt="google.c.a.c_id",Ch="google.c.a.c_l",Rd="google.c.a.ts";var oc=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(oc||{});function hi(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jl(E){const b=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(b),k=new Uint8Array(A.length);for(let j=0;j<A.length;++j)k[j]=A.charCodeAt(j);return k}const Ys="fcm_token_details_db",Hl=5,Oo="fcm_token_object_Store";function xo(){return xo=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(j=>j.name).includes(Ys))return null;let C=null;return(yield Ks(Ys,Hl,{upgrade:(A=(0,P.Z)(function*(k,j,X,Se){var De;if(j<2||!k.objectStoreNames.contains(Oo))return;const Ve=Se.objectStore(Oo),rt=yield Ve.index("fcmSenderId").get(E);if(yield Ve.clear(),rt)if(2===j){const et=rt;if(!et.auth||!et.p256dh||!et.endpoint)return;C={token:et.fcmToken,createTime:null!==(De=et.createTime)&&void 0!==De?De:Date.now(),subscriptionOptions:{auth:et.auth,p256dh:et.p256dh,endpoint:et.endpoint,swScope:et.swScope,vapidKey:"string"==typeof et.vapidKey?et.vapidKey:hi(et.vapidKey)}}}else if(3===j){const et=rt;C={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:hi(et.auth),p256dh:hi(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:hi(et.vapidKey)}}}else if(4===j){const et=rt;C={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:hi(et.auth),p256dh:hi(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:hi(et.vapidKey)}}}}),function(j,X,Se,De){return A.apply(this,arguments)})})).close(),yield qs(Ys),yield qs("fcm_vapid_details_db"),yield qs("undefined"),function as(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var A}),xo.apply(this,arguments)}const Na="firebase-messaging-database",ac=1,Wn="firebase-messaging-store";let Oa=null;function xa(){return Oa||(Oa=Ks(Na,ac,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Wn)}})),Oa}function $l(E){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,P.Z)(function*(E){const C=Jt(E),A=yield(yield xa()).transaction(Wn).objectStore(Wn).get(C);if(A)return A;{const k=yield function om(E){return xo.apply(this,arguments)}(E.appConfig.senderId);if(k)return yield Nd(E,k),k}}),Qs.apply(this,arguments)}function Nd(E,C){return ka.apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(E,C){const b=Jt(E),k=(yield xa()).transaction(Wn,"readwrite");return yield k.objectStore(Wn).put(C,b),yield k.done,C})).apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(E){const C=Jt(E),A=(yield xa()).transaction(Wn,"readwrite");yield A.objectStore(Wn).delete(C),yield A.done})).apply(this,arguments)}function Jt({appConfig:E}){return E.appId}const Gn=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fa(E,C){return La.apply(this,arguments)}function La(){return(La=(0,P.Z)(function*(E,C){const b=yield Wl(E),A=xd(C),k={method:"POST",headers:b,body:JSON.stringify(A)};let j;try{j=yield(yield fetch(Js(E.appConfig),k)).json()}catch(X){throw Gn.create("token-subscribe-failed",{errorInfo:X?.toString()})}if(j.error)throw Gn.create("token-subscribe-failed",{errorInfo:j.error.message});if(!j.token)throw Gn.create("token-subscribe-no-token");return j.token})).apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(E,C){const b=yield Wl(E),A=xd(C.subscriptionOptions),k={method:"PATCH",headers:b,body:JSON.stringify(A)};let j;try{j=yield(yield fetch(`${Js(E.appConfig)}/${C.token}`,k)).json()}catch(X){throw Gn.create("token-update-failed",{errorInfo:X?.toString()})}if(j.error)throw Gn.create("token-update-failed",{errorInfo:j.error.message});if(!j.token)throw Gn.create("token-update-no-token");return j.token})).apply(this,arguments)}function uc(E,C){return Va.apply(this,arguments)}function Va(){return(Va=(0,P.Z)(function*(E,C){const A={method:"DELETE",headers:yield Wl(E)};try{const j=yield(yield fetch(`${Js(E.appConfig)}/${C}`,A)).json();if(j.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:j.error.message})}catch(k){throw Gn.create("token-unsubscribe-failed",{errorInfo:k?.toString()})}})).apply(this,arguments)}function Js({projectId:E}){return`${Eh}/projects/${E}/registrations`}function Wl(E){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*({appConfig:E,installations:C}){const b=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})})).apply(this,arguments)}function xd({p256dh:E,auth:C,endpoint:b,vapidKey:A}){const k={web:{endpoint:b,auth:C,p256dh:E}};return A!==sc&&(k.web.applicationPubKey=A),k}const kd=6048e5;function Ua(){return Ua=(0,P.Z)(function*(E){const C=yield function Fo(E,C){return Gl.apply(this,arguments)}(E.swRegistration,E.vapidKey),b={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:hi(C.getKey("auth")),p256dh:hi(C.getKey("p256dh"))},A=yield $l(E.firebaseDependencies);if(A){if(function hc(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(A.subscriptionOptions,b))return Date.now()>=A.createTime+kd?function Fd(E,C){return Xs.apply(this,arguments)}(E,{token:A.token,createTime:Date.now(),subscriptionOptions:b}):A.token;try{yield uc(E.firebaseDependencies,A.token)}catch(k){console.warn(k)}return fc(E.firebaseDependencies,b)}return fc(E.firebaseDependencies,b)}),Ua.apply(this,arguments)}function dc(){return dc=(0,P.Z)(function*(E){const C=yield $l(E.firebaseDependencies);C&&(yield uc(E.firebaseDependencies,C.token),yield function Yr(E){return ls.apply(this,arguments)}(E.firebaseDependencies));const b=yield E.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()}),dc.apply(this,arguments)}function Xs(){return Xs=(0,P.Z)(function*(E,C){try{const b=yield function ko(E,C){return lc.apply(this,arguments)}(E.firebaseDependencies,C),A=Object.assign(Object.assign({},C),{token:b,createTime:Date.now()});return yield Nd(E.firebaseDependencies,A),b}catch(b){throw yield function cc(E){return dc.apply(this,arguments)}(E),b}}),Xs.apply(this,arguments)}function fc(E,C){return us.apply(this,arguments)}function us(){return(us=(0,P.Z)(function*(E,C){const A={token:yield Fa(E,C),createTime:Date.now(),subscriptionOptions:C};return yield Nd(E,A),A.token})).apply(this,arguments)}function Gl(){return(Gl=(0,P.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jl(C)})})).apply(this,arguments)}function Ba(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function cs(E,C){if(!C.notification)return;E.notification={};const b=C.notification.title;b&&(E.notification.title=b);const A=C.notification.body;A&&(E.notification.body=A);const k=C.notification.image;k&&(E.notification.image=k);const j=C.notification.icon;j&&(E.notification.icon=j)}(C,E),function Ld(E,C){C.data&&(E.data=C.data)}(C,E),function Tr(E,C){var b,A,k,j,X;if(!(C.fcmOptions||null!==(b=C.notification)&&void 0!==b&&b.click_action))return;E.fcmOptions={};const Se=null!==(k=null===(A=C.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==k?k:null===(j=C.notification)||void 0===j?void 0:j.click_action;Se&&(E.fcmOptions.link=Se);const De=null===(X=C.fcmOptions)||void 0===X?void 0:X.analytics_label;De&&(E.fcmOptions.analyticsLabel=De)}(C,E),C}function zl(E,C){const b=[];for(let A=0;A<E.length;A++)b.push(E.charAt(A)),A<C.length&&b.push(C.charAt(A));return b.join("")}function ja(E){return Gn.create("missing-app-config-values",{valueName:E})}zl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ha{constructor(C,b,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const k=function Rt(E){if(!E||!E.options)throw ja("App Configuration Object");if(!E.name)throw ja("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:b}=E;for(const A of C)if(!b[A])throw ja(A);return{appName:E.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:k,installations:b,analyticsProvider:A}}_delete(){return Promise.resolve()}}function $a(){return($a=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(ic,{scope:Bl}),E.swRegistration.update().catch(()=>{})}catch(C){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Sr(){return(Sr=(0,P.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function zn(E){return $a.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=sc)})).apply(this,arguments)}function Zl(){return Zl=(0,P.Z)(function*(E,C){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield function Xt(E,C){return eo.apply(this,arguments)}(E,C?.vapidKey),yield function pc(E,C){return Sr.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function am(E){return Ua.apply(this,arguments)}(E)}),Zl.apply(this,arguments)}function Kl(){return(Kl=(0,P.Z)(function*(E,C,b){const A=function Ud(E){switch(E){case oc.NOTIFICATION_CLICKED:return"notification_open";case oc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:b[Vt],message_name:b[Ch],message_time:b[Rd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ds(){return ds=(0,P.Z)(function*(E,C){const b=C.data;if(!b.isFirebaseMessaging)return;E.onMessageHandler&&b.messageType===oc.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ba(b)):E.onMessageHandler.next(Ba(b)));const A=b.data;(function Vd(E){return"object"==typeof E&&!!E&&Vt in E})(A)&&"1"===A["google.c.a.e"]&&(yield function Fi(E,C,b){return Kl.apply(this,arguments)}(E,b.messageType,A))}),ds.apply(this,arguments)}const to="@firebase/messaging",qe=E=>{const C=new Ha(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function mc(E,C){return ds.apply(this,arguments)}(C,b)),C},_c=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:A=>function gc(E,C){return Zl.apply(this,arguments)}(C,A)}};function vc(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bd(){(0,z._registerComponent)(new ie.wA("messaging",qe,"PUBLIC")),(0,z._registerComponent)(new ie.wA("messaging-internal",_c,"PRIVATE")),(0,z.registerVersion)(to,"0.12.4"),(0,z.registerVersion)(to,"0.12.4","esm2017")}();const se="analytics",Ct="firebase_id",Ql="origin",Hd=6e4,cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vo="https://www.googletagmanager.com/gtag/js",qt=new oe.Yd("@firebase/analytics"),In=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ps(E){if(!E.startsWith(Vo)){const C=In.create("invalid-gtag-resource",{gtagURL:E});return qt.warn(C.message),""}return E}function Jl(E){return Promise.all(E.map(C=>C.catch(b=>b)))}function ro(){return(ro=(0,P.Z)(function*(E,C,b,A,k,j){const X=A[k];try{if(X)yield C[X];else{const De=(yield Jl(b)).find(Ve=>Ve.measurementId===k);De&&(yield C[De.appId])}}catch(Se){qt.error(Se)}E("config",k,j)})).apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(E,C,b,A,k){try{let j=[];if(k&&k.send_to){let X=k.send_to;Array.isArray(X)||(X=[X]);const Se=yield Jl(b);for(const De of X){const Ve=Se.find(et=>et.measurementId===De),rt=Ve&&C[Ve.appId];if(!rt){j=[];break}j.push(rt)}}0===j.length&&(j=Object.values(C)),yield Promise.all(j),E("event",A,k||{})}catch(j){qt.error(j)}})).apply(this,arguments)}const yc=30,Ec=new class gs{constructor(C={},b=1e3){this.throttleMetadata=C,this.intervalMillis=b}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,b){this.throttleMetadata[C]=b}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function ru(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function iu(){return(iu=(0,P.Z)(function*(E){var C;const{appId:b,apiKey:A}=E,k={method:"GET",headers:ru(A)},j=cn.replace("{app-id}",b),X=yield fetch(j,k);if(200!==X.status&&304!==X.status){let Se="";try{const De=yield X.json();null!==(C=De.error)&&void 0!==C&&C.message&&(Se=De.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:X.status,responseMessage:Se})}return X.json()})).apply(this,arguments)}function io(){return(io=(0,P.Z)(function*(E,C=Ec,b){const{appId:A,apiKey:k,measurementId:j}=E.options;if(!A)throw In.create("no-app-id");if(!k){if(j)return{measurementId:j,appId:A};throw In.create("no-api-key")}const X=C.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Gd;return setTimeout((0,P.Z)(function*(){Se.abort()}),void 0!==b?b:Hd),Ic({appId:A,apiKey:k,measurementId:j},X,Se,C)})).apply(this,arguments)}function Ic(E,C,b){return su.apply(this,arguments)}function su(){return su=(0,P.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:b},A,k=Ec){var j;const{appId:X,measurementId:Se}=E;try{yield function Wd(E,C){return new Promise((b,A)=>{const k=Math.max(C-Date.now(),0),j=setTimeout(b,k);E.addEventListener(()=>{clearTimeout(j),A(In.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(A,C)}catch(De){if(Se)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${De?.message}]`),{appId:X,measurementId:Se};throw De}try{const De=yield function wh(E){return iu.apply(this,arguments)}(E);return k.deleteThrottleMetadata(X),De}catch(De){const Ve=De;if(!function Ga(E){if(!(E instanceof Y.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Ve)){if(k.deleteThrottleMetadata(X),Se)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Ve?.message}]`),{appId:X,measurementId:Se};throw De}const rt=503===Number(null===(j=Ve?.customData)||void 0===j?void 0:j.httpStatus)?(0,Y.$s)(b,k.intervalMillis,yc):(0,Y.$s)(b,k.intervalMillis),et={throttleEndTimeMillis:Date.now()+rt,backoffCount:b+1};return k.setThrottleMetadata(X,et),qt.debug(`Calling attemptFetch again in ${rt} millis`),Ic(E,et,A,k)}}),su.apply(this,arguments)}class Gd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let za,Fn;function Li(){return(Li=(0,P.Z)(function*(E,C,b,A,k){if(k&&k.global)E("event",b,A);else{const j=yield C;E("event",b,Object.assign(Object.assign({},A),{send_to:j}))}})).apply(this,arguments)}function Ka(){return(Ka=(0,P.Z)(function*(){if(!(0,Y.hl)())return qt.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(E){return qt.warn(In.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function _s(){return _s=(0,P.Z)(function*(E,C,b,A,k,j,X){var Se;const De=function Cc(E){return io.apply(this,arguments)}(E);De.then(It=>{b[It.measurementId]=It.appId,E.options.measurementId&&It.measurementId!==E.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${It.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(It=>qt.error(It)),C.push(De);const Ve=function Bo(){return Ka.apply(this,arguments)}().then(It=>{if(It)return A.getId()}),[rt,et]=yield Promise.all([De,Ve]);(function nu(E){const C=window.document.getElementsByTagName("script");for(const b of Object.values(C))if(b.src&&b.src.includes(Vo)&&b.src.includes(E))return b;return null})(j)||function Uo(E,C){const b=function Xl(E,C){let b;return window.trustedTypes&&(b=window.trustedTypes.createPolicy(E,C)),b}("firebase-js-sdk-policy",{createScriptURL:ps}),A=document.createElement("script"),k=`${Vo}?l=${E}&id=${C}`;A.src=b?b?.createScriptURL(k):k,A.async=!0,document.head.appendChild(A)}(j,rt.measurementId),Fn&&(k("consent","default",Fn),function ms(E){Fn=E}(void 0)),k("js",new Date);const Kn=null!==(Se=X?.config)&&void 0!==Se?Se:{};return Kn[Ql]="firebase",Kn.update=!0,null!=et&&(Kn[Ct]=et),k("config",rt.measurementId,Kn),za&&(k("set",za),function Ui(E){za=E}(void 0)),rt.measurementId}),_s.apply(this,arguments)}class Ln{constructor(C){this.app=C}_delete(){return delete Qe[this.app.options.appId],Promise.resolve()}}let Qe={},wc=[];const zd={};let qa,Ut,vs="dataLayer",Dc=!1;function ji(E,C,b){!function lu(){const E=[];if((0,Y.ru)()&&E.push("This is a browser extension environment."),(0,Y.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((A,k)=>`(${k+1}) ${A}`).join(" "),b=In.create("invalid-analytics-context",{errorInfo:C});qt.warn(b.message)}}();const A=E.options.appId;if(!A)throw In.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw In.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qe[A])throw In.create("already-exists",{id:A});if(!Dc){!function or(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(vs);const{wrappedGtag:j,gtagCore:X}=function tu(E,C,b,A,k){let j=function(...X){window[A].push(arguments)};return window[k]&&"function"==typeof window[k]&&(j=window[k]),window[k]=function eu(E,C,b,A){function j(){return j=(0,P.Z)(function*(X,...Se){try{if("event"===X){const[De,Ve]=Se;yield function pi(E,C,b,A,k){return wn.apply(this,arguments)}(E,C,b,De,Ve)}else if("config"===X){const[De,Ve]=Se;yield function Ur(E,C,b,A,k,j){return ro.apply(this,arguments)}(E,C,b,A,De,Ve)}else if("consent"===X){const[De]=Se;E("consent","update",De)}else if("get"===X){const[De,Ve,rt]=Se;E("get",De,Ve,rt)}else if("set"===X){const[De]=Se;E("set",De)}else E(X,...Se)}catch(De){qt.error(De)}}),j.apply(this,arguments)}return function k(X){return j.apply(this,arguments)}}(j,E,C,b),{gtagCore:j,wrappedGtag:window[k]}}(Qe,wc,zd,vs,"gtag");Ut=j,qa=X,Dc=!0}return Qe[A]=function jo(E,C,b,A,k,j,X){return _s.apply(this,arguments)}(E,wc,zd,C,qa,vs,b),new Ln(E)}function gi(){return oo.apply(this,arguments)}function oo(){return(oo=(0,P.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}const ys="@firebase/analytics";!function bn(){(0,z._registerComponent)(new ie.wA(se,(C,{options:b})=>ji(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,z._registerComponent)(new ie.wA("analytics-internal",function E(C){try{const b=C.getProvider(se).getImmediate();return{logEvent:(A,k,j)=>function Dn(E,C,b,A){E=(0,Y.m9)(E),function ar(E,C,b,A,k){return Li.apply(this,arguments)}(Ut,Qe[E.app.options.appId],C,b,A).catch(k=>qt.error(k))}(b,A,k,j)}}catch(b){throw In.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,z.registerVersion)(ys,"0.10.0"),(0,z.registerVersion)(ys,"0.10.0","esm2017")}();var _i=R(1954),Jr=R(2631);const Qa=new class Tn extends Jr.v{}(class Tc extends _i.o{constructor(C,b){super(C,b),this.scheduler=C,this.work=b}schedule(C,b=0){return b>0?super.schedule(C,b):(this.delay=b,this.state=C,this.scheduler.flush(this),this)}execute(C,b){return b>0||this.closed?super.execute(C,b):this._execute(C,b)}requestAsyncId(C,b,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(C,b,A):(C.flush(this),0)}});var vi=R(6321),Hi=R(9397),$i=R(5137),an=R(3093);const gr=new g.GfV("7.6.1"),Xa="__angularfire_symbol__analyticsIsSupportedValue",en="__angularfire_symbol__analyticsIsSupported",zo="__angularfire_symbol__remoteConfigIsSupportedValue",Zo="__angularfire_symbol__remoteConfigIsSupported",ao="__angularfire_symbol__messagingIsSupportedValue",lo="__angularfire_symbol__messagingIsSupported";function uo(E,C,b){if(C){if(1===C.length)return C[0];const j=C.filter(X=>X.app===b);if(1===j.length)return j[0]}return b.container.getProvider(E).getImmediate({optional:!0})}globalThis[en]||(globalThis[en]=gi().then(E=>globalThis[Xa]=E).catch(()=>globalThis[Xa]=!1)),globalThis[lo]||(globalThis[lo]=vc().then(E=>globalThis[ao]=E).catch(()=>globalThis[ao]=!1)),globalThis[Zo]||(globalThis[Zo]=Oi().then(E=>globalThis[zo]=E).catch(()=>globalThis[zo]=!1));const Es=(E,C)=>{const b=C?[C]:(0,W.C6)(),A=[];return b.forEach(k=>{k.container.getProvider(E).instances.forEach(X=>{A.includes(X)||A.push(X)})}),A};function Xr(){}class Cs{constructor(C,b=Qa){this.zone=C,this.delegate=b}now(){return this.delegate.now()}schedule(C,b,A){const k=this.zone;return this.delegate.schedule(function(X){k.runGuarded(()=>{C.apply(this,[X])})},b,A)}}class Ei{constructor(C){this.zone=C,this.task=null}call(C,b){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xr,{},Xr,Xr)),b.pipe((0,Hi.b)({next:A,complete:A,error:A})).subscribe(C).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cu=(()=>{class E{constructor(b){this.ngZone=b,this.outsideAngular=b.runOutsideAngular(()=>new Cs(Zone.current)),this.insideAngular=b.run(()=>new Cs(Zone.current,vi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(b){return new(b||E)(g.LFG(g.R0b))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Is(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Zd(E){return Is(),function ws(E){return function(b){return(b=b.lift(new Ei(E.ngZone))).pipe((0,$i.R)(E.outsideAngular),(0,an.Q)(E.insideAngular))}}(Is())(E)}},229:(Be,fe,R)=>{R.d(fe,{$s:()=>rr,BH:()=>Z,DV:()=>xn,Dv:()=>js,GJ:()=>pn,L:()=>re,LL:()=>ge,Pz:()=>ae,Sg:()=>he,UG:()=>J,UI:()=>Si,US:()=>ie,Wj:()=>ut,Wl:()=>He,Yr:()=>Xi,ZB:()=>$,ZR:()=>de,aH:()=>q,b$:()=>An,cI:()=>Zt,dS:()=>Mi,eu:()=>ne,g5:()=>P,gK:()=>yt,gQ:()=>tt,h$:()=>Ee,hl:()=>ee,hu:()=>W,jU:()=>ze,lb:()=>Zr,m9:()=>Cr,ne:()=>At,p$:()=>V,pd:()=>dt,r3:()=>bt,ru:()=>ct,tV:()=>O,uI:()=>Me,ug:()=>Ri,vZ:()=>fr,w1:()=>ai,w9:()=>kt,xO:()=>bo,xb:()=>dr,z$:()=>Ce,zI:()=>le,zd:()=>$e});const g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},W=function(F,x){if(!F)throw P(x)},P=function(F){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+F)},z=function(F){const x=[];let B=0;for(let ce=0;ce<F.length;ce++){let Q=F.charCodeAt(ce);Q<128?x[B++]=Q:Q<2048?(x[B++]=Q>>6|192,x[B++]=63&Q|128):55296==(64512&Q)&&ce+1<F.length&&56320==(64512&F.charCodeAt(ce+1))?(Q=65536+((1023&Q)<<10)+(1023&F.charCodeAt(++ce)),x[B++]=Q>>18|240,x[B++]=Q>>12&63|128,x[B++]=Q>>6&63|128,x[B++]=63&Q|128):(x[B++]=Q>>12|224,x[B++]=Q>>6&63|128,x[B++]=63&Q|128)}return x},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,x){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let Q=0;Q<F.length;Q+=3){const Ne=F[Q],Je=Q+1<F.length,Ke=Je?F[Q+1]:0,_n=Q+2<F.length,nt=_n?F[Q+2]:0;let un=(15&Ke)<<2|nt>>6,Kr=63&nt;_n||(Kr=64,Je||(un=64)),ce.push(B[Ne>>2],B[(3&Ne)<<4|Ke>>4],B[un],B[Kr])}return ce.join("")},encodeString(F,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(F):this.encodeByteArray(z(F),x)},decodeString(F,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(F):function(F){const x=[];let B=0,ce=0;for(;B<F.length;){const Q=F[B++];if(Q<128)x[ce++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ne=F[B++];x[ce++]=String.fromCharCode((31&Q)<<6|63&Ne)}else if(Q>239&&Q<365){const _n=((7&Q)<<18|(63&F[B++])<<12|(63&F[B++])<<6|63&F[B++])-65536;x[ce++]=String.fromCharCode(55296+(_n>>10)),x[ce++]=String.fromCharCode(56320+(1023&_n))}else{const Ne=F[B++],Je=F[B++];x[ce++]=String.fromCharCode((15&Q)<<12|(63&Ne)<<6|63&Je)}}return x.join("")}(this.decodeStringToByteArray(F,x))},decodeStringToByteArray(F,x){this.init_();const B=x?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let Q=0;Q<F.length;){const Ne=B[F.charAt(Q++)],Ke=Q<F.length?B[F.charAt(Q)]:0;++Q;const nt=Q<F.length?B[F.charAt(Q)]:64;++Q;const pt=Q<F.length?B[F.charAt(Q)]:64;if(++Q,null==Ne||null==Ke||null==nt||null==pt)throw new oe;ce.push(Ne<<2|Ke>>4),64!==nt&&(ce.push(Ke<<4&240|nt>>2),64!==pt&&ce.push(nt<<6&192|pt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(F){const x=z(F);return ie.encodeByteArray(x,!0)},re=function(F){return Ee(F).replace(/\./g,"")},O=function(F){try{return ie.decodeString(F,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function V(F){return $(void 0,F)}function $(F,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return x}for(const B in x)!x.hasOwnProperty(B)||!we(B)||(F[B]=$(F[B],x[B]));return F}function we(F){return"__proto__"!==F}const Ie=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=F&&O(F[1]);return x&&JSON.parse(x)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},q=()=>{var F;return null===(F=Ie())||void 0===F?void 0:F.config},ae=F=>{var x;return null===(x=Ie())||void 0===x?void 0:x[`_${F}`]};class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,B)=>{this.resolve=x,this.reject=B})}wrapCallback(x){return(B,ce)=>{B?this.reject(B):this.resolve(ce),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(B):x(B,ce))}}}function he(F,x){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=x||"demo-project",Q=F.iat||0,Ne=F.sub||F.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:Q,exp:Q+3600,auth_time:Q,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},F);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(Je)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function J(){var F;const x=null===(F=Ie())||void 0===F?void 0:F.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function ct(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function An(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){const F=Ce();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Xi(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((F,x)=>{try{let B=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(ce);Q.onsuccess=()=>{Q.result.close(),B||self.indexedDB.deleteDatabase(ce),F(!0)},Q.onupgradeneeded=()=>{B=!1},Q.onerror=()=>{var Ne;x((null===(Ne=Q.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(B){x(B)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(x,B,ce){super(B),this.code=x,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(x,B,ce){this.service=x,this.serviceName=B,this.errors=ce}create(x,...B){const ce=B[0]||{},Q=`${this.service}/${x}`,Ne=this.errors[x],Je=Ne?function xe(F,x){return F.replace(Te,(B,ce)=>{const Q=x[ce];return null!=Q?String(Q):`<${ce}?>`})}(Ne,ce):"Error";return new de(Q,`${this.serviceName}: ${Je} (${Q}).`,ce)}}const Te=/\{\$([^}]+)}/g;function Zt(F){return JSON.parse(F)}function He(F){return JSON.stringify(F)}const vt=function(F){let x={},B={},ce={},Q="";try{const Ne=F.split(".");x=Zt(O(Ne[0])||""),B=Zt(O(Ne[1])||""),Q=Ne[2],ce=B.d||{},delete B.d}catch{}return{header:x,claims:B,data:ce,signature:Q}},kt=function(F){const B=vt(F).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},pn=function(F){const x=vt(F).claims;return"object"==typeof x&&!0===x.admin};function bt(F,x){return Object.prototype.hasOwnProperty.call(F,x)}function xn(F,x){if(Object.prototype.hasOwnProperty.call(F,x))return F[x]}function dr(F){for(const x in F)if(Object.prototype.hasOwnProperty.call(F,x))return!1;return!0}function Si(F,x,B){const ce={};for(const Q in F)Object.prototype.hasOwnProperty.call(F,Q)&&(ce[Q]=x.call(B,F[Q],Q,F));return ce}function fr(F,x){if(F===x)return!0;const B=Object.keys(F),ce=Object.keys(x);for(const Q of B){if(!ce.includes(Q))return!1;const Ne=F[Q],Je=x[Q];if(hr(Ne)&&hr(Je)){if(!fr(Ne,Je))return!1}else if(Ne!==Je)return!1}for(const Q of ce)if(!B.includes(Q))return!1;return!0}function hr(F){return null!==F&&"object"==typeof F}function bo(F){const x=[];for(const[B,ce]of Object.entries(F))Array.isArray(ce)?ce.forEach(Q=>{x.push(encodeURIComponent(B)+"="+encodeURIComponent(Q))}):x.push(encodeURIComponent(B)+"="+encodeURIComponent(ce));return x.length?"&"+x.join("&"):""}function $e(F){const x={};return F.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[Q,Ne]=ce.split("=");x[decodeURIComponent(Q)]=decodeURIComponent(Ne)}}),x}function dt(F){const x=F.indexOf("?");if(!x)return"";const B=F.indexOf("#",x);return F.substring(x,B>0?B:void 0)}class tt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let x=1;x<this.blockSize;++x)this.pad_[x]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(x,B){B||(B=0);const ce=this.W_;if("string"==typeof x)for(let pt=0;pt<16;pt++)ce[pt]=x.charCodeAt(B)<<24|x.charCodeAt(B+1)<<16|x.charCodeAt(B+2)<<8|x.charCodeAt(B+3),B+=4;else for(let pt=0;pt<16;pt++)ce[pt]=x[B]<<24|x[B+1]<<16|x[B+2]<<8|x[B+3],B+=4;for(let pt=16;pt<80;pt++){const un=ce[pt-3]^ce[pt-8]^ce[pt-14]^ce[pt-16];ce[pt]=4294967295&(un<<1|un>>>31)}let nt,Kt,Q=this.chain_[0],Ne=this.chain_[1],Je=this.chain_[2],Ke=this.chain_[3],_n=this.chain_[4];for(let pt=0;pt<80;pt++){pt<40?pt<20?(nt=Ke^Ne&(Je^Ke),Kt=1518500249):(nt=Ne^Je^Ke,Kt=1859775393):pt<60?(nt=Ne&Je|Ke&(Ne|Je),Kt=2400959708):(nt=Ne^Je^Ke,Kt=3395469782);const un=(Q<<5|Q>>>27)+nt+_n+Kt+ce[pt]&4294967295;_n=Ke,Ke=Je,Je=4294967295&(Ne<<30|Ne>>>2),Ne=Q,Q=un}this.chain_[0]=this.chain_[0]+Q&4294967295,this.chain_[1]=this.chain_[1]+Ne&4294967295,this.chain_[2]=this.chain_[2]+Je&4294967295,this.chain_[3]=this.chain_[3]+Ke&4294967295,this.chain_[4]=this.chain_[4]+_n&4294967295}update(x,B){if(null==x)return;void 0===B&&(B=x.length);const ce=B-this.blockSize;let Q=0;const Ne=this.buf_;let Je=this.inbuf_;for(;Q<B;){if(0===Je)for(;Q<=ce;)this.compress_(x,Q),Q+=this.blockSize;if("string"==typeof x){for(;Q<B;)if(Ne[Je]=x.charCodeAt(Q),++Je,++Q,Je===this.blockSize){this.compress_(Ne),Je=0;break}}else for(;Q<B;)if(Ne[Je]=x[Q],++Je,++Q,Je===this.blockSize){this.compress_(Ne),Je=0;break}}this.inbuf_=Je,this.total_+=B}digest(){const x=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Q=this.blockSize-1;Q>=56;Q--)this.buf_[Q]=255&B,B/=256;this.compress_(this.buf_);let ce=0;for(let Q=0;Q<5;Q++)for(let Ne=24;Ne>=0;Ne-=8)x[ce]=this.chain_[Q]>>Ne&255,++ce;return x}}function At(F,x){const B=new $t(F,x);return B.subscribe.bind(B)}class $t{constructor(x,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{x(this)}).catch(ce=>{this.error(ce)})}next(x){this.forEachObserver(B=>{B.next(x)})}error(x){this.forEachObserver(B=>{B.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,B,ce){let Q;if(void 0===x&&void 0===B&&void 0===ce)throw new Error("Missing Observer.");Q=function wt(F,x){if("object"!=typeof F||null===F)return!1;for(const B of x)if(B in F&&"function"==typeof F[B])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:B,complete:ce},void 0===Q.next&&(Q.next=Mn),void 0===Q.error&&(Q.error=Mn),void 0===Q.complete&&(Q.complete=Mn);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),Ne}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,x)}sendOne(x,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{B(this.observers[x])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}const js=function(F,x,B,ce){let Q;if(ce<x?Q="at least "+x:ce>B&&(Q=0===B?"none":"no more than "+B),Q)throw new Error(F+" failed: Was called with "+ce+(1===ce?" argument.":" arguments.")+" Expects "+Q+".")};function yt(F,x){return`${F} failed: ${x} argument `}function ut(F,x,B,ce){if((!ce||B)&&"function"!=typeof B)throw new Error(yt(F,x)+"must be a valid function.")}function Zr(F,x,B,ce){if((!ce||B)&&("object"!=typeof B||null===B))throw new Error(yt(F,x)+"must be a valid context object.")}const Mi=function(F){const x=[];let B=0;for(let ce=0;ce<F.length;ce++){let Q=F.charCodeAt(ce);if(Q>=55296&&Q<=56319){const Ne=Q-55296;ce++,W(ce<F.length,"Surrogate pair missing trail surrogate."),Q=65536+(Ne<<10)+(F.charCodeAt(ce)-56320)}Q<128?x[B++]=Q:Q<2048?(x[B++]=Q>>6|192,x[B++]=63&Q|128):Q<65536?(x[B++]=Q>>12|224,x[B++]=Q>>6&63|128,x[B++]=63&Q|128):(x[B++]=Q>>18|240,x[B++]=Q>>12&63|128,x[B++]=Q>>6&63|128,x[B++]=63&Q|128)}return x},Ri=function(F){let x=0;for(let B=0;B<F.length;B++){const ce=F.charCodeAt(B);ce<128?x++:ce<2048?x+=2:ce>=55296&&ce<=56319?(x+=4,B++):x+=3}return x},Pi=1e3,Lr=2,gn=144e5,mn=.5;function rr(F,x=Pi,B=Lr){const ce=x*Math.pow(B,F),Q=Math.round(mn*ce*(Math.random()-.5)*2);return Math.min(gn,ce+Q)}function Cr(F){return F&&F._delegate?F._delegate:F}},6622:(Be,fe,R)=>{var g=R(5879);let W=null;function P(){return W}class Y{}const ie=new g.OlP("DocumentToken");let oe=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return(0,g.f3M)(re)},providedIn:"platform"}),t})();const Ee=new g.OlP("Location Initialized");let re=(()=>{var e;class t extends oe{constructor(){super(),this._doc=(0,g.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(i){const a=P().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){const a=P().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,a,c){this._history.pushState(i,a,c)}replaceState(i,a,c){this._history.replaceState(i,a,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function O(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function V(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function $(e){return e&&"?"!==e[0]?"?"+e:e}let we=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return(0,g.f3M)(Pe)},providedIn:"root"}),t})();const me=new g.OlP("appBaseHref");let Pe=(()=>{var e;class t extends we{constructor(i,a){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return O(this._baseHref,i)}path(i=!1){const a=this._platformLocation.pathname+$(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,h){const v=this.prepareExternalUrl(c+$(h));this._platformLocation.pushState(i,a,v)}replaceState(i,a,c,h){const v=this.prepareExternalUrl(c+$(h));this._platformLocation.replaceState(i,a,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(oe),g.LFG(me,8))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ve=(()=>{var e;class t extends we{constructor(i,a){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(i){const a=O(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,c,h){let v=this.prepareExternalUrl(c+$(h));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(i,a,v)}replaceState(i,a,c,h){let v=this.prepareExternalUrl(c+$(h));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(i,a,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(oe),g.LFG(me,8))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})(),Ae=(()=>{var e;class t{constructor(i){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const a=this._locationStrategy.getBaseHref();this._basePath=function q(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(V(je(a))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+$(a))}normalize(i){return t.stripTrailingSlash(function We(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,je(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._locationStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$(a)),c)}replaceState(i,a="",c=null){this._locationStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$(a)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)})),()=>{const a=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(a,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}}return(e=t).normalizeQueryParams=$,e.joinWithSlash=O,e.stripTrailingSlash=V,e.\u0275fac=function(i){return new(i||e)(g.LFG(we))},e.\u0275prov=g.Yz7({token:e,factory:function(){return function Ie(){return new Ae((0,g.LFG)(we))}()},providedIn:"root"}),t})();function je(e){return e.replace(/\/index.html$/,"")}var Ce=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ce||{}),Me=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Me||{}),J=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(J||{}),ze=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(ze||{});function ne(e,t){return bt((0,g.cg1)(e)[g.wAp.DateFormat],t)}function le(e,t){return bt((0,g.cg1)(e)[g.wAp.TimeFormat],t)}function ue(e,t){return bt((0,g.cg1)(e)[g.wAp.DateTimeFormat],t)}function de(e,t){const n=(0,g.cg1)(e),i=n[g.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ze.CurrencyDecimal)return n[g.wAp.NumberSymbols][ze.Decimal];if(t===ze.CurrencyGroup)return n[g.wAp.NumberSymbols][ze.Group]}return i}function it(e){if(!e[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function xn(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const hr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ai={},bo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $e=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}($e||{}),dt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(dt||{}),tt=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(tt||{});function At(e,t,n,i){let a=function x(e){if(ce(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[a,c=1,h=1]=e.split("-").map(v=>+v);return $t(a,c-1,h)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(hr))return function B(e){const t=new Date(0);let n=0,i=0;const a=e[8]?t.setUTCFullYear:t.setFullYear,c=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),a.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const h=Number(e[4]||0)-n,v=Number(e[5]||0)-i,I=Number(e[6]||0),w=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return c.call(t,h,v,I,w),t}(i)}const t=new Date(e);if(!ce(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=tr(n,t)||t;let v,h=[];for(;t;){if(v=bo.exec(t),!v){h.push(t);break}{h=h.concat(v.slice(1));const M=h.pop();if(!M)break;t=M}}let I=a.getTimezoneOffset();i&&(I=Er(i,I),a=function F(e,t,n){const i=n?-1:1,a=e.getTimezoneOffset();return function Cr(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,i*(Er(t,a)-a))}(a,i,!0));let w="";return h.forEach(M=>{const S=function nn(e){if(rr[e])return rr[e];let t;switch(e){case"G":case"GG":case"GGG":t=ut(tt.Eras,Me.Abbreviated);break;case"GGGG":t=ut(tt.Eras,Me.Wide);break;case"GGGGG":t=ut(tt.Eras,Me.Narrow);break;case"y":t=yt(dt.FullYear,1,0,!1,!0);break;case"yy":t=yt(dt.FullYear,2,0,!0,!0);break;case"yyy":t=yt(dt.FullYear,3,0,!1,!0);break;case"yyyy":t=yt(dt.FullYear,4,0,!1,!0);break;case"Y":t=mn(1);break;case"YY":t=mn(2,!0);break;case"YYY":t=mn(3);break;case"YYYY":t=mn(4);break;case"M":case"L":t=yt(dt.Month,1,1);break;case"MM":case"LL":t=yt(dt.Month,2,1);break;case"MMM":t=ut(tt.Months,Me.Abbreviated);break;case"MMMM":t=ut(tt.Months,Me.Wide);break;case"MMMMM":t=ut(tt.Months,Me.Narrow);break;case"LLL":t=ut(tt.Months,Me.Abbreviated,Ce.Standalone);break;case"LLLL":t=ut(tt.Months,Me.Wide,Ce.Standalone);break;case"LLLLL":t=ut(tt.Months,Me.Narrow,Ce.Standalone);break;case"w":t=gn(1);break;case"ww":t=gn(2);break;case"W":t=gn(1,!0);break;case"d":t=yt(dt.Date,1);break;case"dd":t=yt(dt.Date,2);break;case"c":case"cc":t=yt(dt.Day,1);break;case"ccc":t=ut(tt.Days,Me.Abbreviated,Ce.Standalone);break;case"cccc":t=ut(tt.Days,Me.Wide,Ce.Standalone);break;case"ccccc":t=ut(tt.Days,Me.Narrow,Ce.Standalone);break;case"cccccc":t=ut(tt.Days,Me.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":t=ut(tt.Days,Me.Abbreviated);break;case"EEEE":t=ut(tt.Days,Me.Wide);break;case"EEEEE":t=ut(tt.Days,Me.Narrow);break;case"EEEEEE":t=ut(tt.Days,Me.Short);break;case"a":case"aa":case"aaa":t=ut(tt.DayPeriods,Me.Abbreviated);break;case"aaaa":t=ut(tt.DayPeriods,Me.Wide);break;case"aaaaa":t=ut(tt.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":t=ut(tt.DayPeriods,Me.Abbreviated,Ce.Standalone,!0);break;case"bbbb":t=ut(tt.DayPeriods,Me.Wide,Ce.Standalone,!0);break;case"bbbbb":t=ut(tt.DayPeriods,Me.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":t=ut(tt.DayPeriods,Me.Abbreviated,Ce.Format,!0);break;case"BBBB":t=ut(tt.DayPeriods,Me.Wide,Ce.Format,!0);break;case"BBBBB":t=ut(tt.DayPeriods,Me.Narrow,Ce.Format,!0);break;case"h":t=yt(dt.Hours,1,-12);break;case"hh":t=yt(dt.Hours,2,-12);break;case"H":t=yt(dt.Hours,1);break;case"HH":t=yt(dt.Hours,2);break;case"m":t=yt(dt.Minutes,1);break;case"mm":t=yt(dt.Minutes,2);break;case"s":t=yt(dt.Seconds,1);break;case"ss":t=yt(dt.Seconds,2);break;case"S":t=yt(dt.FractionalSeconds,1);break;case"SS":t=yt(dt.FractionalSeconds,2);break;case"SSS":t=yt(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Mi($e.Short);break;case"ZZZZZ":t=Mi($e.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Mi($e.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Mi($e.Long);break;default:return null}return rr[e]=t,t}(M);w+=S?S(a,n,I):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function $t(e,t,n){const i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function tr(e,t){const n=function An(e){return(0,g.cg1)(e)[g.wAp.LocaleId]}(e);if(Ai[n]=Ai[n]||{},Ai[n][t])return Ai[n][t];let i="";switch(t){case"shortDate":i=ne(e,J.Short);break;case"mediumDate":i=ne(e,J.Medium);break;case"longDate":i=ne(e,J.Long);break;case"fullDate":i=ne(e,J.Full);break;case"shortTime":i=le(e,J.Short);break;case"mediumTime":i=le(e,J.Medium);break;case"longTime":i=le(e,J.Long);break;case"fullTime":i=le(e,J.Full);break;case"short":const a=tr(e,"shortTime"),c=tr(e,"shortDate");i=wt(ue(e,J.Short),[a,c]);break;case"medium":const h=tr(e,"mediumTime"),v=tr(e,"mediumDate");i=wt(ue(e,J.Medium),[h,v]);break;case"long":const I=tr(e,"longTime"),w=tr(e,"longDate");i=wt(ue(e,J.Long),[I,w]);break;case"full":const M=tr(e,"fullTime"),S=tr(e,"fullDate");i=wt(ue(e,J.Full),[M,S])}return i&&(Ai[n][t]=i),i}function wt(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return null!=t&&i in t?t[i]:n})),e}function Mn(e,t,n="-",i,a){let c="";(e<0||a&&e<=0)&&(a?e=1-e:(e=-e,c=n));let h=String(e);for(;h.length<t;)h="0"+h;return i&&(h=h.slice(h.length-t)),c+h}function yt(e,t,n=0,i=!1,a=!1){return function(c,h){let v=function nr(e,t){switch(e){case dt.FullYear:return t.getFullYear();case dt.Month:return t.getMonth();case dt.Date:return t.getDate();case dt.Hours:return t.getHours();case dt.Minutes:return t.getMinutes();case dt.Seconds:return t.getSeconds();case dt.FractionalSeconds:return t.getMilliseconds();case dt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,c);if((n>0||v>-n)&&(v+=n),e===dt.Hours)0===v&&-12===n&&(v=12);else if(e===dt.FractionalSeconds)return function js(e,t){return Mn(e,3).substring(0,t)}(v,t);const I=de(h,ze.MinusSign);return Mn(v,t,I,i,a)}}function ut(e,t,n=Ce.Format,i=!1){return function(a,c){return function Zr(e,t,n,i,a,c){switch(n){case tt.Months:return function tn(e,t,n){const i=(0,g.cg1)(e),c=bt([i[g.wAp.MonthsFormat],i[g.wAp.MonthsStandalone]],t);return bt(c,n)}(t,a,i)[e.getMonth()];case tt.Days:return function ai(e,t,n){const i=(0,g.cg1)(e),c=bt([i[g.wAp.DaysFormat],i[g.wAp.DaysStandalone]],t);return bt(c,n)}(t,a,i)[e.getDay()];case tt.DayPeriods:const h=e.getHours(),v=e.getMinutes();if(c){const w=function xt(e){const t=(0,g.cg1)(e);return it(t),(t[g.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?xn(i):[xn(i[0]),xn(i[1])])}(t),M=function kt(e,t,n){const i=(0,g.cg1)(e);it(i);const c=bt([i[g.wAp.ExtraData][0],i[g.wAp.ExtraData][1]],t)||[];return bt(c,n)||[]}(t,a,i),S=w.findIndex(U=>{if(Array.isArray(U)){const[G,pe]=U,Ue=h>=G.hours&&v>=G.minutes,at=h<pe.hours||h===pe.hours&&v<pe.minutes;if(G.hours<pe.hours){if(Ue&&at)return!0}else if(Ue||at)return!0}else if(U.hours===h&&U.minutes===v)return!0;return!1});if(-1!==S)return M[S]}return function er(e,t,n){const i=(0,g.cg1)(e),c=bt([i[g.wAp.DayPeriodsFormat],i[g.wAp.DayPeriodsStandalone]],t);return bt(c,n)}(t,a,i)[h<12?0:1];case tt.Eras:return function Xi(e,t){return bt((0,g.cg1)(e)[g.wAp.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(a,c,e,t,n,i)}}function Mi(e){return function(t,n,i){const a=-1*i,c=de(n,ze.MinusSign),h=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case $e.Short:return(a>=0?"+":"")+Mn(h,2,c)+Mn(Math.abs(a%60),2,c);case $e.ShortGMT:return"GMT"+(a>=0?"+":"")+Mn(h,1,c);case $e.Long:return"GMT"+(a>=0?"+":"")+Mn(h,2,c)+":"+Mn(Math.abs(a%60),2,c);case $e.Extended:return 0===i?"Z":(a>=0?"+":"")+Mn(h,2,c)+":"+Mn(Math.abs(a%60),2,c);default:throw new Error(`Unknown zone width "${e}"`)}}}const Ri=0,yr=4;function Lr(e){return $t(e.getFullYear(),e.getMonth(),e.getDate()+(yr-e.getDay()))}function gn(e,t=!1){return function(n,i){let a;if(t){const c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,h=n.getDate();a=1+Math.floor((h+c)/7)}else{const c=Lr(n),h=function Pi(e){const t=$t(e,Ri,1).getDay();return $t(e,0,1+(t<=yr?yr:yr+7)-t)}(c.getFullYear()),v=c.getTime()-h.getTime();a=1+Math.round(v/6048e5)}return Mn(a,e,de(i,ze.MinusSign))}}function mn(e,t=!1){return function(n,i){return Mn(Lr(n).getFullYear(),e,de(i,ze.MinusSign),t)}}const rr={};function Er(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ce(e){return e instanceof Date&&!isNaN(e.valueOf())}const Hs=/\s+/,Rl=[];let $s=(()=>{var e;class t{constructor(i,a,c,h){this._iterableDiffers=i,this._keyValueDiffers=a,this._ngEl=c,this._renderer=h,this.initialClasses=Rl,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(Hs):Rl}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(Hs):i}ngDoCheck(){for(const a of this.initialClasses)this._updateState(a,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const a of i)this._updateState(a,!0);else if(null!=i)for(const a of Object.keys(i))this._updateState(a,!!i[a]);this._applyStateDiff()}_updateState(i,a){const c=this.stateMap.get(i);void 0!==c?(c.enabled!==a&&(c.changed=!0,c.enabled=a),c.touched=!0):this.stateMap.set(i,{enabled:a,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const a=i[0],c=i[1];c.changed?(this._toggleClass(a,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(a,!1),this.stateMap.delete(a)),c.touched=!1}}_toggleClass(i,a){(i=i.trim()).length>0&&i.split(Hs).forEach(c=>{a?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(e=t).\u0275fac=function(i){return new(i||e)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},e.\u0275dir=g.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class es{constructor(t,n,i,a){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let So=(()=>{var e;class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,a,c){this._viewContainer=i,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const a=this._viewContainer;i.forEachOperation((c,h,v)=>{if(null==c.previousIndex)a.createEmbeddedView(this._template,new es(c.item,this._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)a.remove(null===h?void 0:h);else if(null!==h){const I=a.get(h);a.move(I,v),Nl(I,c)}});for(let c=0,h=a.length;c<h;c++){const I=a.get(c).context;I.index=c,I.count=h,I.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{Nl(a.get(c.currentIndex),c)})}static ngTemplateContextGuard(i,a){return!0}}return(e=t).\u0275fac=function(i){return new(i||e)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},e.\u0275dir=g.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Nl(e,t){e.context.$implicit=t.item}const Qt=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Bn=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ui=(()=>{var e;class t{constructor(i,a,c){this.locale=i,this.defaultTimezone=a,this.defaultOptions=c}transform(i,a,c,h){if(null==i||""===i||i!=i)return null;try{return At(i,a??this.defaultOptions?.dateFormat??"mediumDate",h||this.locale,c??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(v){throw function wr(e,t){return new g.vHH(2100,!1)}()}}}return(e=t).\u0275fac=function(i){return new(i||e)(g.Y36(g.soG,16),g.Y36(Qt,24),g.Y36(Bn,24))},e.\u0275pipe=g.Yjl({name:"date",type:e,pure:!0,standalone:!0}),t})(),Gt=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({}),t})();function Ni(e){return"server"===e}let vn=(()=>{var e;class t{}return(e=t).\u0275prov=(0,g.Yz7)({token:e,providedIn:"root",factory:()=>new di((0,g.LFG)(ie),window)}),t})();class di{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function fi(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const c=a.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}a=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],a-c[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hc extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ba extends hc{static makeCurrent(){!function z(e){W||(W=e)}(new Ba)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function Ld(){return cs=cs||document.querySelector("base"),cs?cs.getAttribute("href"):null}();return null==n?null:function Vd(e){Tr=Tr||document.createElement("a"),Tr.setAttribute("href",e);const t=Tr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qr(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[a,c]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Tr,cs=null,Rt=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();const ja=new g.OlP("EventManagerPlugins");let Ha=(()=>{var e;class t{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>{c.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){let a=this._eventNameToPlugin.get(i);if(a)return a;if(a=this._plugins.find(h=>h.supports(i)),!a)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(i,a),a}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ja),g.LFG(g.R0b))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();class zn{constructor(t){this._doc=t}}const $a="ng-app-id";let pc=(()=>{var e;class t{constructor(i,a,c,h={}){this.doc=i,this.appId=a,this.nonce=c,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ni(h),this.resetHostNodes()}addStyles(i){for(const a of i)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(i){for(const a of i)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(a=>a.remove()),i.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const a of this.getAllStyles())this.addStyleToHost(i,a)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const a of this.hostNodes)this.addStyleToHost(a,i)}onStyleRemoved(i){const a=this.styleRef;a.get(i)?.elements?.forEach(c=>c.remove()),a.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${$a}="${this.appId}"]`);if(i?.length){const a=new Map;return i.forEach(c=>{null!=c.textContent&&a.set(c.textContent,c)}),a}return null}changeUsageCount(i,a){const c=this.styleRef;if(c.has(i)){const h=c.get(i);return h.usage+=a,h.usage}return c.set(i,{usage:a,elements:[]}),a}getStyleElement(i,a){const c=this.styleNodesInDOM,h=c?.get(a);if(h?.parentNode===i)return c.delete(a),h.removeAttribute($a),h;{const v=this.doc.createElement("style");return this.nonce&&v.setAttribute("nonce",this.nonce),v.textContent=a,this.platformIsServer&&v.setAttribute($a,this.appId),v}}addStyleToHost(i,a){const c=this.getStyleElement(i,a);i.appendChild(c);const h=this.styleRef,v=h.get(a)?.elements;v?v.push(c):h.set(a,{elements:[c],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ie),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();const Sr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xt=/%COMP%/g,Kl=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ds(e,t){return t.map(n=>n.replace(Xt,e))}let to=(()=>{var e;class t{constructor(i,a,c,h,v,I,w,M=null){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.removeStylesOnCompDestroy=h,this.doc=v,this.platformId=I,this.ngZone=w,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Ni(I),this.defaultRenderer=new Wa(i,v,w,this.platformIsServer)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===g.ifc.ShadowDom&&(a={...a,encapsulation:g.ifc.Emulated});const c=this.getOrCreateRenderer(i,a);return c instanceof jd?c.applyToHost(i):c instanceof Lo&&c.applyStyles(),c}getOrCreateRenderer(i,a){const c=this.rendererByCompId;let h=c.get(a.id);if(!h){const v=this.doc,I=this.ngZone,w=this.eventManager,M=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,U=this.platformIsServer;switch(a.encapsulation){case g.ifc.Emulated:h=new jd(w,M,a,this.appId,S,v,I,U);break;case g.ifc.ShadowDom:return new vc(w,M,i,a,v,I,this.nonce,U);default:h=new Lo(w,M,a,S,v,I,U)}c.set(a.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(Ha),g.LFG(pc),g.LFG(g.AFp),g.LFG(Kl),g.LFG(ie),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();class Wa{constructor(t,n,i,a){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Sr[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Bd(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Bd(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new g.vHH(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,a){if(a){n=a+":"+n;const c=Sr[a];c?t.setAttributeNS(c,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const a=Sr[i];a?t.removeAttributeNS(a,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,a){a&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(n,i,a&g.JOm.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&g.JOm.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=P().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Bd(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class vc extends Wa{constructor(t,n,i,a,c,h,v,I){super(t,c,h,I),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=ds(a.id,a.styles);for(const M of w){const S=document.createElement("style");v&&S.setAttribute("nonce",v),S.textContent=M,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lo extends Wa{constructor(t,n,i,a,c,h,v,I){super(t,c,h,v),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=I?ds(I,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jd extends Lo{constructor(t,n,i,a,c,h,v,I){const w=a+"-"+i.id;super(t,n,i,c,h,v,I,w),this.contentAttr=function Ud(e){return"_ngcontent-%COMP%".replace(Xt,e)}(w),this.hostAttr=function mc(e){return"_nghost-%COMP%".replace(Xt,e)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let fs=(()=>{var e;class t extends zn{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ie))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();const no=["alt","control","meta","shift"],hs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ih={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ql=(()=>{var e;class t extends zn{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,a,c){const h=t.parseEventName(a),v=t.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(i,h.domEventName,v))}static parseEventName(i){const a=i.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const h=t._normalizeKey(a.pop());let v="",I=a.indexOf("code");if(I>-1&&(a.splice(I,1),v="code."),no.forEach(M=>{const S=a.indexOf(M);S>-1&&(a.splice(S,1),v+=M+".")}),v+=h,0!=a.length||0===h.length)return null;const w={};return w.domEventName=c,w.fullKey=v,w}static matchEventFullKeyCode(i,a){let c=hs[i.key]||i.key,h="";return a.indexOf("code.")>-1&&(c=i.code,h="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),no.forEach(v=>{v!==c&&(0,Ih[v])(i)&&(h+=v+".")}),h+=c,h===a)}static eventCallback(i,a,c){return h=>{t.matchEventFullKeyCode(h,i)&&c.runGuarded(()=>a(h))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ie))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();const qt=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Ql(){Ba.makeCurrent()},multi:!0},{provide:ie,useFactory:function cn(){return(0,g.RDi)(document),document},deps:[]}]),Vr=new g.OlP(""),In=[{provide:g.rWj,useClass:class zl{addToWindow(t){g.dqk.getAngularTestability=(i,a=!0)=>{const c=t.findTestabilityInTree(i,a);if(null==c)throw new g.vHH(5103,!1);return c},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(i=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,h=!1;const v=function(I){h=h||I,c--,0==c&&i(h)};a.forEach(I=>{I.whenStable(v)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?P().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],ps=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Hd(){return new g.qLn},deps:[]},{provide:ja,useClass:fs,multi:!0,deps:[ie,g.R0b,g.Lbi]},{provide:ja,useClass:ql,multi:!0,deps:[ie]},to,pc,Ha,{provide:g.FYo,useExisting:to},{provide:class br{},useClass:Rt,deps:[]},[]];let Jl=(()=>{var e;class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:g.AFp,useValue:i.appId}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(Vr,12))},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[...ps,...In],imports:[Gt,g.hGG]}),t})(),ro=(()=>{var e;class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ie))},e.\u0275prov=g.Yz7({token:e,factory:function(i){let a=null;return a=i?new i:function Ur(){return new ro((0,g.LFG)(ie))}(),a},providedIn:"root"}),t})();typeof window<"u"&&window;var lr=R(5592),so=R(4674),Nt=R(2459),Ge=R(2096),Fn=R(5619);const{isArray:ms}=Array,{getPrototypeOf:Ui,prototype:Bo,keys:Ka}=Object;var Ln=R(2737),Qe=R(7398);const{isArray:wc}=Array;var Bi=R(4564);var Ut=R(8251),Dc=R(7103);function au(...e){const t=(0,Bi.yG)(e),n=(0,Bi.jO)(e),{args:i,keys:a}=function jo(e){if(1===e.length){const t=e[0];if(ms(t))return{args:t,keys:null};if(function _s(e){return e&&"object"==typeof e&&Ui(e)===Bo}(t)){const n=Ka(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return(0,Nt.D)([],t);const c=new lr.y(function lu(e,t,n=Ln.y){return i=>{ji(t,()=>{const{length:a}=e,c=new Array(a);let h=a,v=a;for(let I=0;I<a;I++)ji(t,()=>{const w=(0,Nt.D)(e[I],t);let M=!1;w.subscribe((0,Ut.x)(i,S=>{c[I]=S,M||(M=!0,v--),v||i.next(n(c.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,a?h=>function qa(e,t){return e.reduce((n,i,a)=>(n[i]=t[a],n),{})}(a,h):Ln.y));return n?c.pipe(function vs(e){return(0,Qe.U)(t=>function zd(e,t){return wc(t)?e(...t):e(t)}(e,t))}(n)):c}function ji(e,t,n){e?(0,Dc.f)(n,e,t):t()}const Qr=(0,R(2306).d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var gi=R(7537);function Ho(...e){return function oo(){return(0,gi.J)(1)}()((0,Nt.D)(e,(0,Bi.yG)(e)))}var $o=R(4829);function Wo(e){return new lr.y(t=>{(0,$o.Xf)(e()).subscribe(t)})}var bc=R(8407);function Zn(e,t){const n=(0,so.m)(e)?e:()=>e,i=a=>a.error(n());return new lr.y(t?a=>t.schedule(i,0,a):i)}var mi=R(6232),Go=R(7394),Dn=R(9360);function Ya(){return(0,Dn.e)((e,t)=>{let n=null;e._refCount++;const i=(0,Ut.x)(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const a=e._connection,c=n;n=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class ys extends lr.y{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Dn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Go.w0;const n=this.getSubject();t.add(this.source.subscribe((0,Ut.x)(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Go.w0.EMPTY)}return t}refCount(){return Ya()(this)}}var Ar=R(8645),bn=R(4664);function _i(e){return e<=0?()=>mi.E:(0,Dn.e)((t,n)=>{let i=0;t.subscribe((0,Ut.x)(n,a=>{++i<=e&&(n.next(a),e<=i&&n.complete())}))})}function Jr(e,t){return(0,Dn.e)((n,i)=>{let a=0;n.subscribe((0,Ut.x)(i,c=>e.call(t,c,a++)&&i.next(c)))})}var Tn=R(1631);function Qa(e){return(0,Dn.e)((t,n)=>{let i=!1;t.subscribe((0,Ut.x)(n,a=>{i=!0,n.next(a)},()=>{i||n.next(e),n.complete()}))})}function Ja(e=vi){return(0,Dn.e)((t,n)=>{let i=!1;t.subscribe((0,Ut.x)(n,a=>{i=!0,n.next(a)},()=>i?n.complete():n.error(e())))})}function vi(){return new Qr}function Hi(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Jr((a,c)=>e(a,c,i)):Ln.y,_i(1),n?Qa(t):Ja(()=>new Qr))}function $i(e,t){return(0,so.m)(t)?(0,Tn.z)(e,t,1):(0,Tn.z)(e,1)}var an=R(9397);function gr(e){return(0,Dn.e)((t,n)=>{let c,i=null,a=!1;i=t.subscribe((0,Ut.x)(n,void 0,void 0,h=>{c=(0,$o.Xf)(e(h,gr(e)(t))),i?(i.unsubscribe(),i=null,c.subscribe(n)):a=!0})),a&&(i.unsubscribe(),i=null,c.subscribe(n))})}function en(e,t){return(0,Dn.e)(function Xa(e,t,n,i,a){return(c,h)=>{let v=n,I=t,w=0;c.subscribe((0,Ut.x)(h,M=>{const S=w++;I=v?e(I,M,S):(v=!0,M),i&&h.next(I)},a&&(()=>{v&&h.next(I),h.complete()})))}}(e,t,arguments.length>=2,!0))}function zo(e){return e<=0?()=>mi.E:(0,Dn.e)((t,n)=>{let i=[];t.subscribe((0,Ut.x)(n,a=>{i.push(a),e<i.length&&i.shift()},()=>{for(const a of i)n.next(a);n.complete()},void 0,()=>{i=null}))})}function lo(e){return(0,Dn.e)((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}var Ko=R(2420);const Xe="primary",yi=Symbol("RouteTitle");class uo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Es(e){return new uo(e)}function Xr(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const a={};for(let c=0;c<i.length;c++){const h=i[c],v=e[c];if(h.startsWith(":"))a[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:e.slice(0,i.length),posParams:a}}function Ei(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let a;for(let c=0;c<n.length;c++)if(a=n[c],!cu(e[a],t[a]))return!1;return!0}function cu(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((a,c)=>i[c]===a)}return e===t}function Is(e){return e.length>0?e[e.length-1]:null}function ei(e){return function Vi(e){return!!e&&(e instanceof lr.y||(0,so.m)(e.lift)&&(0,so.m)(e.subscribe))}(e)?e:(0,g.QGY)(e)?(0,Nt.D)(Promise.resolve(e)):(0,Ge.of)(e)}const co={exact:function ws(e,t,n){if(!X(e.segments,t.segments)||!C(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!ws(e.children[i],t.children[i],n))return!1;return!0},subset:qd},Sh={exact:function Zd(e,t){return Ei(e,t)},subset:function Kd(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cu(e[n],t[n]))},ignored:()=>!0};function Ah(e,t,n){return co[n.paths](e.root,t.root,n.matrixParams)&&Sh[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function qd(e,t,n){return E(e,t,t.segments,n)}function E(e,t,n,i){if(e.segments.length>n.length){const a=e.segments.slice(0,n.length);return!(!X(a,n)||t.hasChildren()||!C(a,n,i))}if(e.segments.length===n.length){if(!X(e.segments,n)||!C(e.segments,n,i))return!1;for(const a in t.children)if(!e.children[a]||!qd(e.children[a],t.children[a],i))return!1;return!0}{const a=n.slice(0,e.segments.length),c=n.slice(e.segments.length);return!!(X(e.segments,a)&&C(e.segments,a,i)&&e.children[Xe])&&E(e.children[Xe],t,c,i)}}function C(e,t,n){return t.every((i,a)=>Sh[n](e[a].parameters,i.parameters))}class b{constructor(t=new A([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Es(this.queryParams)),this._queryParamMap}toString(){return rt.serialize(this)}}class A{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class k{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Es(this.parameters)),this._parameterMap}toString(){return du(this)}}function X(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let De=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return new Ve},providedIn:"root"}),t})();class Ve{parse(t){const n=new dm(t);return new b(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Kn(t.root,!0)}`,i=function um(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(a=>`${Br(n)}=${Br(a)}`).join("&"):`${Br(n)}=${Br(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function Wi(e){return encodeURI(e)}(t.fragment)}`:""}`}}const rt=new Ve;function et(e){return e.segments.map(t=>du(t)).join("/")}function Kn(e,t){if(!e.hasChildren())return et(e);if(t){const n=e.children[Xe]?Kn(e.children[Xe],!1):"",i=[];return Object.entries(e.children).forEach(([a,c])=>{a!==Xe&&i.push(`${a}:${Kn(c,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Se(e,t){let n=[];return Object.entries(e.children).forEach(([i,a])=>{i===Xe&&(n=n.concat(t(a,i)))}),Object.entries(e.children).forEach(([i,a])=>{i!==Xe&&(n=n.concat(t(a,i)))}),n}(e,(i,a)=>a===Xe?[Kn(e.children[Xe],!1)]:[`${a}:${Kn(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Xe]?`${et(e)}/${n[0]}`:`${et(e)}/(${n.join("//")})`}}function It(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Br(e){return It(e).replace(/%3B/gi,";")}function Gi(e){return It(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(e){return decodeURIComponent(e)}function ti(e){return qn(e.replace(/\+/g,"%20"))}function du(e){return`${Gi(e.path)}${function Yd(e){return Object.keys(e).map(t=>`;${Gi(t)}=${Gi(e[t])}`).join("")}(e.parameters)}`}const dy=/^[^\/()?;#]+/;function fu(e){const t=e.match(dy);return t?t[0]:""}const Sc=/^[^\/()?;=#]+/,Mh=/^[^=?&#]+/,cm=/^[^&#]+/;class dm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Xe]=new A(t,n)),i}parseSegment(){const t=fu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(t),new k(qn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function qo(e){const t=e.match(Sc);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const a=fu(this.remaining);a&&(i=a,this.capture(i))}t[qn(n)]=qn(i)}parseQueryParam(t){const n=function hu(e){const t=e.match(Mh);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const h=function Ac(e){const t=e.match(cm);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const a=ti(n),c=ti(i);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(c)}else t[a]=c}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fu(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new g.vHH(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Xe);const h=this.parseChildren();n[c]=1===Object.keys(h).length?h[Xe]:new A([],h),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new g.vHH(4011,!1)}}function Qd(e){return e.segments.length>0?new A([],{[Xe]:e}):e}function Mc(e){const t={};for(const i of Object.keys(e.children)){const c=Mc(e.children[i]);if(i===Xe&&0===c.segments.length&&c.hasChildren())for(const[h,v]of Object.entries(c.children))t[h]=v;else(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function pu(e){if(1===e.numberOfChildren&&e.children[Xe]){const t=e.children[Xe];return new A(e.segments.concat(t.segments),t.children)}return e}(new A(e.segments,t))}function fo(e){return e instanceof b}function ho(e){let t;const a=Qd(function n(c){const h={};for(const I of c.children){const w=n(I);h[I.outlet]=w}const v=new A(c.url,h);return c===e&&(t=v),v}(e.root));return t??a}function Yo(e,t,n,i){let a=e;for(;a.parent;)a=a.parent;if(0===t.length)return Rh(a,a,a,n,i);const c=function hy(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ph(!0,0,e);let t=0,n=!1;const i=e.reduce((a,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return Object.entries(c.outlets).forEach(([I,w])=>{v[I]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===h?(c.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?n=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new Ph(n,t,i)}(t);if(c.toRoot())return Rh(a,a,new A([],{}),n,i);const h=function fm(e,t,n){if(e.isAbsolute)return new el(t,!0,0);if(!n)return new el(t,!1,NaN);if(null===n.parent)return new el(n,!0,0);const i=po(e.commands[0])?0:1;return function hm(e,t,n){let i=e,a=t,c=n;for(;c>a;){if(c-=a,i=i.parent,!i)throw new g.vHH(4005,!1);a=i.segments.length}return new el(i,!1,a-c)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(c,a,e),v=h.processChildren?mu(h.segmentGroup,h.index,c.commands):Jd(h.segmentGroup,h.index,c.commands);return Rh(a,h.segmentGroup,v,n,i)}function po(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qo(e){return"object"==typeof e&&null!=e&&e.outlets}function Rh(e,t,n,i,a){let h,c={};i&&Object.entries(i).forEach(([I,w])=>{c[I]=Array.isArray(w)?w.map(M=>`${M}`):`${w}`}),h=e===t?n:gu(e,t,n);const v=Qd(Mc(h));return new b(v,c,a)}function gu(e,t,n){const i={};return Object.entries(e.children).forEach(([a,c])=>{i[a]=c===t?n:gu(c,t,n)}),new A(e.segments,i)}class Ph{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&po(i[0]))throw new g.vHH(4003,!1);const a=i.find(Qo);if(a&&a!==Is(i))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class el{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function Jd(e,t,n){if(e||(e=new A([],{})),0===e.segments.length&&e.hasChildren())return mu(e,t,n);const i=function Nh(e,t,n){let i=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(i>=n.length)return c;const h=e.segments[a],v=n[i];if(Qo(v))break;const I=`${v}`,w=i<n.length-1?n[i+1]:null;if(a>0&&void 0===I)break;if(I&&w&&"object"==typeof w&&void 0===w.outlets){if(!Rc(I,w,h))return c;i+=2}else{if(!Rc(I,{},h))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(e,t,n),a=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const c=new A(e.segments.slice(0,i.pathIndex),{});return c.children[Xe]=new A(e.segments.slice(i.pathIndex),e.children),mu(c,0,a)}return i.match&&0===a.length?new A(e.segments,{}):i.match&&!e.hasChildren()?Oh(e,t,n):i.match?mu(e,0,a):Oh(e,t,n)}function mu(e,t,n){if(0===n.length)return new A(e.segments,{});{const i=function tl(e){return Qo(e[0])?e[0].outlets:{[Xe]:e}}(n),a={};if(Object.keys(i).some(c=>c!==Xe)&&e.children[Xe]&&1===e.numberOfChildren&&0===e.children[Xe].segments.length){const c=mu(e.children[Xe],t,n);return new A(e.segments,c.children)}return Object.entries(i).forEach(([c,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(a[c]=Jd(e.children[c],t,h))}),Object.entries(e.children).forEach(([c,h])=>{void 0===i[c]&&(a[c]=h)}),new A(e.segments,a)}}function Oh(e,t,n){const i=e.segments.slice(0,t);let a=0;for(;a<n.length;){const c=n[a];if(Qo(c)){const I=xh(c.outlets);return new A(i,I)}if(0===a&&po(n[0])){i.push(new k(e.segments[t].path,kh(n[0]))),a++;continue}const h=Qo(c)?c.outlets[Xe]:`${c}`,v=a<n.length-1?n[a+1]:null;h&&v&&po(v)?(i.push(new k(h,kh(v))),a+=2):(i.push(new k(h,{})),a++)}return new A(i,{})}function xh(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=Oh(new A([],{}),0,i))}),t}function kh(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function Rc(e,t,n){return e==n.path&&Ei(t,n.parameters)}const _u="imperative";class ni{constructor(t,n){this.id=t,this.url=n}}class vu extends ni{constructor(t,n,i="imperative",a=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ds extends ni{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jo extends ni{constructor(t,n,i,a){super(t,n),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yu extends ni{constructor(t,n,i,a){super(t,n),this.reason=i,this.code=a,this.type=16}}class nl extends ni{constructor(t,n,i,a){super(t,n),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pm extends ni{constructor(t,n,i,a){super(t,n),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class py extends ni{constructor(t,n,i,a){super(t,n),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gy extends ni{constructor(t,n,i,a,c){super(t,n),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fh extends ni{constructor(t,n,i,a){super(t,n),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pc extends ni{constructor(t,n,i,a){super(t,n),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nc{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lh{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vh{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rl{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class il{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xd{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ef{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sl{}class ol{constructor(t){this.url=t}}class Uh{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xo,this.attachRef=null}}let Xo=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,a){const c=this.getOrCreateContext(i);c.outlet=a,this.contexts.set(i,c)}onChildOutletDestroyed(i){const a=this.getContext(i);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let a=this.getContext(i);return a||(a=new Uh,this.contexts.set(i,a)),a}getContext(i){return this.contexts.get(i)||null}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class Oc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Eu(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Eu(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Cu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Cu(t,this._root).map(n=>n.value)}}function Eu(e,t){if(e===t.value)return t;for(const n of t.children){const i=Eu(e,n);if(i)return i}return null}function Cu(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Cu(e,n);if(i.length)return i.unshift(t),i}return[]}class Ci{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function al(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Mr extends Oc{constructor(t,n){super(t),this.snapshot=n,Vn(this,t)}toString(){return this.snapshot.toString()}}function ea(e,t){const n=function Bh(e,t){const h=new wu([],{},{},"",{},Xe,t,null,{});return new Du("",new Ci(h,[]))}(0,t),i=new Fn.X([new k("",{})]),a=new Fn.X({}),c=new Fn.X({}),h=new Fn.X({}),v=new Fn.X(""),I=new ll(i,a,h,v,c,Xe,t,n.root);return I.snapshot=n.root,new Mr(new Ci(I,[]),n)}class ll{constructor(t,n,i,a,c,h,v,I){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=c,this.outlet=h,this.component=v,this._futureSnapshot=I,this.title=this.dataSubject?.pipe((0,Qe.U)(w=>w[yi]))??(0,Ge.of)(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=a,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(t=>Es(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(t=>Es(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yn(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const a=n[i],c=n[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(c.component)break;i--}}return function Iu(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class wu{get title(){return this.data?.[yi]}constructor(t,n,i,a,c,h,v,I,w){this.url=t,this.params=n,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=h,this.component=v,this.routeConfig=I,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Du extends Oc{constructor(t,n){super(n),this.url=t,Vn(this,n)}toString(){return jr(this._root)}}function Vn(e,t){t.value._routerState=e,t.children.forEach(n=>Vn(e,n))}function jr(e){const t=e.children.length>0?` { ${e.children.map(jr).join(", ")} } `:"";return`${e.value}${t}`}function bu(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ei(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ei(t.params,n.params)||e.paramsSubject.next(n.params),function Cs(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ei(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ei(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xc(e,t){const n=Ei(e.params,t.params)&&function j(e,t){return X(e,t)&&e.every((n,i)=>Ei(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||xc(e.parent,t.parent))}let jh=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Xo),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Tu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:a,previousValue:c}=i.name;if(a)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=i;const c=this.location,v=i.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,w=new Hh(i,I,c.injector);this.activated=c.createComponent(v,{index:c.length,injector:w,environmentInjector:a??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275dir=g.lG2({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),t})();class Hh{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===ll?this.route:t===Xo?this.childContexts:this.parent.get(t,n)}}const Tu=new g.OlP("");let ur=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:a}=i,c=au([a.queryParams,a.params,a.data]).pipe((0,bn.w)(([h,v,I],w)=>(I={...h,...v,...I},0===w?(0,Ge.of)(I):Promise.resolve(I)))).subscribe(h=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==a||null===a.component)return void this.unsubscribeFromRouteData(i);const v=(0,g.qFp)(a.component);if(v)for(const{templateName:I}of v.inputs)i.activatedComponentRef.setInput(I,h[I]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,c)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();function go(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const a=function gm(e,t,n){return t.children.map(i=>{for(const a of n.children)if(e.shouldReuseRoute(i.value,a.value.snapshot))return go(e,i,a);return go(e,i)})}(e,t,n);return new Ci(i,a)}{if(e.shouldAttach(t.value)){const c=e.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(v=>go(e,v)),h}}const i=function bs(e){return new ll(new Fn.X(e.url),new Fn.X(e.params),new Fn.X(e.queryParams),new Fn.X(e.fragment),new Fn.X(e.data),e.outlet,e.component,e)}(t.value),a=t.children.map(c=>go(e,c));return new Ci(i,a)}}const Ts="ngNavigationCancelingError";function Su(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=fo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=rf(!1,0,t);return a.url=n,a.navigationBehaviorOptions=i,a}function rf(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[Ts]=!0,i.cancellationCode=t,n&&(i.url=n),i}function kc(e){return e&&e[Ts]}let $h=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(i,a){1&i&&g._UZ(0,"router-outlet")},dependencies:[jh],encapsulation:2}),t})();function L(e){const t=e.children&&e.children.map(L),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=$h),n}function H(e){return e.outlet||Xe}function be(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Bt{constructor(t,n,i,a,c){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=c}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),bu(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const a=al(n);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,a[h],i),delete a[h]}),Object.values(a).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,n,i){const a=t.value,c=n?n.value:null;if(a===c)if(a.component){const h=i.getContext(a.outlet);h&&this.deactivateChildRoutes(t,n,h.children)}else this.deactivateChildRoutes(t,n,i);else c&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),a=i&&t.value.component?i.children:n,c=al(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);if(i&&i.outlet){const h=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),a=i&&t.value.component?i.children:n,c=al(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const a=al(n);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new Xd(c.value.snapshot))}),t.children.length&&this.forwardEvent(new rl(t.value.snapshot))}activateRoutes(t,n,i){const a=t.value,c=n?n.value:null;if(bu(a),a===c)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,n,h.children)}else this.activateChildRoutes(t,n,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),bu(v.route.value),this.activateChildRoutes(t,null,h.children)}else{const v=be(a.snapshot);h.attachRef=null,h.route=a,h.injector=v,h.outlet&&h.outlet.activateWith(a,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}class Rr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ss{constructor(t,n){this.component=t,this.route=n}}function Gh(e,t,n){const i=e._root;return ta(i,t?t._root:null,n,[i.value])}function As(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||(0,g.Z0I)(e)?t.get(e):e:i}function ta(e,t,n,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=al(t);return e.children.forEach(h=>{(function Ms(e,t,n,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=e.value,h=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const I=function af(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!X(e.url,t.url);case"pathParamsOrQueryParamsChange":return!X(e.url,t.url)||!Ei(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xc(e,t)||!Ei(e.queryParams,t.queryParams);default:return!xc(e,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new Rr(i)):(c.data=h.data,c._resolvedData=h._resolvedData),ta(e,t,c.component?v?v.children:null:n,i,a),I&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Ss(v.outlet.component,h))}else h&&na(t,v,a),a.canActivateChecks.push(new Rr(i)),ta(e,null,c.component?v?v.children:null:n,i,a)})(h,c[h.value.outlet],n,i.concat([h.value]),a),delete c[h.value.outlet]}),Object.entries(c).forEach(([h,v])=>na(v,n.getContext(h),a)),a}function na(e,t,n){const i=al(e),a=e.value;Object.entries(i).forEach(([c,h])=>{na(h,a.component?t?t.children.getContext(c):null:t,n)}),n.canDeactivateChecks.push(new Ss(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function ra(e){return"function"==typeof e}function uf(e){return e instanceof Qr||"EmptyError"===e?.name}const ul=Symbol("INITIAL_VALUE");function Mu(){return(0,bn.w)(e=>au(e.map(t=>t.pipe(_i(1),function Tc(...e){const t=(0,Bi.yG)(e);return(0,Dn.e)((n,i)=>{(t?Ho(e,n,t):Ho(e,n)).subscribe(i)})}(ul)))).pipe((0,Qe.U)(t=>{for(const n of t)if(!0!==n){if(n===ul)return ul;if(!1===n||n instanceof b)return n}return!0}),Jr(t=>t!==ul),_i(1)))}function Iy(e){return(0,bc.z)((0,an.b)(t=>{if(fo(t))throw Su(0,t)}),(0,Qe.U)(t=>!0===t))}class df{constructor(t){this.segmentGroup=t||null}}class ff{constructor(t){this.urlTree=t}}function cl(e){return Zn(new df(e))}function Ru(e){return Zn(new ff(e))}class oT{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new g.vHH(4002,!1)}lineralizeSegments(t,n){let i=[],a=n.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,Ge.of)(i);if(a.numberOfChildren>1||!a.children[Xe])return Zn(new g.vHH(4e3,!1));a=a.children[Xe]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,a){const c=this.createSegmentGroup(t,n.root,i,a);return new b(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([a,c])=>{if("string"==typeof c&&c.startsWith(":")){const v=c.substring(1);i[a]=n[v]}else i[a]=c}),i}createSegmentGroup(t,n,i,a){const c=this.createSegments(t,n.segments,i,a);let h={};return Object.entries(n.children).forEach(([v,I])=>{h[v]=this.createSegmentGroup(t,I,i,a)}),new A(c,h)}createSegments(t,n,i,a){return n.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,i))}findPosParam(t,n,i){const a=i[n.path.substring(1)];if(!a)throw new g.vHH(4001,!1);return a}findOrReturn(t,n){let i=0;for(const a of n){if(a.path===t.path)return n.splice(i),a;i++}return t}}const Cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Im(e,t,n,i,a){const c=wm(e,t,n);return c.matched?(i=function Wh(e,t){return e.providers&&!e._injector&&(e._injector=(0,g.MMx)(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function wy(e,t,n,i){const a=t.canMatch;if(!a||0===a.length)return(0,Ge.of)(!0);const c=a.map(h=>{const v=As(h,e);return ei(function _y(e){return e&&ra(e.canMatch)}(v)?v.canMatch(t,n):e.runInContext(()=>v(t,n)))});return(0,Ge.of)(c).pipe(Mu(),Iy())}(i,t,n).pipe((0,Qe.U)(h=>!0===h?c:{...Cm}))):(0,Ge.of)(c)}function wm(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Cm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Xr)(n,e,t);if(!a)return{...Cm};const c={};Object.entries(a.posParams??{}).forEach(([v,I])=>{c[v]=I.path});const h=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:h,positionalParamSegments:a.posParams??{}}}function Pu(e,t,n,i){return n.length>0&&function Dy(e,t,n){return n.some(i=>hf(e,t,i)&&H(i)!==Xe)}(e,n,i)?{segmentGroup:new A(t,Dm(i,new A(n,e.children))),slicedSegments:[]}:0===n.length&&function by(e,t,n){return n.some(i=>hf(e,t,i))}(e,n,i)?{segmentGroup:new A(e.segments,Kh(e,0,n,i,e.children)),slicedSegments:n}:{segmentGroup:new A(e.segments,e.children),slicedSegments:n}}function Kh(e,t,n,i,a){const c={};for(const h of i)if(hf(e,n,h)&&!a[H(h)]){const v=new A([],{});c[H(h)]=v}return{...a,...c}}function Dm(e,t){const n={};n[Xe]=t;for(const i of e)if(""===i.path&&H(i)!==Xe){const a=new A([],{});n[H(i)]=a}return n}function hf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class PI{constructor(t,n,i,a,c,h,v){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=a,this.urlTree=c,this.paramsInheritanceStrategy=h,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new oT(this.urlSerializer,this.urlTree)}noMatchError(t){return new g.vHH(4002,!1)}recognize(){const t=Pu(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Xe).pipe(gr(n=>{if(n instanceof ff)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof df?this.noMatchError(n):n}),(0,Qe.U)(n=>{const i=new wu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),a=new Ci(i,n),c=new Du("",a),h=function fy(e,t,n=null,i=null){return Yo(ho(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(c._root),{state:c,tree:h}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Xe).pipe(gr(i=>{throw i instanceof df?this.noMatchError(i):i}))}inheritParamsAndData(t){const n=t.value,i=Yn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,n,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,a,!0)}processChildren(t,n,i){const a=[];for(const c of Object.keys(i.children))"primary"===c?a.unshift(c):a.push(c);return(0,Nt.D)(a).pipe($i(c=>{const h=i.children[c],v=function ye(e,t){const n=e.filter(i=>H(i)===t);return n.push(...e.filter(i=>H(i)!==t)),n}(n,c);return this.processSegmentGroup(t,v,h,c)}),en((c,h)=>(c.push(...h),c)),Qa(null),function Zo(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Jr((a,c)=>e(a,c,i)):Ln.y,zo(1),n?Qa(t):Ja(()=>new Qr))}(),(0,Tn.z)(c=>{if(null===c)return cl(i);const h=ia(c);return function NI(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}(h),(0,Ge.of)(h)}))}processSegment(t,n,i,a,c,h){return(0,Nt.D)(n).pipe($i(v=>this.processSegmentAgainstRoute(v._injector??t,n,v,i,a,c,h).pipe(gr(I=>{if(I instanceof df)return(0,Ge.of)(null);throw I}))),Hi(v=>!!v),gr(v=>{if(uf(v))return function MI(e,t,n){return 0===t.length&&!e.children[n]}(i,a,c)?(0,Ge.of)([]):cl(i);throw v}))}processSegmentAgainstRoute(t,n,i,a,c,h,v){return function Ty(e,t,n,i){return!!(H(e)===i||i!==Xe&&hf(t,n,e))&&("**"===e.path||wm(t,e,n).matched)}(i,a,c,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,a,i,c,h,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,a,n,i,c,h):cl(a):cl(a)}expandSegmentAgainstRouteUsingRedirect(t,n,i,a,c,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,a,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,a){const c=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ru(c):this.applyRedirects.lineralizeSegments(i,c).pipe((0,Tn.z)(h=>{const v=new A(h,{});return this.processSegment(t,n,v,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,a,c,h){const{matched:v,consumedSegments:I,remainingSegments:w,positionalParamSegments:M}=wm(n,a,c);if(!v)return cl(n);const S=this.applyRedirects.applyRedirectCommands(I,a.redirectTo,M);return a.redirectTo.startsWith("/")?Ru(S):this.applyRedirects.lineralizeSegments(a,S).pipe((0,Tn.z)(U=>this.processSegment(t,i,n,U.concat(w),h,!1)))}matchSegmentAgainstRoute(t,n,i,a,c,h){let v;if("**"===i.path){const I=a.length>0?Is(a).parameters:{},w=new wu(a,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sy(i),H(i),i.component??i._loadedComponent??null,i,xI(i));v=(0,Ge.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),n.children={}}else v=Im(n,i,a,t).pipe((0,Qe.U)(({matched:I,consumedSegments:w,remainingSegments:M,parameters:S})=>I?{snapshot:new wu(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sy(i),H(i),i.component??i._loadedComponent??null,i,xI(i)),consumedSegments:w,remainingSegments:M}:null));return v.pipe((0,bn.w)(I=>null===I?cl(n):this.getChildConfig(t=i._injector??t,i,a).pipe((0,bn.w)(({routes:w})=>{const M=i._loadedInjector??t,{snapshot:S,consumedSegments:U,remainingSegments:G}=I,{segmentGroup:pe,slicedSegments:Ue}=Pu(n,U,G,w);if(0===Ue.length&&pe.hasChildren())return this.processChildren(M,w,pe).pipe((0,Qe.U)(Dt=>null===Dt?null:[new Ci(S,Dt)]));if(0===w.length&&0===Ue.length)return(0,Ge.of)([new Ci(S,[])]);const at=H(i)===c;return this.processSegment(M,w,pe,Ue,at?Xe:c,!0).pipe((0,Qe.U)(Dt=>[new Ci(S,Dt)]))}))))}getChildConfig(t,n,i){return n.children?(0,Ge.of)({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?(0,Ge.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function TI(e,t,n,i){const a=t.canLoad;if(void 0===a||0===a.length)return(0,Ge.of)(!0);const c=a.map(h=>{const v=As(h,e);return ei(function Fc(e){return e&&ra(e.canLoad)}(v)?v.canLoad(t,n):e.runInContext(()=>v(t,n)))});return(0,Ge.of)(c).pipe(Mu(),Iy())}(t,n,i).pipe((0,Tn.z)(a=>a?this.configLoader.loadChildren(t,n).pipe((0,an.b)(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function AI(e){return Zn(rf(!1,3))}())):(0,Ge.of)({routes:[],injector:t})}}function OI(e){const t=e.value.routeConfig;return t&&""===t.path}function ia(e){const t=[],n=new Set;for(const i of e){if(!OI(i)){t.push(i);continue}const a=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...i.children),n.add(a)):t.push(i)}for(const i of n){const a=ia(i.children);t.push(new Ci(i.value,a))}return t.filter(i=>!n.has(i))}function Sy(e){return e.data||{}}function xI(e){return e.resolve||{}}function My(e){return"string"==typeof e.title||null===e.title}function bm(e){return(0,bn.w)(t=>{const n=e(t);return n?(0,Nt.D)(n).pipe((0,Qe.U)(()=>t)):(0,Ge.of)(t)})}const Lc=new g.OlP("ROUTES");let pf=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return(0,Ge.of)(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const a=ei(i.loadComponent()).pipe((0,Qe.U)(Vc),(0,an.b)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=h}),lo(()=>{this.componentLoaders.delete(i)})),c=new ys(a,()=>new Ar.x).pipe(Ya());return this.componentLoaders.set(i,c),c}loadChildren(i,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return(0,Ge.of)({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);const h=this.loadModuleFactoryOrRoutes(a.loadChildren).pipe((0,Qe.U)(I=>{this.onLoadEndListener&&this.onLoadEndListener(a);let w,M;return Array.isArray(I)?M=I:(w=I.create(i).injector,M=w.get(Lc,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:M.map(L),injector:w}}),lo(()=>{this.childrenLoaders.delete(a)})),v=new ys(h,()=>new Ar.x).pipe(Ya());return this.childrenLoaders.set(a,v),v}loadModuleFactoryOrRoutes(i){return ei(i()).pipe((0,Qe.U)(Vc),(0,Tn.z)(a=>a instanceof g.YKP||Array.isArray(a)?(0,Ge.of)(a):(0,Nt.D)(this.compiler.compileModuleAsync(a))))}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Vc(e){return function sa(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let gf=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ar.x,this.transitionAbortSubject=new Ar.x,this.configLoader=(0,g.f3M)(pf),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(De),this.rootContexts=(0,g.f3M)(Xo),this.inputBindingEnabled=null!==(0,g.f3M)(Tu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ge.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=c=>this.events.next(new Lh(c)),this.configLoader.onLoadStartListener=c=>this.events.next(new Nc(c))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const a=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:a})}setupNavigations(i,a,c){return this.transitions=new Fn.X({id:0,currentUrlTree:a,currentRawUrl:a,currentBrowserUrl:a,extractedUrl:i.urlHandlingStrategy.extract(a),urlAfterRedirects:i.urlHandlingStrategy.extract(a),rawUrl:a,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_u,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jr(h=>0!==h.id),(0,Qe.U)(h=>({...h,extractedUrl:i.urlHandlingStrategy.extract(h.rawUrl)})),(0,bn.w)(h=>{this.currentTransition=h;let v=!1,I=!1;return(0,Ge.of)(h).pipe((0,an.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bn.w)(w=>{const M=w.currentBrowserUrl.toString(),S=!i.navigated||w.extractedUrl.toString()!==M||M!==w.currentUrlTree.toString();if(!S&&"reload"!==(w.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const G="";return this.events.next(new yu(w.id,this.urlSerializer.serialize(w.rawUrl),G,0)),w.resolve(null),mi.E}if(i.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,Ge.of)(w).pipe((0,bn.w)(G=>{const pe=this.transitions?.getValue();return this.events.next(new vu(G.id,this.urlSerializer.serialize(G.extractedUrl),G.source,G.restoredState)),pe!==this.transitions?.getValue()?mi.E:Promise.resolve(G)}),function aT(e,t,n,i,a,c){return(0,Tn.z)(h=>function RI(e,t,n,i,a,c,h="emptyOnly"){return new PI(e,t,n,i,a,h,c).recognize()}(e,t,n,i,h.extractedUrl,a,c).pipe((0,Qe.U)(({state:v,tree:I})=>({...h,targetSnapshot:v,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),(0,an.b)(G=>{h.targetSnapshot=G.targetSnapshot,h.urlAfterRedirects=G.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:G.urlAfterRedirects};const pe=new pm(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(pe)}));if(S&&i.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:G,extractedUrl:pe,source:Ue,restoredState:at,extras:Dt}=w,Ot=new vu(G,this.urlSerializer.serialize(pe),Ue,at);this.events.next(Ot);const Un=ea(0,this.rootComponentType).snapshot;return this.currentTransition=h={...w,targetSnapshot:Un,urlAfterRedirects:pe,extras:{...Dt,skipLocationChange:!1,replaceUrl:!1}},(0,Ge.of)(h)}{const G="";return this.events.next(new yu(w.id,this.urlSerializer.serialize(w.extractedUrl),G,1)),w.resolve(null),mi.E}}),(0,an.b)(w=>{const M=new py(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(M)}),(0,Qe.U)(w=>(this.currentTransition=h={...w,guards:Gh(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},h)),function ym(e,t){return(0,Tn.z)(n=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:h}}=n;return 0===h.length&&0===c.length?(0,Ge.of)({...n,guardsResult:!0}):function Zh(e,t,n,i){return(0,Nt.D)(e).pipe((0,Tn.z)(a=>function bI(e,t,n,i,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ge.of)(!0);const h=c.map(v=>{const I=be(t)??a,w=As(v,I);return ei(function my(e){return e&&ra(e.canDeactivate)}(w)?w.canDeactivate(e,t,n,i):I.runInContext(()=>w(e,t,n,i))).pipe(Hi())});return(0,Ge.of)(h).pipe(Mu())}(a.component,a.route,n,t,i)),Hi(a=>!0!==a,!0))}(h,i,a,e).pipe((0,Tn.z)(v=>v&&function vm(e){return"boolean"==typeof e}(v)?function Ey(e,t,n,i){return(0,Nt.D)(t).pipe($i(a=>Ho(function cf(e,t){return null!==e&&t&&t(new Vh(e)),(0,Ge.of)(!0)}(a.route.parent,i),function Em(e,t){return null!==e&&t&&t(new il(e)),(0,Ge.of)(!0)}(a.route,i),function Cy(e,t,n){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function sf(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Wo(()=>{const v=h.guards.map(I=>{const w=be(h.node)??n,M=As(I,w);return ei(function zh(e){return e&&ra(e.canActivateChild)}(M)?M.canActivateChild(i,e):w.runInContext(()=>M(i,e))).pipe(Hi())});return(0,Ge.of)(v).pipe(Mu())}));return(0,Ge.of)(c).pipe(Mu())}(e,a.path,n),function DI(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ge.of)(!0);const a=i.map(c=>Wo(()=>{const h=be(t)??n,v=As(c,h);return ei(function lf(e){return e&&ra(e.canActivate)}(v)?v.canActivate(t,e):h.runInContext(()=>v(t,e))).pipe(Hi())}));return(0,Ge.of)(a).pipe(Mu())}(e,a.route,n))),Hi(a=>!0!==a,!0))}(i,c,e,t):(0,Ge.of)(v)),(0,Qe.U)(v=>({...n,guardsResult:v})))})}(this.environmentInjector,w=>this.events.next(w)),(0,an.b)(w=>{if(h.guardsResult=w.guardsResult,fo(w.guardsResult))throw Su(0,w.guardsResult);const M=new gy(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(M)}),Jr(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),bm(w=>{if(w.guards.canActivateChecks.length)return(0,Ge.of)(w).pipe((0,an.b)(M=>{const S=new Fh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(S)}),(0,bn.w)(M=>{let S=!1;return(0,Ge.of)(M).pipe(function lT(e,t){return(0,Tn.z)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=n;if(!a.length)return(0,Ge.of)(n);let c=0;return(0,Nt.D)(a).pipe($i(h=>function uT(e,t,n,i){const a=e.routeConfig,c=e._resolve;return void 0!==a?.title&&!My(a)&&(c[yi]=a.title),function cT(e,t,n,i){const a=function Ay(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===a.length)return(0,Ge.of)({});const c={};return(0,Nt.D)(a).pipe((0,Tn.z)(h=>function kI(e,t,n,i){const a=be(t)??i,c=As(e,a);return ei(c.resolve?c.resolve(t,n):a.runInContext(()=>c(t,n)))}(e[h],t,n,i).pipe(Hi(),(0,an.b)(v=>{c[h]=v}))),zo(1),function ao(e){return(0,Qe.U)(()=>e)}(c),gr(h=>uf(h)?mi.E:Zn(h)))}(c,e,t,i).pipe((0,Qe.U)(h=>(e._resolvedData=h,e.data=Yn(e,n).resolve,a&&My(a)&&(e.data[yi]=a.title),null)))}(h.route,i,e,t)),(0,an.b)(()=>c++),zo(1),(0,Tn.z)(h=>c===a.length?(0,Ge.of)(n):mi.E))})}(i.paramsInheritanceStrategy,this.environmentInjector),(0,an.b)({next:()=>S=!0,complete:()=>{S||this.cancelNavigationTransition(M,"",2)}}))}),(0,an.b)(M=>{const S=new Pc(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(S)}))}),bm(w=>{const M=S=>{const U=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&U.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,an.b)(G=>{S.component=G}),(0,Qe.U)(()=>{})));for(const G of S.children)U.push(...M(G));return U};return au(M(w.targetSnapshot.root)).pipe(Qa(),_i(1))}),bm(()=>this.afterPreactivation()),(0,Qe.U)(w=>{const M=function nf(e,t,n){const i=go(e,t._root,n?n._root:void 0);return new Mr(i,t)}(i.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=h={...w,targetRouterState:M},h}),(0,an.b)(()=>{this.events.next(new sl)}),((e,t,n,i)=>(0,Qe.U)(a=>(new Bt(t,a.targetRouterState,a.currentRouterState,n,i).activate(e),a)))(this.rootContexts,i.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),_i(1),(0,an.b)({next:w=>{v=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),i.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{v=!0}}),function uu(e){return(0,Dn.e)((t,n)=>{(0,$o.Xf)(e).subscribe((0,Ut.x)(n,()=>n.complete(),Ko.Z)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe((0,an.b)(w=>{throw w}))),lo(()=>{v||I||this.cancelNavigationTransition(h,"",1),this.currentNavigation?.id===h.id&&(this.currentNavigation=null)}),gr(w=>{if(I=!0,kc(w))this.events.next(new Jo(h.id,this.urlSerializer.serialize(h.extractedUrl),w.message,w.cancellationCode)),function Au(e){return kc(e)&&fo(e.url)}(w)?this.events.next(new ol(w.url)):h.resolve(!1);else{this.events.next(new nl(h.id,this.urlSerializer.serialize(h.extractedUrl),w,h.targetSnapshot??void 0));try{h.resolve(i.errorHandler(w))}catch(M){h.reject(M)}}return mi.E}))}))}cancelNavigationTransition(i,a,c){const h=new Jo(i.id,this.urlSerializer.serialize(i.extractedUrl),a,c);this.events.next(h),i.resolve(!1)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Tm(e){return e!==_u}let Sm=(()=>{var e;class t{buildTitle(i){let a,c=i.root;for(;void 0!==c;)a=this.getResolvedTitleForRoute(c)??a,c=c.children.find(h=>h.outlet===Xe);return a}getResolvedTitleForRoute(i){return i.data[yi]}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return(0,g.f3M)(dT)},providedIn:"root"}),t})(),dT=(()=>{var e;class t extends Sm{constructor(i){super(),this.title=i}updateTitle(i){const a=this.buildTitle(i);void 0!==a&&this.title.setTitle(a)}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(ro))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fT=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return(0,g.f3M)(Am)},providedIn:"root"}),t})();class hT{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Am=(()=>{var e;class t extends hT{}return(e=t).\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(e)))(a||e)}}(),e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Uc=new g.OlP("",{providedIn:"root",factory:()=>({})});let pT=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:function(){return(0,g.f3M)(gT)},providedIn:"root"}),t})(),gT=(()=>{var e;class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,a){return i}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Bc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Bc||{});function Ry(e,t){e.events.pipe(Jr(n=>n instanceof Ds||n instanceof Jo||n instanceof nl||n instanceof yu),(0,Qe.U)(n=>n instanceof Ds||n instanceof yu?Bc.COMPLETE:n instanceof Jo&&(0===n.code||1===n.code)?Bc.REDIRECTING:Bc.FAILED),Jr(n=>n!==Bc.REDIRECTING),_i(1)).subscribe(()=>{t()})}function FI(e){throw e}function LI(e,t,n){return t.parse("/")}const VI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Py={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new Ar.x,this.options=(0,g.f3M)(Uc,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||FI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||LI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(pT),this.routeReuseStrategy=(0,g.f3M)(fT),this.titleStrategy=(0,g.f3M)(Sm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(Lc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(gf),this.urlSerializer=(0,g.f3M)(De),this.location=(0,g.f3M)(Ae),this.componentInputBindingEnabled=!!(0,g.f3M)(Tu,{optional:!0}),this.eventsSubscription=new Go.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new b,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ea(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(a=>{try{const{currentTransition:c}=this.navigationTransitions;if(null===c)return void(Yh(a)&&this._events.next(a));if(a instanceof vu)Tm(c.source)&&(this.browserUrlTree=c.extractedUrl);else if(a instanceof yu)this.rawUrlTree=c.rawUrl;else if(a instanceof pm){if("eager"===this.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);this.setBrowserUrl(h,c)}this.browserUrlTree=c.urlAfterRedirects}}else if(a instanceof sl)this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects);else if(a instanceof Jo)0!==a.code&&1!==a.code&&(this.navigated=!0),(3===a.code||2===a.code)&&this.restoreHistory(c);else if(a instanceof ol){const h=this.urlHandlingStrategy.merge(a.url,c.currentRawUrl),v={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tm(c.source)};this.scheduleNavigation(h,_u,null,v,{resolve:c.resolve,reject:c.reject,promise:c.promise})}a instanceof nl&&this.restoreHistory(c,!0),a instanceof Ds&&(this.navigated=!0),Yh(a)&&this._events.next(a)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_u,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,a,i.state)},0)}))}navigateToSyncWithBrowser(i,a,c){const h={replaceUrl:!0},v=c?.navigationId?c:null;if(c){const w={...c};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(h.state=w)}const I=this.parseUrl(i);this.scheduleNavigation(I,a,v,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(L),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,a={}){const{relativeTo:c,queryParams:h,fragment:v,queryParamsHandling:I,preserveFragment:w}=a,M=w?this.currentUrlTree.fragment:v;let U,S=null;switch(I){case"merge":S={...this.currentUrlTree.queryParams,...h};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=h||null}null!==S&&(S=this.removeEmptyProps(S));try{U=ho(c?c.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),U=this.currentUrlTree.root}return Yo(U,i,S,M??null)}navigateByUrl(i,a={skipLocationChange:!1}){const c=fo(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,_u,null,a)}navigate(i,a={skipLocationChange:!1}){return function UI(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new g.vHH(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let a;try{a=this.urlSerializer.parse(i)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return a}isActive(i,a){let c;if(c=!0===a?{...VI}:!1===a?{...Py}:a,fo(i))return Ah(this.currentUrlTree,i,c);const h=this.parseUrl(i);return Ah(this.currentUrlTree,h,c)}removeEmptyProps(i){return Object.keys(i).reduce((a,c)=>{const h=i[c];return null!=h&&(a[c]=h),a},{})}scheduleNavigation(i,a,c,h,v){if(this.disposed)return Promise.resolve(!1);let I,w,M;v?(I=v.resolve,w=v.reject,M=v.promise):M=new Promise((U,G)=>{I=U,w=G});const S=this.pendingTasks.add();return Ry(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:h,resolve:I,reject:w,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(U=>Promise.reject(U))}setBrowserUrl(i,a){const c=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl){const v={...a.extras.state,...this.generateNgRouterState(a.id,this.browserPageId)};this.location.replaceState(c,"",v)}else{const h={...a.extras.state,...this.generateNgRouterState(a.id,this.browserPageId+1)};this.location.go(c,"",h)}}restoreHistory(i,a=!1){if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-this.browserPageId;0!==h?this.location.historyGo(h):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===h&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,a){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Yh(e){return!(e instanceof sl||e instanceof ol)}class Ny{}let $I=(()=>{var e;class t{constructor(i,a,c,h,v){this.router=i,this.injector=c,this.preloadingStrategy=h,this.loader=v}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(i=>i instanceof Ds),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,a){const c=[];for(const h of a){h.providers&&!h._injector&&(h._injector=(0,g.MMx)(h.providers,i,`Route: ${h.path}`));const v=h._injector??i,I=h._loadedInjector??v;(h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent)&&c.push(this.preloadConfig(v,h)),(h.children||h._loadedRoutes)&&c.push(this.processRoutes(I,h.children??h._loadedRoutes))}return(0,Nt.D)(c).pipe((0,gi.J)())}preloadConfig(i,a){return this.preloadingStrategy.preload(a,()=>{let c;c=a.loadChildren&&void 0===a.canLoad?this.loader.loadChildren(i,a):(0,Ge.of)(null);const h=c.pipe((0,Tn.z)(v=>null===v?(0,Ge.of)(void 0):(a._loadedRoutes=v.routes,a._loadedInjector=v.injector,this.processRoutes(v.injector??i,v.routes))));if(a.loadComponent&&!a._loadedComponent){const v=this.loader.loadComponent(a);return(0,Nt.D)([h,v]).pipe((0,gi.J)())}return h})}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(Hr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Ny),g.LFG(pf))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Rm=new g.OlP("");let Oy=(()=>{var e;class t{constructor(i,a,c,h,v={}){this.urlSerializer=i,this.transitions=a,this.viewportScroller=c,this.zone=h,this.options=v,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},v.scrollPositionRestoration=v.scrollPositionRestoration||"disabled",v.anchorScrolling=v.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof vu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ds?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof yu&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ef&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,a){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ef(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(i){g.$Z()},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),t})();function dl(e,t){return{\u0275kind:e,\u0275providers:t}}function Nm(){const e=(0,g.f3M)(g.zs3);return t=>{const n=e.get(g.z2F);if(t!==n.components[0])return;const i=e.get(Hr),a=e.get(Om);1===e.get(mf)&&i.initialNavigation(),e.get(xm,null,g.XFs.Optional)?.setUpPreloading(),e.get(Rm,null,g.XFs.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const Om=new g.OlP("",{factory:()=>new Ar.x}),mf=new g.OlP("",{providedIn:"root",factory:()=>1}),xm=new g.OlP("");function Xh(e){return dl(0,[{provide:xm,useExisting:$I},{provide:Ny,useExisting:e}])}const Fm=new g.OlP("ROUTER_FORROOT_GUARD"),Nu=[Ae,{provide:De,useClass:Ve},Hr,Xo,{provide:ll,useFactory:function Pm(e){return e.routerState.root},deps:[Hr]},pf,[]];function ZI(){return new g.PXZ("Router",Hr)}let ep=(()=>{var e;class t{constructor(i){}static forRoot(i,a){return{ngModule:t,providers:[Nu,[],{provide:Lc,multi:!0,useValue:i},{provide:Fm,useFactory:np,deps:[[Hr,new g.FiY,new g.tp0]]},{provide:Uc,useValue:a||{}},a?.useHash?{provide:we,useClass:ve}:{provide:we,useClass:Pe},{provide:Rm,useFactory:()=>{const e=(0,g.f3M)(vn),t=(0,g.f3M)(g.R0b),n=(0,g.f3M)(Uc),i=(0,g.f3M)(gf),a=(0,g.f3M)(De);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Oy(a,i,e,t,n)}},a?.preloadingStrategy?Xh(a.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:ZI},a?.initialNavigation?mo(a):[],a?.bindToComponentInputs?dl(8,[ur,{provide:Tu,useExisting:ur}]).\u0275providers:[],[{provide:_f,useFactory:Nm},{provide:g.tb,multi:!0,useExisting:_f}]]}}static forChild(i){return{ngModule:t,providers:[{provide:Lc,multi:!0,useValue:i}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(Fm,8))},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({}),t})();function np(e){return"guarded"}function mo(e){return["disabled"===e.initialNavigation?dl(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const t=(0,g.f3M)(Hr);return()=>{t.setUpLocationChangeListener()}}},{provide:mf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?dl(2,[{provide:mf,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:t=>{const n=t.get(Ee,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const a=t.get(Hr),c=t.get(Om);Ry(a,()=>{i(!0)}),t.get(gf).afterPreactivation=()=>(i(!0),c.closed?(0,Ge.of)(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const _f=new g.OlP(""),YI=[];let Um=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[ep.forRoot(YI),ep]}),t})();var Fy=R(6321),Bm=R(3019),jm=R(3020),Hm=R(3997),zi=R(6106),Rs=R(6304),bT=(R(8977),R(3399)),_o=R(6820),fl=R(5861),oa=R(1571),N=R(229),aa=R(4287);const rp="@firebase/database";let Ou="";function yf(e){Ou=e}class Ef{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:(0,N.cI)(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ly{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const sp=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ef(t)}}catch{}return new Ly},vo=sp("localStorage"),Vy=sp("sessionStorage"),hl=new aa.Yd("@firebase/database"),Hc=function(){let e=1;return function(){return e++}}(),Uy=function(e){const t=(0,N.dS)(e),n=new N.gQ;n.update(t);const i=n.digest();return N.US.encodeByteArray(i)},$c=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=$c.apply(null,i):t+="object"==typeof i?(0,N.Wl)(i):i,t+=" "}return t};let xu=null,By=!0;const op=function(e,t){(0,N.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(hl.logLevel=aa.in.VERBOSE,xu=hl.log.bind(hl),t&&Vy.set("logging_enabled",!0)):"function"==typeof e?xu=e:(xu=null,Vy.remove("logging_enabled"))},Qn=function(...e){if(!0===By&&(By=!1,null===xu&&!0===Vy.get("logging_enabled")&&op(!0)),xu){const t=$c.apply(null,e);xu(t)}},Cf=function(e){return function(...t){Qn(e,...t)}},$m=function(...e){const t="FIREBASE INTERNAL ERROR: "+$c(...e);hl.error(t)},la=function(...e){const t=`FIREBASE FATAL ERROR: ${$c(...e)}`;throw hl.error(t),new Error(t)},Pr=function(...e){const t="FIREBASE WARNING: "+$c(...e);hl.warn(t)},Wc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ua="[MIN_NAME]",Ps="[MAX_NAME]",yo=function(e,t){if(e===t)return 0;if(e===ua||t===Ps)return-1;if(t===ua||e===Ps)return 1;{const n=$y(e),i=$y(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},JI=function(e,t){return e===t?0:e<t?-1:1},Gc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,N.Wl)(t))},Wm=function(e){if("object"!=typeof e||null===e)return(0,N.Wl)(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,N.Wl)(t[i]),n+=":",n+=Wm(e[t[i]]);return n+="}",n},Gm=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let a=0;a<n;a+=t)i.push(e.substring(a,a+t>n?n:a+t));return i};function mr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const jy=function(e){(0,N.hu)(!Wc(e),"Invalid JSON number");const i=1023;let a,c,h,v,I;0===e?(c=0,h=0,a=1/e==-1/0?1:0):(a=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(e)/Math.LN2),i),c=v+i,h=Math.round(e*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,h=Math.round(e/Math.pow(2,-1074))));const w=[];for(I=52;I;I-=1)w.push(h%2?1:0),h=Math.floor(h/2);for(I=11;I;I-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(a?1:0),w.reverse();const M=w.join("");let S="";for(I=0;I<64;I+=8){let U=parseInt(M.substr(I,8),2).toString(16);1===U.length&&(U="0"+U),S+=U}return S.toLowerCase()},If=new RegExp("^-?(0*)\\d{1,10}$"),$y=function(e){if(If.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Zc=function(e){try{e()}catch(t){setTimeout(()=>{throw Pr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Kc=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Wy{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zm{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pr(t)}}let up=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const Zy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nw="websocket",Qm="long_polling";class cp{constructor(t,n,i,a,c=!1,h="",v=!1,I=!1){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=I,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dp(e,t,n){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof n,"typeof params must == object"),t===nw)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Qm)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Ns(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const a=[];return mr(n,(c,h)=>{a.push(c+"="+h)}),i+a.join("&")}class rw{constructor(){this.counters_={}}incrementCounter(t,n=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return(0,N.p$)(this.counters_)}}const qy={},Jm={};function Xm(e){const t=e.toString();return qy[t]||(qy[t]=new rw),qy[t]}class Yc{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Zc(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class pl{constructor(t,n,i,a,c,h,v){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=c,this.transportSessionId=h,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cf(t),this.stats_=Xm(n),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),dp(n,Qm,I))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yc(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,N.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pp((...c)=>{const[h,v,I,w,M]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=v,this.password=I;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Zy.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pl.forceAllow_=!0}static forceDisallow(){pl.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!pl.forceAllow_&&(pl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=(0,N.Wl)(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=(0,N.h$)(n),a=Gm(i,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=(0,N.Wl)(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pp{constructor(t,n,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Hc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=pp.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(v){Qn("frame writing exception"),v.stack&&Qn(v.stack),Qn(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Qn("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+a+"="+h.seg+"&ts"+a+"="+h.ts+"&d"+a+"="+h.d,a++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,n){(0,N.Yr)()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Qn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let i_=null;typeof MozWebSocket<"u"?i_=MozWebSocket:typeof WebSocket<"u"&&(i_=WebSocket);let wf=(()=>{class e{constructor(n,i,a,c,h,v,I){this.connId=n,this.applicationId=a,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cf(this.connId),this.stats_=Xm(i),this.connURL=e.connectionURL_(i,v,I,c,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,a,c,h){const v={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&Zy.test(location.hostname)&&(v.r="f"),i&&(v.s=i),a&&(v.ls=a),c&&(v.ac=c),h&&(v.p=h),dp(n,nw,v)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vo.set("previous_websocket_failure",!0);try{let a;if((0,N.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Ou}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,v=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new i_(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&null!==i_&&!e.forceDisallow_}static previouslyFailed(){return vo.isInMemoryStorage||!0===vo.get("previous_websocket_failure")}markConnectionHealthy(){vo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,N.cI)(i);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const i=(0,N.Wl)(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Gm(i,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),s_=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[pl,wf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=wf&&wf.isAvailable();let a=i&&!wf.previouslyFailed();if(n.webSocketOnly&&(i||Pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[wf];else{const c=this.transports_=[];for(const h of e.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class Fu{constructor(t,n,i,a,c,h,v,I,w,M){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=h,this.onReady_=v,this.onDisconnect_=I,this.onKill_=w,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cf("c:"+this.id+":"),this.transportManager_=new s_(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Kc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Gc("t",t),i=Gc("d",t);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Gc("t",t),i=Gc("d",t);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Gc("t",t);if("d"in t){const i=t.d;if("h"===n){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?$m("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$m("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&Pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Kc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vp{put(t,n,i,a){}merge(t,n,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}class ed{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const a=this.getInitialEvent(t);a&&n.apply(i,a)}off(t,n,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===n&&(!i||i===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Df extends ed{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Df}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class St{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function Tt(){return new St("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function gl(e){return e.pieces_.length-e.pieceNum_}function zt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new St(e.pieces_,t)}function u_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bf(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function iE(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new St(t,0)}function ln(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof St)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new St(n,0)}function mt(e){return e.pieceNum_>=e.pieces_.length}function Nr(e,t){const n=ht(e),i=ht(t);if(null===n)return t;if(n===i)return Nr(zt(e),zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function sE(e,t){const n=bf(e,0),i=bf(t,0);for(let a=0;a<n.length&&a<i.length;a++){const c=yo(n[a],i[a]);if(0!==c)return c}return n.length===i.length?0:n.length<i.length?-1:1}function c_(e,t){if(gl(e)!==gl(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Zi(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(gl(e)>gl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ii{constructor(t,n){this.errorPrefix_=n,this.parts_=bf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);fw(this)}}function fw(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ca(e))}function ca(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Cp extends ed{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Cp}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Tf=1e3;let Dp,Lu=(()=>{class e extends vp{constructor(n,i,a,c,h,v,I,w){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=v,this.appCheckTokenProvider_=I,this.authOverride_=w,this.id=e.nextPersistentConnectionId_++,this.log_=Cf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cp.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Df.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,a){const c=++this.requestNumber_,h={r:c,a:n,b:i};this.log_((0,N.Wl)(h)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[c]=a)}get(n){this.initConnection_();const i=new N.BH,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:v=>{const I=v.d;"ok"===v.s?i.resolve(I):i.reject(I)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,a,c){this.initConnection_();const h=n._queryIdentifier,v=n._path.toString();this.log_("Listen called for "+v+" "+h),this.listens.has(v)||this.listens.set(v,new Map),(0,N.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(v).has(h),"listen() called twice for same path/queryId.");const I={onComplete:c,hashFn:i,query:n,tag:a};this.listens.get(v).set(h,I),this.connected_&&this.sendListen_(I)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(n){const i=n.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const h={p:a};n.tag&&(h.q=i._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest("q",h,I=>{const w=I.d,M=I.s;e.warnOnListenWarnings_(w,i),(this.listens.get(a)&&this.listens.get(a).get(c))===n&&(this.log_("listen response",I),"ok"!==M&&this.removeListen_(a,c),n.onComplete&&n.onComplete(M,w))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&(0,N.r3)(n,"w")){const a=(0,N.DV)(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,N.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=(0,N.w9)(n)?"auth":"gauth",a={cred:n};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const h=c.s,v=c.d||"error";this.authToken_===n&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,a=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(n,i){const a=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,N.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,n._queryObject,i)}sendUnlisten_(n,i,a,c){this.log_("Unlisten on "+n+" for "+i);const h={p:n};c&&(h.q=a,h.t=c),this.sendRequest("n",h)}onDisconnectPut(n,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:a})}onDisconnectMerge(n,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:a})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,a,c){const h={p:i,d:a};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(n,i,a,c){this.putInternal("p",n,i,a,c)}merge(n,i,a,c){this.putInternal("m",n,i,a,c)}putInternal(n,i,a,c,h){this.initConnection_();const v={p:i,d:a};void 0!==h&&(v.h=h),this.outstandingPuts_.push({action:n,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,a,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,N.Wl)(n));const i=n.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):$m("Unrecognized action received from server: "+(0,N.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Tf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Tf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,fl.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),a=n.onReady_.bind(n),c=n.onRealtimeDisconnect_.bind(n),h=n.id+":"+e.nextConnectionId_++,v=n.lastSessionId;let I=!1,w=null;const M=function(){w?w.close():(I=!0,c())};n.realtime_={close:M,sendRequest:function(G){(0,N.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(G)}};const U=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[G,pe]=yield Promise.all([n.authTokenProvider_.getToken(U),n.appCheckTokenProvider_.getToken(U)]);I?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),n.authToken_=G&&G.accessToken,n.appCheckToken_=pe&&pe.token,w=new Fu(h,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,a,c,Ue=>{Pr(Ue+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},v))}catch(G){n.log_("Failed to get token: "+G),I||(n.repoInfo_.nodeAdmin&&Pr(G),M())}}})()}interrupt(n){Qn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Tf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let a;a=i?i.map(h=>Wm(h)).join("$"):"default";const c=this.removeListen_(n,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,i){const a=new St(n).toString();let c;if(this.listens.has(a)){const h=this.listens.get(a);c=h.get(i),h.delete(i),0===h.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(n,i){Qn("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Qn("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+i+"."+Ou.replace(/\./g,"-")]=1,(0,N.uI)()?n["framework.cordova"]=1:(0,N.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Df.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class _t{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new _t(t,n)}}class wp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new _t(ua,t),a=new _t(ua,n);return 0!==this.compare(i,a)}minPost(){return _t.MIN}}class lE extends wp{static get __EMPTY_NODE(){return Dp}static set __EMPTY_NODE(t){Dp=t}compare(t,n){return yo(t.name,n.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Ps,Dp)}makePost(t,n){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,Dp)}toString(){return".key"}}const Jn=new lE;class td{constructor(t,n,i,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(h=n?i(t.key,n):1,a&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let nd,Os=(()=>{class e{constructor(n,i,a,c,h){this.key=n,this.value=i,this.color=a??e.RED,this.left=c??ri.EMPTY_NODE,this.right=h??ri.EMPTY_NODE}copy(n,i,a,c,h){return new e(n??this.key,i??this.value,a??this.color,c??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let c=this;const h=a(n,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(n,i,a),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let a,c;if(a=this,i(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(n,a.key)){if(a.right.isEmpty())return ri.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class ri{constructor(t,n=ri.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ri(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Os.BLACK,null,null))}remove(t){return new ri(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Os.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,a=null;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),0===n){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new td(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new td(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new td(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new td(this.root_,null,this.comparator_,!0,t)}}function cE(e,t){return yo(e.name,t.name)}function bp(e,t){return yo(e,t)}ri.EMPTY_NODE=new class uE{copy(t,n,i,a,c){return this}insert(t,n,i){return new Os(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const mw=function(e){return"number"==typeof e?"number:"+jy(e):"string:"+e},f_=function(e){if(e.isLeafNode()){const t=e.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(e===nd||e.isEmpty(),"priority of unexpected type.");(0,N.hu)(e===nd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let h_,p_,Tp,Vu=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),f_(this.priorityNode_)}static set __childrenNodeConstructor(n){h_=n}static get __childrenNodeConstructor(){return h_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return mt(n)?this:".priority"===ht(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const a=ht(n);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,N.hu)(".priority"!==a||1===gl(n),".priority must be the last token in a path"),this.updateImmediateChild(a,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+mw(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?jy(this.value_):this.value_,this.lazyHash_=Uy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:((0,N.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,a=typeof this.value_,c=e.VALUE_TYPE_ORDER.indexOf(i),h=e.VALUE_TYPE_ORDER.indexOf(a);return(0,N.hu)(c>=0,"Unknown leaf type: "+i),(0,N.hu)(h>=0,"Unknown leaf type: "+a),c===h?"object"===a?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const jt=new class vw extends wp{compare(t,n){const i=t.node.getPriority(),a=n.node.getPriority(),c=i.compareTo(a);return 0===c?yo(t.name,n.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Ps,new Vu("[PRIORITY-POST]",Tp))}makePost(t,n){const i=p_(t);return new _t(n,new Vu("[PRIORITY-POST]",i))}toString(){return".priority"}},yw=Math.log(2);class dE{constructor(t){this.count=parseInt(Math.log(t+1)/yw,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Sp=function(e,t,n,i){e.sort(t);const a=function(I,w){const M=w-I;let S,U;if(0===M)return null;if(1===M)return S=e[I],U=n?n(S):S,new Os(U,S.node,Os.BLACK,null,null);{const G=parseInt(M/2,10)+I,pe=a(I,G),Ue=a(G+1,w);return S=e[G],U=n?n(S):S,new Os(U,S.node,Os.BLACK,pe,Ue)}},v=function(I){let w=null,M=null,S=e.length;const U=function(pe,Ue){const at=S-pe,Dt=S;S-=pe;const Ot=a(at+1,Dt),Un=e[at],Ht=n?n(Un):Un;G(new Os(Ht,Un.node,Ue,null,Ot))},G=function(pe){w?(w.left=pe,w=pe):(M=pe,w=pe)};for(let pe=0;pe<I.count;++pe){const Ue=I.nextBitIsOne(),at=Math.pow(2,I.count-(pe+1));Ue?U(at,Os.BLACK):(U(at,Os.BLACK),U(at,Os.RED))}return M}(new dE(e.length));return new ri(i||t,v)};let rd;const Co={};class Ki{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return(0,N.hu)(Co&&jt,"ChildrenNode.ts has not been loaded"),rd=rd||new Ki({".priority":Co},{".priority":jt}),rd}get(t){const n=(0,N.DV)(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ri?n:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,n){(0,N.hu)(t!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const c=n.getIterator(_t.Wrap);let v,h=c.getNext();for(;h;)a=a||t.isDefinedOn(h.node),i.push(h),h=c.getNext();v=a?Sp(i,t.getCompare()):Co;const I=t.toString(),w=Object.assign({},this.indexSet_);w[I]=t;const M=Object.assign({},this.indexes_);return M[I]=v,new Ki(M,w)}addToIndexes(t,n){const i=(0,N.UI)(this.indexes_,(a,c)=>{const h=(0,N.DV)(this.indexSet_,c);if((0,N.hu)(h,"Missing index implementation for "+c),a===Co){if(h.isDefinedOn(t.node)){const v=[],I=n.getIterator(_t.Wrap);let w=I.getNext();for(;w;)w.name!==t.name&&v.push(w),w=I.getNext();return v.push(t),Sp(v,h.getCompare())}return Co}{const v=n.get(t.name);let I=a;return v&&(I=I.remove(new _t(t.name,v))),I.insert(t,t.node)}});return new Ki(i,this.indexSet_)}removeFromIndexes(t,n){const i=(0,N.UI)(this.indexes_,a=>{if(a===Co)return a;{const c=n.get(t.name);return c?a.remove(new _t(t.name,c)):a}});return new Ki(i,this.indexSet_)}}let Ap,ft=(()=>{class e{constructor(n,i,a){this.children_=n,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&f_(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ap||(Ap=new e(new ri(bp),null,Ki.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ap}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?Ap:i}}getChild(n){const i=ht(n);return null===i?this:this.getImmediateChild(i).getChild(zt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const a=new _t(n,i);let c,h;i.isEmpty()?(c=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(n,i),h=this.indexMap_.addToIndexes(a,this.children_));const v=c.isEmpty()?Ap:this.priorityNode_;return new e(c,v,h)}}updateChild(n,i){const a=ht(n);if(null===a)return i;{(0,N.hu)(".priority"!==ht(n)||1===gl(n),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(zt(n),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let a=0,c=0,h=!0;if(this.forEachChild(jt,(v,I)=>{i[v]=I.val(n),a++,h&&e.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):h=!1}),!n&&h&&c<2*a){const v=[];for(const I in i)v[I]=i[I];return v}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+mw(this.getPriority().val())+":"),this.forEachChild(jt,(i,a)=>{const c=a.hash();""!==c&&(n+=":"+i+":"+c)}),this.lazyHash_=""===n?"":Uy(n)}return this.lazyHash_}getPredecessorChildName(n,i,a){const c=this.resolveIndex_(a);if(c){const h=c.getPredecessorKey(new _t(n,i));return h?h.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new _t(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new _t(i,this.children_.get(i)):null}forEachChild(n,i){const a=this.resolveIndex_(n);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,_t.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,n)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,_t.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,n)>0;)c.getNext(),h=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===id?-1:0}withIndex(n){if(n===Jn||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Jn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(jt),c=i.getIterator(jt);let h=a.getNext(),v=c.getNext();for(;h&&v;){if(h.name!==v.name||!h.node.equals(v.node))return!1;h=a.getNext(),v=c.getNext()}return null===h&&null===v}return!1}return!1}}resolveIndex_(n){return n===Jn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const id=new class fE extends ft{constructor(){super(new ri(bp),ft.EMPTY_NODE,Ki.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_t,{MIN:{value:new _t(ua,ft.EMPTY_NODE)},MAX:{value:new _t(Ps,id)}}),lE.__EMPTY_NODE=ft.EMPTY_NODE,Vu.__childrenNodeConstructor=ft,function d_(e){nd=e}(id),function _w(e){Tp=e}(id);const Ew=!0;function dn(e,t=null){if(null===e)return ft.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Vu(e,dn(t));if(e instanceof Array||!Ew){let n=ft.EMPTY_NODE;return mr(e,(i,a)=>{if((0,N.r3)(e,i)&&"."!==i.substring(0,1)){const c=dn(a);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(i,c))}}),n.updatePriority(dn(t))}{const n=[];let i=!1;if(mr(e,(h,v)=>{if("."!==h.substring(0,1)){const I=dn(v);I.isEmpty()||(i=i||!I.getPriority().isEmpty(),n.push(new _t(h,I)))}}),0===n.length)return ft.EMPTY_NODE;const c=Sp(n,cE,h=>h.name,bp);if(i){const h=Sp(n,jt.getCompare());return new ft(c,dn(t),new Ki({".priority":h},{".priority":jt}))}return new ft(c,dn(t),Ki.Default)}}!function da(e){p_=e}(dn);class Mp extends wp{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!mt(t)&&".priority"!==ht(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),a=this.extractChild(n.node),c=i.compareTo(a);return 0===c?yo(t.name,n.name):c}makePost(t,n){const i=dn(t),a=ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new _t(n,a)}maxPost(){const t=ft.EMPTY_NODE.updateChild(this.indexPath_,id);return new _t(Ps,t)}toString(){return bf(this.indexPath_,0).join("/")}}const Uu=new class hE extends wp{compare(t,n){const i=t.node.compareTo(n.node);return 0===i?yo(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(t,n){const i=dn(t);return new _t(n,i)}toString(){return".value"}};function pE(e){return{type:"value",snapshotNode:e}}function Bu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Sf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ju{constructor(t){this.index_=t}updateChild(t,n,i,a,c,h){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(n);return v.getChild(a).equals(i.getChild(a))&&v.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?t.hasChild(n)?h.trackChildChange(sd(n,v)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?h.trackChildChange(Bu(n,i)):h.trackChildChange(Sf(n,i,v))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return null!=i&&(t.isLeafNode()||t.forEachChild(jt,(a,c)=>{n.hasChild(a)||i.trackChildChange(sd(a,c))}),n.isLeafNode()||n.forEachChild(jt,(a,c)=>{if(t.hasChild(a)){const h=t.getImmediateChild(a);h.equals(c)||i.trackChildChange(Sf(a,c,h))}else i.trackChildChange(Bu(a,c))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ft.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Af{constructor(t){this.indexedFilter_=new ju(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Af.getStartPost_(t),this.endPost_=Af.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,a,c,h){return this.matches(new _t(n,i))||(i=ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,a,c,h)}updateFullNode(t,n,i){n.isLeafNode()&&(n=ft.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(ft.EMPTY_NODE);const c=this;return n.forEachChild(jt,(h,v)=>{c.matches(new _t(h,v))||(a=a.updateImmediateChild(h,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class Iw{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Af(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,a,c,h){return this.rangedFilter_.matches(new _t(n,i))||(i=ft.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,a,c,h):this.fullLimitUpdateChild_(t,n,i,c,h)}updateFullNode(t,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let c;a=ft.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const v=c.getNext();if(this.withinDirectionalStart(v)){if(!this.withinDirectionalEnd(v))break;a=a.updateImmediateChild(v.name,v.node),h++}}}else{let c;a=n.withIndex(this.index_),a=a.updatePriority(ft.EMPTY_NODE),c=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let h=0;for(;c.hasNext();){const v=c.getNext();h<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?h++:a=a.updateImmediateChild(v.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,a,c){let h;if(this.reverse_){const S=this.index_.getCompare();h=(U,G)=>S(G,U)}else h=this.index_.getCompare();const v=t;(0,N.hu)(v.numChildren()===this.limit_,"");const I=new _t(n,i),w=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),M=this.rangedFilter_.matches(I);if(v.hasChild(n)){const S=v.getImmediateChild(n);let U=a.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=U&&(U.name===n||v.hasChild(U.name));)U=a.getChildAfterChild(this.index_,U,this.reverse_);const G=null==U?1:h(U,I);if(M&&!i.isEmpty()&&G>=0)return c?.trackChildChange(Sf(n,i,S)),v.updateImmediateChild(n,i);{c?.trackChildChange(sd(n,S));const Ue=v.updateImmediateChild(n,ft.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(c?.trackChildChange(Bu(U.name,U.node)),Ue.updateImmediateChild(U.name,U.node)):Ue}}return i.isEmpty()?t:M&&h(w,I)>=0?(null!=c&&(c.trackChildChange(sd(w.name,w.node)),c.trackChildChange(Bu(n,i))),v.updateImmediateChild(n,i).updateImmediateChild(w.name,ft.EMPTY_NODE)):t}}class Rp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ua}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jt}copy(){const t=new Rp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function g_(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Pp(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Np(e,t){const n=e.copy();return n.index_=t,n}function Mf(e){const t={};if(e.isDefault())return t;let n;if(e.index_===jt?n="$priority":e.index_===Uu?n="$value":e.index_===Jn?n="$key":((0,N.hu)(e.index_ instanceof Mp,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,N.Wl)(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=(0,N.Wl)(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+(0,N.Wl)(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=(0,N.Wl)(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+(0,N.Wl)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function gE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==jt&&(t.i=e.index_.toString()),t}class Op extends vp{constructor(t,n,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Cf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Op.getListenId_(t,i),v={};this.listens_[h]=v;const I=Mf(t._queryParams);this.restRequest_(c+".json",I,(w,M)=>{let S=M;if(404===w&&(S=null,w=null),null===w&&this.onDataUpdate_(c,S,!1,i),(0,N.DV)(this.listens_,h)===v){let U;U=w?401===w?"permission_denied":"rest_error:"+w:"ok",a(U,null)}})}unlisten(t,n){const i=Op.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Mf(t._queryParams),i=t._path.toString(),a=new N.BH;return this.restRequest_(i+".json",n,(c,h)=>{let v=h;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(i,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(n.auth=a.accessToken),c&&c.token&&(n.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(n);this.log_("Sending REST request for "+h);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+h+" received. status:",v.status,"response:",v.responseText);let I=null;if(v.status>=200&&v.status<300){try{I=(0,N.cI)(v.responseText)}catch{Pr("Failed to parse JSON response for "+h+": "+v.responseText)}i(null,I)}else 401!==v.status&&404!==v.status&&Pr("Got unsuccessful REST response for "+h+" Status: "+v.status),i(v.status);i=null}},v.open("GET",h,!0),v.send()})}}class Sw{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function xp(){return{value:null,children:new Map}}function od(e,t,n){if(mt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=ht(t);e.children.has(i)||e.children.set(i,xp()),od(e.children.get(i),t=zt(t),n)}}function __(e,t){if(mt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(jt,(i,a)=>{od(e,new St(i),a)}),__(e,t)}}if(e.children.size>0){const n=ht(t);return t=zt(t),e.children.has(n)&&__(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function v_(e,t,n){null!==e.value?n(t,e.value):function mE(e,t){e.children.forEach((n,i)=>{t(i,n)})}(e,(i,a)=>{v_(a,new St(t.toString()+"/"+i),n)})}class _E{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&mr(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=t,n}}class EE{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _E(t);const i=1e4+2e4*Math.random();Kc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;mr(t,(a,c)=>{c>0&&(0,N.r3)(this.statsToReport_,a)&&(n[a]=c,i=!0)}),i&&this.server_.reportStats(n),Kc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fa=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(fa||{});function E_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class ld{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=fa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(t));return new ld(Tt(),n,this.revert)}}return(0,N.hu)(ht(this.path)===t,"operationForChild called for unrelated child."),new ld(zt(this.path),this.affectedTree,this.revert)}}class Rf{constructor(t,n){this.source=t,this.path=n,this.type=fa.LISTEN_COMPLETE}operationForChild(t){return mt(this.path)?new Rf(this.source,Tt()):new Rf(this.source,zt(this.path))}}class Or{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=fa.OVERWRITE}operationForChild(t){return mt(this.path)?new Or(this.source,Tt(),this.snap.getImmediateChild(t)):new Or(this.source,zt(this.path),this.snap)}}class Io{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=fa.MERGE}operationForChild(t){if(mt(this.path)){const n=this.children.subtree(new St(t));return n.isEmpty()?null:n.value?new Or(this.source,Tt(),n.value):new Io(this.source,Tt(),n)}return(0,N.hu)(ht(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Io(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fn{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;const n=ht(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Hu{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xr(e,t,n,i,a,c){const h=i.filter(v=>v.type===n);h.sort((v,I)=>function ud(e,t,n){if(null==t.childName||null==n.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new _t(t.childName,t.snapshotNode),a=new _t(n.childName,n.snapshotNode);return e.index_.compare(i,a)}(e,v,I)),h.forEach(v=>{const I=function C_(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,v,c);a.forEach(w=>{w.respondsTo(v.type)&&t.push(w.createEvent(I,e.query_))})})}function ha(e,t){return{eventCache:e,serverCache:t}}function wo(e,t,n,i){return ha(new fn(t,n,i),e.serverCache)}function $u(e,t,n,i){return ha(e.eventCache,new fn(t,n,i))}function pa(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ml;class Mt{constructor(t,n=(()=>(ml||(ml=new ri(JI)),ml))()){this.value=t,this.children=n}static fromObject(t){let n=new Mt(null);return mr(t,(i,a)=>{n=n.set(new St(i),a)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:Tt(),value:this.value};if(mt(t))return null;{const i=ht(t),a=this.children.get(i);if(null!==a){const c=a.findRootMostMatchingPathAndValue(zt(t),n);return null!=c?{path:ln(new St(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mt(t))return this;{const n=ht(t),i=this.children.get(n);return null!==i?i.subtree(zt(t)):new Mt(null)}}set(t,n){if(mt(t))return new Mt(n,this.children);{const i=ht(t),c=(this.children.get(i)||new Mt(null)).set(zt(t),n),h=this.children.insert(i,c);return new Mt(this.value,h)}}remove(t){if(mt(t))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=ht(t),i=this.children.get(n);if(i){const a=i.remove(zt(t));let c;return c=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&c.isEmpty()?new Mt(null):new Mt(this.value,c)}return this}}get(t){if(mt(t))return this.value;{const n=ht(t),i=this.children.get(n);return i?i.get(zt(t)):null}}setTree(t,n){if(mt(t))return n;{const i=ht(t),c=(this.children.get(i)||new Mt(null)).setTree(zt(t),n);let h;return h=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Mt(this.value,h)}}fold(t){return this.fold_(Tt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((a,c)=>{i[a]=c.fold_(ln(t,a),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Tt(),n)}findOnPath_(t,n,i){const a=!!this.value&&i(n,this.value);if(a)return a;if(mt(t))return null;{const c=ht(t),h=this.children.get(c);return h?h.findOnPath_(zt(t),ln(n,c),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Tt(),n)}foreachOnPath_(t,n,i){if(mt(t))return this;{this.value&&i(n,this.value);const a=ht(t),c=this.children.get(a);return c?c.foreachOnPath_(zt(t),ln(n,a),i):new Mt(null)}}foreach(t){this.foreach_(Tt(),t)}foreach_(t,n){this.children.inorderTraversal((i,a)=>{a.foreach_(ln(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}class Yi{constructor(t){this.writeTree_=t}static empty(){return new Yi(new Mt(null))}}function dd(e,t,n){if(mt(t))return new Yi(new Mt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let c=i.value;const h=Nr(a,t);return c=c.updateChild(h,n),new Yi(e.writeTree_.set(a,c))}{const a=new Mt(n),c=e.writeTree_.setTree(t,a);return new Yi(c)}}}function Fp(e,t,n){let i=e;return mr(n,(a,c)=>{i=dd(i,ln(t,a),c)}),i}function I_(e,t){if(mt(t))return Yi.empty();{const n=e.writeTree_.setTree(t,new Mt(null));return new Yi(n)}}function Lp(e,t){return null!=_l(e,t)}function _l(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Nr(n.path,t)):null}function w_(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jt,(i,a)=>{t.push(new _t(i,a))}):e.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new _t(i,a.value))}),t}function ga(e,t){if(mt(t))return e;{const n=_l(e,t);return new Yi(null!=n?new Mt(n):e.writeTree_.subtree(t))}}function Vp(e){return e.writeTree_.isEmpty()}function vl(e,t){return CE(Tt(),e.writeTree_,t)}function CE(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,N.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):n=CE(ln(e,a),c,n)}),!n.getChild(e).isEmpty()&&null!==i&&(n=n.updateChild(ln(e,".priority"),i)),n}}function D_(e,t){return jp(t,e)}function Rw(e,t){if(e.snap)return Zi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Zi(ln(e.path,n),t))return!0;return!1}function Pw(e){return e.visible}function IE(e,t,n){let i=Yi.empty();for(let a=0;a<e.length;++a){const c=e[a];if(t(c)){const h=c.path;let v;if(c.snap)Zi(n,h)?(v=Nr(n,h),i=dd(i,v,c.snap)):Zi(h,n)&&(v=Nr(h,n),i=dd(i,Tt(),c.snap.getChild(v)));else{if(!c.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(Zi(n,h))v=Nr(n,h),i=Fp(i,v,c.children);else if(Zi(h,n))if(v=Nr(h,n),mt(v))i=Fp(i,Tt(),c.children);else{const I=(0,N.DV)(c.children,ht(v));if(I){const w=I.getChild(zt(v));i=dd(i,Tt(),w)}}}}}return i}function wE(e,t,n,i,a){if(i||a){const c=ga(e.visibleWrites,t);return!a&&Vp(c)?n:a||null!=n||Lp(c,Tt())?vl(IE(e.allWrites,function(w){return(w.visible||a)&&(!i||!~i.indexOf(w.writeId))&&(Zi(w.path,t)||Zi(t,w.path))},t),n||ft.EMPTY_NODE):null}{const c=_l(e.visibleWrites,t);if(null!=c)return c;{const h=ga(e.visibleWrites,t);return Vp(h)?n:null!=n||Lp(h,Tt())?vl(h,n||ft.EMPTY_NODE):null}}}function Of(e,t,n,i){return wE(e.writeTree,e.treePath,t,n,i)}function S_(e,t){return function b_(e,t,n){let i=ft.EMPTY_NODE;const a=_l(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(jt,(c,h)=>{i=i.updateImmediateChild(c,h)}),i;if(n){const c=ga(e.visibleWrites,t);return n.forEachChild(jt,(h,v)=>{const I=vl(ga(c,new St(h)),v);i=i.updateImmediateChild(h,I)}),w_(c).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return w_(ga(e.visibleWrites,t)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(e.writeTree,e.treePath,t)}function fd(e,t,n,i){return function Pf(e,t,n,i,a){(0,N.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const c=ln(t,n);if(Lp(e.visibleWrites,c))return null;{const h=ga(e.visibleWrites,c);return Vp(h)?a.getChild(n):vl(h,a.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function Bp(e,t){return function Up(e,t){return _l(e.visibleWrites,t)}(e.writeTree,ln(e.treePath,t))}function A_(e,t,n){return function T_(e,t,n,i){const a=ln(t,n),c=_l(e.visibleWrites,a);return null!=c?c:i.isCompleteForChild(n)?vl(ga(e.visibleWrites,a),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function bE(e,t){return jp(ln(e.treePath,t),e.writeTree)}function jp(e,t){return{treePath:e,writeTree:t}}class Hp{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;(0,N.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const c=a.type;if("child_added"===n&&"child_removed"===c)this.changeMap.set(i,Sf(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===n&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===c)this.changeMap.set(i,sd(i,a.oldSnap));else if("child_changed"===n&&"child_added"===c)this.changeMap.set(i,Bu(i,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==c)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,Sf(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Ow=new class $p{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}};class M_{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return A_(this.writes_,t,i)}}getChildAfterChild(t,n,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qi(this.viewCache_),c=function Nw(e,t,n,i,a,c){return function DE(e,t,n,i,a,c,h){let v;const I=ga(e.visibleWrites,t),w=_l(I,Tt());if(null!=w)v=w;else{if(null==n)return[];v=vl(I,n)}if(v=v.withIndex(h),v.isEmpty()||v.isLeafNode())return[];{const M=[],S=h.getCompare(),U=c?v.getReverseIteratorFrom(i,h):v.getIteratorFrom(i,h);let G=U.getNext();for(;G&&M.length<a;)0!==S(G,i)&&M.push(G),G=U.getNext();return M}}(e.writeTree,e.treePath,t,n,i,a,c)}(this.writes_,a,n,1,i,t);return 0===c.length?null:c[0]}}function SE(e,t,n,i,a,c){const h=t.eventCache;if(null!=Bp(i,n))return t;{let v,I;if(mt(n))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=qi(t),S=S_(i,w instanceof ft?w:ft.EMPTY_NODE);v=e.filter.updateFullNode(t.eventCache.getNode(),S,c)}else{const w=Of(i,qi(t));v=e.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const w=ht(n);if(".priority"===w){(0,N.hu)(1===gl(n),"Can't have a priority with additional path components");const M=h.getNode();I=t.serverCache.getNode();const S=fd(i,n,M,I);v=null!=S?e.filter.updatePriority(M,S):h.getNode()}else{const M=zt(n);let S;if(h.isCompleteForChild(w)){I=t.serverCache.getNode();const U=fd(i,n,h.getNode(),I);S=null!=U?h.getNode().getImmediateChild(w).updateChild(M,U):h.getNode().getImmediateChild(w)}else S=A_(i,w,t.serverCache);v=null!=S?e.filter.updateChild(h.getNode(),w,S,M,a,c):h.getNode()}}return wo(t,v,h.isFullyInitialized()||mt(n),e.filter.filtersNodes())}}function Wp(e,t,n,i,a,c,h,v){const I=t.serverCache;let w;const M=h?e.filter:e.filter.getIndexedFilter();if(mt(n))w=M.updateFullNode(I.getNode(),i,null);else if(M.filtersNodes()&&!I.isFiltered()){const G=I.getNode().updateChild(n,i);w=M.updateFullNode(I.getNode(),G,null)}else{const G=ht(n);if(!I.isCompleteForPath(n)&&gl(n)>1)return t;const pe=zt(n),at=I.getNode().getImmediateChild(G).updateChild(pe,i);w=".priority"===G?M.updatePriority(I.getNode(),at):M.updateChild(I.getNode(),G,at,pe,Ow,null)}const S=$u(t,w,I.isFullyInitialized()||mt(n),M.filtersNodes());return SE(e,S,n,a,new M_(a,S,c),v)}function Gp(e,t,n,i,a,c,h){const v=t.eventCache;let I,w;const M=new M_(a,t,c);if(mt(n))w=e.filter.updateFullNode(t.eventCache.getNode(),i,h),I=wo(t,w,!0,e.filter.filtersNodes());else{const S=ht(n);if(".priority"===S)w=e.filter.updatePriority(t.eventCache.getNode(),i),I=wo(t,w,v.isFullyInitialized(),v.isFiltered());else{const U=zt(n),G=v.getNode().getImmediateChild(S);let pe;if(mt(U))pe=i;else{const Ue=M.getCompleteChild(S);pe=null!=Ue?".priority"===u_(U)&&Ue.getChild(iE(U)).isEmpty()?Ue:Ue.updateChild(U,i):ft.EMPTY_NODE}I=G.equals(pe)?t:wo(t,e.filter.updateChild(v.getNode(),S,pe,U,M,h),v.isFullyInitialized(),e.filter.filtersNodes())}}return I}function P_(e,t){return e.eventCache.isCompleteForChild(t)}function ME(e,t,n){return n.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function N_(e,t,n,i,a,c,h,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,I=t;w=mt(n)?i:new Mt(null).setTree(n,i);const M=t.serverCache.getNode();return w.children.inorderTraversal((S,U)=>{if(M.hasChild(S)){const pe=ME(0,t.serverCache.getNode().getImmediateChild(S),U);I=Wp(e,I,new St(S),pe,a,c,h,v)}}),w.children.inorderTraversal((S,U)=>{const G=!t.serverCache.isCompleteForChild(S)&&null===U.value;if(!M.hasChild(S)&&!G){const Ue=ME(0,t.serverCache.getNode().getImmediateChild(S),U);I=Wp(e,I,new St(S),Ue,a,c,h,v)}}),I}class x_{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ju(i.getIndex()),c=function ww(e){return e.loadsAllData()?new ju(e.getIndex()):e.hasLimit()?new Iw(e):new Af(e)}(i);this.processor_=function xw(e){return{filter:e}}(c);const h=n.serverCache,v=n.eventCache,I=a.updateFullNode(ft.EMPTY_NODE,h.getNode(),null),w=c.updateFullNode(ft.EMPTY_NODE,v.getNode(),null),M=new fn(I,h.isFullyInitialized(),a.filtersNodes()),S=new fn(w,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=ha(S,M),this.eventGenerator_=new Hu(this.query_)}get query(){return this.query_}}function Zp(e,t){const n=qi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!mt(t)&&!n.getImmediateChild(ht(t)).isEmpty())?n.getChild(t):null}function Kp(e){return 0===e.eventRegistrations_.length}function PE(e,t,n){const i=[];if(n){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(n,a);h&&i.push(h)})}if(t){let a=[];for(let c=0;c<e.eventRegistrations_.length;++c){const h=e.eventRegistrations_[c];if(h.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(c+1));break}}else a.push(h)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function NE(e,t,n,i){t.type===fa.MERGE&&null!==t.source.queryId&&((0,N.hu)(qi(e.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(pa(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,c=function kw(e,t,n,i,a){const c=new Hp;let h,v;if(n.type===fa.OVERWRITE){const w=n;w.source.fromUser?h=Gp(e,t,w.path,w.snap,i,a,c):((0,N.hu)(w.source.fromServer,"Unknown source."),v=w.source.tagged||t.serverCache.isFiltered()&&!mt(w.path),h=Wp(e,t,w.path,w.snap,i,a,v,c))}else if(n.type===fa.MERGE){const w=n;w.source.fromUser?h=function AE(e,t,n,i,a,c,h){let v=t;return i.foreach((I,w)=>{const M=ln(n,I);P_(t,ht(M))&&(v=Gp(e,v,M,w,a,c,h))}),i.foreach((I,w)=>{const M=ln(n,I);P_(t,ht(M))||(v=Gp(e,v,M,w,a,c,h))}),v}(e,t,w.path,w.children,i,a,c):((0,N.hu)(w.source.fromServer,"Unknown source."),v=w.source.tagged||t.serverCache.isFiltered(),h=N_(e,t,w.path,w.children,i,a,v,c))}else if(n.type===fa.ACK_USER_WRITE){const w=n;h=w.revert?function O_(e,t,n,i,a,c){let h;if(null!=Bp(i,n))return t;{const v=new M_(i,t,a),I=t.eventCache.getNode();let w;if(mt(n)||".priority"===ht(n)){let M;if(t.serverCache.isFullyInitialized())M=Of(i,qi(t));else{const S=t.serverCache.getNode();(0,N.hu)(S instanceof ft,"serverChildren would be complete if leaf node"),M=S_(i,S)}w=e.filter.updateFullNode(I,M,c)}else{const M=ht(n);let S=A_(i,M,t.serverCache);null==S&&t.serverCache.isCompleteForChild(M)&&(S=I.getImmediateChild(M)),w=null!=S?e.filter.updateChild(I,M,S,zt(n),v,c):t.eventCache.getNode().hasChild(M)?e.filter.updateChild(I,M,ft.EMPTY_NODE,zt(n),v,c):I,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Of(i,qi(t)),h.isLeafNode()&&(w=e.filter.updateFullNode(w,h,c)))}return h=t.serverCache.isFullyInitialized()||null!=Bp(i,Tt()),wo(t,w,h,e.filter.filtersNodes())}}(e,t,w.path,i,a,c):function Fw(e,t,n,i,a,c,h){if(null!=Bp(a,n))return t;const v=t.serverCache.isFiltered(),I=t.serverCache;if(null!=i.value){if(mt(n)&&I.isFullyInitialized()||I.isCompleteForPath(n))return Wp(e,t,n,I.getNode().getChild(n),a,c,v,h);if(mt(n)){let w=new Mt(null);return I.getNode().forEachChild(Jn,(M,S)=>{w=w.set(new St(M),S)}),N_(e,t,n,w,a,c,v,h)}return t}{let w=new Mt(null);return i.foreach((M,S)=>{const U=ln(n,M);I.isCompleteForPath(U)&&(w=w.set(M,I.getNode().getChild(U)))}),N_(e,t,n,w,a,c,v,h)}}(e,t,w.path,w.affectedTree,i,a,c)}else{if(n.type!==fa.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+n.type);h=function Lw(e,t,n,i,a){const c=t.serverCache;return SE(e,$u(t,c.getNode(),c.isFullyInitialized()||mt(n),c.isFiltered()),n,i,Ow,a)}(e,t,n.path,i,c)}const I=c.getChanges();return function TE(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=pa(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&n.push(pE(pa(t)))}}(t,h,I),{viewCache:h,changes:I}}(e.processor_,a,t,n,i);return function R_(e,t){(0,N.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,c.viewCache),(0,N.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=c.viewCache,qp(e,c.changes,c.viewCache.eventCache.getNode(),null)}function qp(e,t,n,i){return function kp(e,t,n,i){const a=[],c=[];return t.forEach(h=>{"child_changed"===h.type&&e.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function Cw(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(h.childName,h.snapshotNode))}),xr(e,a,"child_removed",t,i,n),xr(e,a,"child_added",t,i,n),xr(e,a,"child_moved",c,i,n),xr(e,a,"child_changed",t,i,n),xr(e,a,"value",t,i,n),a}(e.eventGenerator_,t,n,i?[i]:e.eventRegistrations_)}let hd,Jp;class k_{constructor(){this.views=new Map}}function F_(e,t,n,i){const a=t.source.queryId;if(null!==a){const c=e.views.get(a);return(0,N.hu)(null!=c,"SyncTree gave us an op for an invalid query."),NE(c,t,n,i)}{let c=[];for(const h of e.views.values())c=c.concat(NE(h,t,n,i));return c}}function Yp(e,t,n,i,a){const h=e.views.get(t._queryIdentifier);if(!h){let v=Of(n,a?i:null),I=!1;v?I=!0:i instanceof ft?(v=S_(n,i),I=!1):(v=ft.EMPTY_NODE,I=!1);const w=ha(new fn(v,I,!1),new fn(i,a,!1));return new x_(t,w)}return h}function V_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function yl(e,t){let n=null;for(const i of e.views.values())n=n||Zp(i,t);return n}function U_(e,t){return t._queryParams.loadsAllData()?Qp(e):e.views.get(t._queryIdentifier)}function B_(e,t){return null!=U_(e,t)}function ma(e){return null!=Qp(e)}function Qp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let kE=1;class Xp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=function Nf(){return{visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eg(e,t,n,i,a){return function RT(e,t,n,i,a){(0,N.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:a}),a&&(e.visibleWrites=dd(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,a),a?Qi(e,new Or({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _a(e,t,n=!1){const i=function Mw(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(function PT(e,t){const n=e.allWrites.findIndex(v=>v.writeId===t);(0,N.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let a=i.visible,c=!1,h=e.allWrites.length-1;for(;a&&h>=0;){const v=e.allWrites[h];v.visible&&(h>=n&&Rw(v,i.path)?a=!1:Zi(i.path,v.path)&&(c=!0)),h--}return!!a&&(c?(function NT(e){e.visibleWrites=IE(e.allWrites,Pw,Tt()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=I_(e.visibleWrites,i.path):mr(i.children,I=>{e.visibleWrites=I_(e.visibleWrites,ln(i.path,I))}),!0))}(e.pendingWriteTree_,t)){let c=new Mt(null);return null!=i.snap?c=c.set(Tt(),!0):mr(i.children,h=>{c=c.set(new St(h),!0)}),Qi(e,new ld(i.path,c,n))}return[]}function pd(e,t,n){return Qi(e,new Or({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xf(e,t,n,i,a=!1){const c=t._path,h=e.syncPointTree_.get(c);let v=[];if(h&&("default"===t._queryIdentifier||B_(h,t))){const I=function L_(e,t,n,i){const a=t._queryIdentifier,c=[];let h=[];const v=ma(e);if("default"===a)for(const[I,w]of e.views.entries())h=h.concat(PE(w,n,i)),Kp(w)&&(e.views.delete(I),w.query._queryParams.loadsAllData()||c.push(w.query));else{const I=e.views.get(a);I&&(h=h.concat(PE(I,n,i)),Kp(I)&&(e.views.delete(a),I.query._queryParams.loadsAllData()||c.push(I.query)))}return v&&!ma(e)&&c.push(new(function Bw(){return(0,N.hu)(hd,"Reference.ts has not been loaded"),hd}())(t._repo,t._path)),{removed:c,events:h}}(h,t,n,i);(function jw(e){return 0===e.views.size})(h)&&(e.syncPointTree_=e.syncPointTree_.remove(c));const w=I.removed;if(v=I.events,!a){const M=-1!==w.findIndex(U=>U._queryParams.loadsAllData()),S=e.syncPointTree_.findOnPath(c,(U,G)=>ma(G));if(M&&!S){const U=e.syncPointTree_.subtree(c);if(!U.isEmpty()){const G=function Ww(e){return e.fold((t,n,i)=>{if(n&&ma(n))return[Qp(n)];{let a=[];return n&&(a=V_(n)),mr(i,(c,h)=>{a=a.concat(h)}),a}})}(U);for(let pe=0;pe<G.length;++pe){const Ue=G[pe],at=Ue.query,Dt=rg(e,Ue);e.listenProvider_.startListening(hn(at),ig(e,at),Dt.hashFn,Dt.onComplete)}}}!S&&w.length>0&&!i&&(M?e.listenProvider_.stopListening(hn(t),null):w.forEach(U=>{const G=e.queryToTagMap.get($_(U));e.listenProvider_.stopListening(hn(U),G)}))}!function jE(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const a=$_(i),c=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(c)}}}(e,w)}return v}function kf(e,t,n,i){const a=W_(e,i);if(null!=a){const c=G_(a),h=c.path,v=c.queryId,I=Nr(h,t);return sg(e,h,new Or(E_(v),I,n))}return[]}function j_(e,t,n,i=!1){const a=t._path;let c=null,h=!1;e.syncPointTree_.foreachOnPath(a,(U,G)=>{const pe=Nr(U,a);c=c||yl(G,pe),h=h||ma(G)});let I,v=e.syncPointTree_.get(a);v?(h=h||ma(v),c=c||yl(v,Tt())):(v=new k_,e.syncPointTree_=e.syncPointTree_.set(a,v)),null!=c?I=!0:(I=!1,c=ft.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((G,pe)=>{const Ue=yl(pe,Tt());Ue&&(c=c.updateImmediateChild(G,Ue))}));const w=B_(v,t);if(!w&&!t._queryParams.loadsAllData()){const U=$_(t);(0,N.hu)(!e.queryToTagMap.has(U),"View does not exist, but we have a tag");const G=function Gw(){return kE++}();e.queryToTagMap.set(U,G),e.tagToQueryMap.set(G,U)}let S=function xE(e,t,n,i,a,c){const h=Yp(e,t,i,a,c);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,h),function RE(e,t){e.eventRegistrations_.push(t)}(h,n),function Uw(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(jt,(c,h)=>{i.push(Bu(c,h))}),n.isFullyInitialized()&&i.push(pE(n.getNode())),qp(e,i,n.getNode(),t)}(h,n)}(v,t,n,D_(e.pendingWriteTree_,a),c,I);if(!w&&!h&&!i){const U=U_(v,t);S=S.concat(function zw(e,t,n){const i=t._path,a=ig(e,t),c=rg(e,n),h=e.listenProvider_.startListening(hn(t),a,c.hashFn,c.onComplete),v=e.syncPointTree_.subtree(i);if(a)(0,N.hu)(!ma(v.value),"If we're adding a query, it shouldn't be shadowed");else{const I=v.fold((w,M,S)=>{if(!mt(w)&&M&&ma(M))return[Qp(M).query];{let U=[];return M&&(U=U.concat(V_(M).map(G=>G.query))),mr(S,(G,pe)=>{U=U.concat(pe)}),U}});for(let w=0;w<I.length;++w){const M=I[w];e.listenProvider_.stopListening(hn(M),ig(e,M))}}return h}(e,t,U))}return S}function tg(e,t,n){const a=e.pendingWriteTree_,c=e.syncPointTree_.findOnPath(t,(h,v)=>{const w=yl(v,Nr(h,t));if(w)return w});return wE(a,t,c,n,!0)}function Qi(e,t){return ng(t,e.syncPointTree_,null,D_(e.pendingWriteTree_,Tt()))}function ng(e,t,n,i){if(mt(e.path))return BE(e,t,n,i);{const a=t.get(Tt());null==n&&null!=a&&(n=yl(a,Tt()));let c=[];const h=ht(e.path),v=e.operationForChild(h),I=t.children.get(h);if(I&&v){const w=n?n.getImmediateChild(h):null,M=bE(i,h);c=c.concat(ng(v,I,w,M))}return a&&(c=c.concat(F_(a,e,i,n))),c}}function BE(e,t,n,i){const a=t.get(Tt());null==n&&null!=a&&(n=yl(a,Tt()));let c=[];return t.children.inorderTraversal((h,v)=>{const I=n?n.getImmediateChild(h):null,w=bE(i,h),M=e.operationForChild(h);M&&(c=c.concat(BE(M,v,I,w)))}),a&&(c=c.concat(F_(a,e,i,n))),c}function rg(e,t){const n=t.query,i=ig(e,n);return{hashFn:()=>(function Vw(e){return e.viewCache_.serverCache.getNode()}(t)||ft.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function UE(e,t,n){const i=W_(e,n);if(i){const a=G_(i),c=a.path,h=a.queryId,v=Nr(c,t);return sg(e,c,new Rf(E_(h),v))}return[]}(e,n._path,i):function VE(e,t){return Qi(e,new Rf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const c=function zc(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(a,n);return xf(e,n,null,c)}}}}function ig(e,t){const n=$_(t);return e.queryToTagMap.get(n)}function $_(e){return e._path.toString()+"$"+e._queryIdentifier}function W_(e,t){return e.tagToQueryMap.get(t)}function G_(e){const t=e.indexOf("$");return(0,N.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new St(e.substr(0,t))}}function sg(e,t,n){const i=e.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),F_(i,n,D_(e.pendingWriteTree_,t),null)}function hn(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function $w(){return(0,N.hu)(Jp,"Reference.ts has not been loaded"),Jp}())(e._repo,e._path):e}class og{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new og(n)}node(){return this.node_}}class z_{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ln(this.path_,t);return new z_(this.syncTree_,n)}node(){return tg(this.syncTree_,this.path_)}}const HE=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Z_=function(e,t,n){return e&&"object"==typeof e?((0,N.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?gd(e[".sv"],t,n):"object"==typeof e[".sv"]?Zw(e[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gd=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,N.hu)(!1,"Unexpected server value: "+e)},Zw=function(e,t,n){e.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,N.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const h=a.getValue();return"number"!=typeof h?i:h+i},$E=function(e,t,n,i){return K_(t,new z_(n,e),i)},ag=function(e,t,n){return K_(e,new og(t),n)};function K_(e,t,n){const i=e.getPriority().val(),a=Z_(i,t.getImmediateChild(".priority"),n);let c;if(e.isLeafNode()){const h=e,v=Z_(h.getValue(),t,n);return v!==h.getValue()||a!==h.getPriority().val()?new Vu(v,dn(a)):e}{const h=e;return c=h,a!==h.getPriority().val()&&(c=c.updatePriority(new Vu(a))),h.forEachChild(jt,(v,I)=>{const w=K_(I,t.getImmediateChild(v),n);w!==I&&(c=c.updateImmediateChild(v,w))}),c}}class lg{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function q_(e,t){let n=t instanceof St?t:new St(t),i=e,a=ht(n);for(;null!==a;){const c=(0,N.DV)(i.node.children,a)||{children:{},childCount:0};i=new lg(a,i,c),n=zt(n),a=ht(n)}return i}function Cl(e){return e.node.value}function Ff(e,t){e.node.value=t,cg(e)}function xs(e){return e.node.childCount>0}function ug(e,t){mr(e.node.children,(n,i)=>{t(new lg(n,e,i))})}function ks(e,t,n,i){n&&!i&&t(e),ug(e,a=>{ks(a,t,!0,i)}),n&&i&&t(e)}function $r(e){return new St(null===e.parent?e.name:$r(e.parent)+"/"+e.name)}function cg(e){null!==e.parent&&function WE(e,t,n){const i=function Kw(e){return void 0===Cl(e)&&!xs(e)}(n),a=(0,N.r3)(e.node.children,t);i&&a?(delete e.node.children[t],e.node.childCount--,cg(e)):!i&&!a&&(e.node.children[t]=n.node,e.node.childCount++,cg(e))}(e.parent,e.name,e)}const qw=/[\[\].#$\/\u0000-\u001F\u007F]/,Yw=/[\[\].#$\u0000-\u001F\u007F]/,Y_=10485760,dg=function(e){return"string"==typeof e&&0!==e.length&&!qw.test(e)},fg=function(e){return"string"==typeof e&&0!==e.length&&!Yw.test(e)},Vf=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Wc(e)||e&&"object"==typeof e&&(0,N.r3)(e,".sv")},Ls=function(e,t,n,i){i&&void 0===t||Uf((0,N.gK)(e,"value"),t,n)},Uf=function(e,t,n){const i=n instanceof St?new Ii(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ca(i));if("function"==typeof t)throw new Error(e+"contains a function "+ca(i)+" with contents = "+t.toString());if(Wc(t))throw new Error(e+"contains "+t.toString()+" "+ca(i));if("string"==typeof t&&t.length>Y_/3&&(0,N.ug)(t)>Y_)throw new Error(e+"contains a string greater than "+Y_+" utf8 bytes "+ca(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(mr(t,(h,v)=>{if(".value"===h)a=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!dg(h)))throw new Error(e+" contains an invalid key ("+h+") "+ca(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function cw(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,N.ug)(t),fw(e)})(i,h),Uf(e,v,i),function dw(e){const t=e.parts_.pop();e.byteLength_-=(0,N.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&c)throw new Error(e+' contains ".value" child '+ca(i)+" in addition to actual children.")}},Q_=function(e,t,n,i){if(i&&void 0===t)return;const a=(0,N.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];mr(t,(h,v)=>{const I=new St(h);if(Uf(a,v,ln(n,I)),".priority"===u_(I)&&!Vf(v))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(I)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const c=bf(i);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!dg(c[h]))throw new Error(e+"contains an invalid key ("+c[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(sE);let a=null;for(n=0;n<t.length;n++){if(i=t[n],null!==a&&Zi(a,i))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,c)},hg=function(e,t,n){if(!n||void 0!==t){if(Wc(t))throw new Error((0,N.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vf(t))throw new Error((0,N.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Il=function(e,t,n,i){if(!(i&&void 0===n||dg(n)))throw new Error((0,N.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bf=function(e,t,n,i){if(!(i&&void 0===n||fg(n)))throw new Error((0,N.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},GE=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bf(e,t,n,i)},wi=function(e,t){if(".info"===ht(t))throw new Error(e+" failed = Can't modify data under /.info/")},J_=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!dg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),fg(e)}(n))throw new Error((0,N.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Jw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pg(e,t){let n=null;for(let i=0;i<t.length;i++){const a=t[i],c=a.getPath();null!==n&&!c_(c,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:c}),n.events.push(a)}n&&e.eventLists_.push(n)}function gg(e,t,n){pg(e,n),X_(e,i=>c_(i,t))}function kr(e,t,n){pg(e,n),X_(e,i=>Zi(i,t)||Zi(t,i))}function X_(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const a=e.eventLists_[i];a&&(t(a.path)?(zE(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function zE(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();xu&&Qn("event: "+n.toString()),Zc(i)}}}const ev="repo_interrupt",ZE=25;class KE{constructor(t,n,i,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xp(),this.transactionQueueTree_=new lg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tv(e){const n=e.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function md(e){return HE({timestamp:tv(e)})}function YE(e,t,n,i,a){e.dataUpdateCount++;const c=new St(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let h=[];if(a)if(i){const I=(0,N.UI)(n,w=>dn(w));h=function El(e,t,n,i){const a=W_(e,i);if(a){const c=G_(a),h=c.path,v=c.queryId,I=Nr(h,t),w=Mt.fromObject(n);return sg(e,h,new Io(E_(v),I,w))}return[]}(e.serverSyncTree_,c,I,a)}else{const I=dn(n);h=kf(e.serverSyncTree_,c,I,a)}else if(i){const I=(0,N.UI)(n,w=>dn(w));h=function LE(e,t,n){const i=Mt.fromObject(n);return Qi(e,new Io({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,c,I)}else{const I=dn(n);h=pd(e.serverSyncTree_,c,I)}let v=c;h.length>0&&(v=Wu(e,c)),kr(e.eventQueue_,v,h)}function QE(e,t){nv(e,"connected",t),!1===t&&function nD(e){_d(e,"onDisconnectEvents");const t=md(e),n=xp();v_(e.onDisconnect_,Tt(),(a,c)=>{const h=$E(a,c,e.serverSyncTree_,t);od(n,a,h)});let i=[];v_(n,Tt(),(a,c)=>{i=i.concat(pd(e.serverSyncTree_,a,c));const h=ya(e,a);Wu(e,h)}),e.onDisconnect_=xp(),kr(e.eventQueue_,Tt(),i)}(e)}function nv(e,t,n){const i=new St("/.info/"+t),a=dn(n);e.infoData_.updateSnapshot(i,a);const c=pd(e.infoSyncTree_,i,a);kr(e.eventQueue_,i,c)}function mg(e){return e.nextWriteId_++}function rv(e,t,n,i,a){_d(e,"set",{path:t.toString(),value:n,priority:i});const c=md(e),h=dn(n,i),v=tg(e.serverSyncTree_,t),I=ag(h,v,c),w=mg(e),M=eg(e.serverSyncTree_,t,I,w,!0);pg(e.eventQueue_,M),e.server_.put(t.toString(),h.val(!0),(U,G)=>{const pe="ok"===U;pe||Pr("set at "+t+" failed: "+U);const Ue=_a(e.serverSyncTree_,w,!pe);kr(e.eventQueue_,t,Ue),va(0,a,U,G)});const S=ya(e,t);Wu(e,S),kr(e.eventQueue_,S,[])}function rD(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&__(e.onDisconnect_,t),va(0,n,i,a)})}function JE(e,t,n,i){const a=dn(n);e.server_.onDisconnectPut(t.toString(),a.val(!0),(c,h)=>{"ok"===c&&od(e.onDisconnect_,t,a),va(0,i,c,h)})}function iv(e,t,n){let i;i=".info"===ht(t._path)?xf(e.infoSyncTree_,t,n):xf(e.serverSyncTree_,t,n),gg(e.eventQueue_,t._path,i)}function XE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ev)}function _d(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qn(n,...t)}function va(e,t,n,i){t&&Zc(()=>{if("ok"===n)t(null);else{const a=(n||"error").toUpperCase();let c=a;i&&(c+=": "+i);const h=new Error(c);h.code=a,t(h)}})}function _g(e,t,n){return tg(e.serverSyncTree_,t,n)||ft.EMPTY_NODE}function jf(e,t=e.transactionQueueTree_){if(t||Hf(e,t),Cl(t)){const n=ov(e,t);(0,N.hu)(n.length>0,"Sending zero length transaction queue"),n.every(a=>0===a.status)&&function tC(e,t,n){const i=n.map(w=>w.currentWriteId),a=_g(e,t,i);let c=a;const h=a.hash();for(let w=0;w<n.length;w++){const M=n[w];(0,N.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const S=Nr(t,M.path);c=c.updateChild(S,M.currentOutputSnapshotRaw)}const v=c.val(!0),I=t;e.server_.put(I.toString(),v,w=>{_d(e,"transaction put response",{path:I.toString(),status:w});let M=[];if("ok"===w){const S=[];for(let U=0;U<n.length;U++)n[U].status=2,M=M.concat(_a(e.serverSyncTree_,n[U].currentWriteId)),n[U].onComplete&&S.push(()=>n[U].onComplete(null,!0,n[U].currentOutputSnapshotResolved)),n[U].unwatcher();Hf(e,q_(e.transactionQueueTree_,t)),jf(e,e.transactionQueueTree_),kr(e.eventQueue_,t,M);for(let U=0;U<S.length;U++)Zc(S[U])}else{if("datastale"===w)for(let S=0;S<n.length;S++)n[S].status=3===n[S].status?4:0;else{Pr("transaction at "+I.toString()+" failed: "+w);for(let S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=w}Wu(e,t)}},h)}(e,$r(t),n)}else xs(t)&&ug(t,n=>{jf(e,n)})}function Wu(e,t){const n=sv(e,t),i=$r(n);return function nC(e,t,n){if(0===t.length)return;const i=[];let a=[];const h=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const I=t[v],w=Nr(n,I.path);let S,M=!1;if((0,N.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)M=!0,S=I.abortReason,a=a.concat(_a(e.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=ZE)M=!0,S="maxretry",a=a.concat(_a(e.serverSyncTree_,I.currentWriteId,!0));else{const U=_g(e,I.path,h);I.currentInputSnapshot=U;const G=t[v].update(U.val());if(void 0!==G){Uf("transaction failed: Data returned ",G,I.path);let pe=dn(G);"object"==typeof G&&null!=G&&(0,N.r3)(G,".priority")||(pe=pe.updatePriority(U.getPriority()));const at=I.currentWriteId,Dt=md(e),Ot=ag(pe,U,Dt);I.currentOutputSnapshotRaw=pe,I.currentOutputSnapshotResolved=Ot,I.currentWriteId=mg(e),h.splice(h.indexOf(at),1),a=a.concat(eg(e.serverSyncTree_,I.path,Ot,I.currentWriteId,I.applyLocally)),a=a.concat(_a(e.serverSyncTree_,at,!0))}else M=!0,S="nodata",a=a.concat(_a(e.serverSyncTree_,I.currentWriteId,!0))}kr(e.eventQueue_,n,a),a=[],M&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&i.push("nodata"===S?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(S),!1,null)))}Hf(e,e.transactionQueueTree_);for(let v=0;v<i.length;v++)Zc(i[v]);jf(e,e.transactionQueueTree_)}(e,ov(e,n),i),i}function sv(e,t){let n,i=e.transactionQueueTree_;for(n=ht(t);null!==n&&void 0===Cl(i);)i=q_(i,n),n=ht(t=zt(t));return i}function ov(e,t){const n=[];return av(e,t,n),n.sort((i,a)=>i.order-a.order),n}function av(e,t,n){const i=Cl(t);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);ug(t,a=>{av(e,a,n)})}function Hf(e,t){const n=Cl(t);if(n){let i=0;for(let a=0;a<n.length;a++)2!==n[a].status&&(n[i]=n[a],i++);n.length=i,Ff(t,n.length>0?n:void 0)}ug(t,i=>{Hf(e,i)})}function ya(e,t){const n=$r(sv(e,t)),i=q_(e.transactionQueueTree_,t);return function Fs(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{lv(e,a)}),lv(e,i),ks(i,a=>{lv(e,a)}),n}function lv(e,t){const n=Cl(t);if(n){const i=[];let a=[],c=-1;for(let h=0;h<n.length;h++)3===n[h].status||(1===n[h].status?((0,N.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,n[h].status=3,n[h].abortReason="set"):((0,N.hu)(0===n[h].status,"Unexpected transaction status in abort"),n[h].unwatcher(),a=a.concat(_a(e.serverSyncTree_,n[h].currentWriteId,!0)),n[h].onComplete&&i.push(n[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Ff(t,void 0):n.length=c+1,kr(e.eventQueue_,$r(t),a);for(let h=0;h<i.length;h++)Zc(i[h])}}const rC=function(e,t){const n=uv(e),i=n.namespace;return"firebase.com"===n.domain&&la(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&la("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cp(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,t,"",i!==n.subdomain),path:new St(n.pathString)}},uv=function(e){let t="",n="",i="",a="",c="",h=!0,v="https",I=443;if("string"==typeof e){let w=e.indexOf("//");w>=0&&(v=e.substring(0,w-1),e=e.substring(w+2));let M=e.indexOf("/");-1===M&&(M=e.length);let S=e.indexOf("?");-1===S&&(S=e.length),t=e.substring(0,Math.min(M,S)),M<S&&(a=function lD(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(e.substring(M,S)));const U=function vd(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pr(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,S)));w=t.indexOf(":"),w>=0?(h="https"===v||"wss"===v,I=parseInt(t.substring(w+1),10)):w=t.length;const G=t.slice(0,w);if("localhost"===G.toLowerCase())n="localhost";else if(G.split(".").length<=2)n=G;else{const pe=t.indexOf(".");i=t.substring(0,pe).toLowerCase(),n=t.substring(pe+1),c=i}"ns"in U&&(c=U.ns)}return{host:t,port:I,domain:n,subdomain:i,secure:h,scheme:v,pathString:a,namespace:c}},uD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iC=function(){let e=0;const t=[];return function(n){const i=n===e;let a;e=n;const c=new Array(8);for(a=7;a>=0;a--)c[a]=uD.charAt(n%64),n=Math.floor(n/64);(0,N.hu)(0===n,"Cannot push at time == 0");let h=c.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)h+=uD.charAt(t[a]);return(0,N.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class cv{constructor(t,n,i,a){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class cD{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wl{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class sC{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new N.BH;return rD(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){wi("OnDisconnect.remove",this._path);const t=new N.BH;return JE(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){wi("OnDisconnect.set",this._path),Ls("OnDisconnect.set",t,this._path,!1);const n=new N.BH;return JE(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){wi("OnDisconnect.setWithPriority",this._path),Ls("OnDisconnect.setWithPriority",t,this._path,!1),hg("OnDisconnect.setWithPriority",n,!1);const i=new N.BH;return function iD(e,t,n,i,a){const c=dn(n,i);e.server_.onDisconnectPut(t.toString(),c.val(!0),(h,v)=>{"ok"===h&&od(e.onDisconnect_,t,c),va(0,a,h,v)})}(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){wi("OnDisconnect.update",this._path),Q_("OnDisconnect.update",t,this._path,!1);const n=new N.BH;return function sD(e,t,n,i){if((0,N.xb)(n))return Qn("onDisconnect().update() called with empty data.  Don't do anything."),void va(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(a,c)=>{"ok"===a&&mr(n,(h,v)=>{const I=dn(v);od(e.onDisconnect_,ln(t,h),I)}),va(0,i,a,c)})}(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}class ii{constructor(t,n,i,a){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return mt(this._path)?null:u_(this._path)}get ref(){return new Wr(this._repo,this._path)}get _queryIdentifier(){const t=gE(this._queryParams),n=Wm(t);return"{}"===n?"default":n}get _queryObject(){return gE(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof ii))return!1;const n=this._repo===t._repo,i=c_(this._path,t._path);return n&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rE(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function vg(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Di(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Jn){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ua)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(e.hasEnd()){if(e.getIndexEndName()!==Ps)throw new Error(i);if("string"!=typeof n)throw new Error(a)}}else if(e.getIndex()===jt){if(null!=t&&!Vf(t)||null!=n&&!Vf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(e.getIndex()instanceof Mp||e.getIndex()===Uu,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Wr extends ii{constructor(t,n){super(t,n,new Rp,!1)}get parent(){const t=iE(this._path);return null===t?null:new Wr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Do{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new St(t),i=Dl(this.ref,t);return new Do(this._node.getChild(n),i,jt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new Do(a,Dl(this.ref,i),jt)))}hasChild(t){const n=new St(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gr(e,t){return(e=(0,N.m9)(e))._checkNotDeleted("ref"),void 0!==t?Dl(e._root,t):e._root}function dD(e,t){(e=(0,N.m9)(e))._checkNotDeleted("refFromURL");const n=rC(t,e._repo.repoInfo_.nodeAdmin);J_("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&la("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Gr(e,n.path.toString())}function Dl(e,t){return null===ht((e=(0,N.m9)(e))._path)?GE("child","path",t,!1):Bf("child","path",t,!1),new Wr(e._repo,ln(e._path,t))}function Eg(e,t){e=(0,N.m9)(e),wi("set",e._path),Ls("set",t,e._path,!1);const n=new N.BH;return rv(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function pD(e,t){Q_("update",t,e._path,!1);const n=new N.BH;return function tD(e,t,n,i){_d(e,"update",{path:t.toString(),value:n});let a=!0;const c=md(e),h={};if(mr(n,(v,I)=>{a=!1,h[v]=$E(ln(t,v),dn(I),e.serverSyncTree_,c)}),a)Qn("update() called with empty data.  Don't do anything."),va(0,i,"ok",void 0);else{const v=mg(e),I=function FE(e,t,n,i){!function Aw(e,t,n,i){(0,N.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Fp(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const a=Mt.fromObject(n);return Qi(e,new Io({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(e.serverSyncTree_,t,h,v);pg(e.eventQueue_,I),e.server_.merge(t.toString(),n,(w,M)=>{const S="ok"===w;S||Pr("update at "+t+" failed: "+w);const U=_a(e.serverSyncTree_,v,!S),G=U.length>0?Wu(e,t):t;kr(e.eventQueue_,G,U),va(0,i,w,M)}),mr(n,w=>{const M=ya(e,ln(t,w));Wu(e,M)}),kr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function gD(e){e=(0,N.m9)(e);const t=new wl(()=>{}),n=new $f(t);return function eD(e,t,n){const i=function H_(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(w,M)=>{const S=Nr(w,n);i=i||yl(M,S)});let a=e.syncPointTree_.get(n);a?i=i||yl(a,Tt()):(a=new k_,e.syncPointTree_=e.syncPointTree_.set(n,a));const c=null!=i,h=c?new fn(i,!0,!1):null;return function zp(e){return pa(e.viewCache_)}(Yp(a,t,D_(e.pendingWriteTree_,t._path),c?h.getNode():ft.EMPTY_NODE,c))}(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(a=>{const c=dn(a).withIndex(t._queryParams.getIndex());let h;if(j_(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())h=pd(e.serverSyncTree_,t._path,c);else{const v=ig(e.serverSyncTree_,t);h=kf(e.serverSyncTree_,t._path,c,v)}return kr(e.eventQueue_,t._path,h),xf(e.serverSyncTree_,t,n,null,!0),c},a=>(_d(e,"get for query "+(0,N.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(e._repo,e,n).then(i=>new Do(i,new Wr(e._repo,e._path),e._queryParams.getIndex()))}class $f{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const i=n._queryParams.getIndex();return new cv("value",this,new Do(t.snapshotNode,new Wr(n._repo,n._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new cD(this,t,n):null}matches(t){return t instanceof $f&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bl{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new cD(this,t,n):null}createEvent(t,n){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Dl(new Wr(n._repo,n._path),t.childName),a=n._queryParams.getIndex();return new cv(t.type,this,new Do(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof bl&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Wf(e,t,n,i,a){let c;if("object"==typeof i&&(c=void 0,a=i),"function"==typeof i&&(c=i),a&&a.onlyOnce){const I=n,w=(M,S)=>{iv(e._repo,e,v),I(M,S)};w.userCallback=n.userCallback,w.context=n.context,n=w}const h=new wl(n,c||void 0),v="value"===t?new $f(h):new bl(t,h);return function oD(e,t,n){let i;i=".info"===ht(t._path)?j_(e.infoSyncTree_,t,n):j_(e.serverSyncTree_,t,n),gg(e.eventQueue_,t._path,i)}(e._repo,e,v),()=>iv(e._repo,e,v)}function dv(e,t,n,i){return Wf(e,"value",t,n,i)}function uC(e,t,n,i){return Wf(e,"child_added",t,n,i)}function Gf(e,t,n,i){return Wf(e,"child_changed",t,n,i)}function fv(e,t,n,i){return Wf(e,"child_moved",t,n,i)}function hv(e,t,n,i){return Wf(e,"child_removed",t,n,i)}function pv(e,t,n){let i=null;const a=n?new wl(n):null;"value"===t?i=new $f(a):t&&(i=new bl(t,a)),iv(e._repo,e,i)}class Vs{}class yd extends Vs{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Ls("endAt",this._value,t._path,!0);const n=Pp(t._queryParams,this._value,this._key);if(yg(n),Di(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,n,t._orderByCalled)}}class mD extends Vs{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Ls("endBefore",this._value,t._path,!1);const n=function m_(e,t,n){let i;return i=Pp(e,t,e.index_===Jn||n?n:ua),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(yg(n),Di(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,n,t._orderByCalled)}}class cC extends Vs{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Ls("startAt",this._value,t._path,!0);const n=g_(t._queryParams,this._value,this._key);if(yg(n),Di(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ii(t._repo,t._path,n,t._orderByCalled)}}class fC extends Vs{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Ls("startAfter",this._value,t._path,!1);const n=function Tw(e,t,n){let i;return i=g_(e,t,e.index_===Jn||n?n:Ps),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(yg(n),Di(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ii(t._repo,t._path,n,t._orderByCalled)}}class vD extends Vs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function Dw(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class yD extends Vs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function bw(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class OT extends Vs{constructor(t){super(),this._path=t}_apply(t){vg(t,"orderByChild");const n=new St(this._path);if(mt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Mp(n),a=Np(t._queryParams,i);return Di(a),new ii(t._repo,t._path,a,!0)}}class kT extends Vs{_apply(t){vg(t,"orderByKey");const n=Np(t._queryParams,Jn);return Di(n),new ii(t._repo,t._path,n,!0)}}class gC extends Vs{_apply(t){vg(t,"orderByPriority");const n=Np(t._queryParams,jt);return Di(n),new ii(t._repo,t._path,n,!0)}}class CD extends Vs{_apply(t){vg(t,"orderByValue");const n=Np(t._queryParams,Uu);return Di(n),new ii(t._repo,t._path,n,!0)}}class mC extends Vs{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(Ls("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yd(this._value,this._key)._apply(new cC(this._value,this._key)._apply(t))}}function Us(e,...t){let n=(0,N.m9)(e);for(const i of t)n=i._apply(n);return n}(function OE(e){(0,N.hu)(!hd,"__referenceConstructor has already been defined"),hd=e})(Wr),function Hw(e){(0,N.hu)(!Jp,"__referenceConstructor has already been defined"),Jp=e}(Wr);const gv={};function vC(e,t,n,i,a){let c=i||e.options.databaseURL;void 0===c&&(e.options.projectId||la("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",e.options.projectId),c=`${e.options.projectId}-default-rtdb.firebaseio.com`);let I,w,h=rC(c,a),v=h.repoInfo;typeof process<"u"&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(I=!0,c=`http://${w}?ns=${v.namespace}`,h=rC(c,a),v=h.repoInfo):I=!h.repoInfo.secure;const M=a&&I?new up(up.OWNER):new zm(e.name,e.options,t);J_("Invalid Firebase Database URL",h),mt(h.path)||la("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function DD(e,t,n,i){let a=gv[t.name];a||(a={},gv[t.name]=a);let c=a[e.toURLString()];return c&&la("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new KE(e,false,n,i),a[e.toURLString()]=c,c}(v,e,M,new Wy(e.name,n));return new Kf(S,e)}class Kf{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qE(e,t,n){if(e.stats_=Xm(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Op(e.repoInfo_,(i,a,c,h)=>{YE(e,i,a,c,h)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>QE(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Lu(e.repoInfo_,t,(i,a,c,h)=>{YE(e,i,a,c,h)},i=>{QE(e,i)},i=>{!function Xw(e,t){mr(t,(n,i)=>{nv(e,n,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function Yy(e,t){const n=e.toString();return Jm[n]||(Jm[n]=t()),Jm[n]}(e.repoInfo_,()=>new EE(e.stats_,e.server_)),e.infoData_=new Sw,e.infoSyncTree_=new Xp({startListening:(i,a,c,h)=>{let v=[];const I=e.infoData_.getNode(i._path);return I.isEmpty()||(v=pd(e.infoSyncTree_,i._path,I),setTimeout(()=>{h("ok")},0)),v},stopListening:()=>{}}),nv(e,"connected",!1),e.serverSyncTree_=new Xp({startListening:(i,a,c,h)=>(e.server_.listen(i,c,a,(v,I)=>{const w=h(v,I);kr(e.eventQueue_,i._path,w)}),[]),stopListening:(i,a)=>{e.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wr(this._repo,Tt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yC(e,t){const n=gv[t];(!n||n[e.key]!==e)&&la(`Database ${t}(${e.repoInfo_}) has already been deleted.`),XE(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&la("Cannot call "+t+" on a deleted database.")}}function EC(){s_.IS_TRANSPORT_INITIALIZED&&Pr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function CC(){EC(),pl.forceDisallow()}function TD(){EC(),wf.forceDisallow(),pl.forceAllow()}function mv(e,t){op(e,t)}const DC={".sv":"timestamp"};class PD{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Lu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function MD(e){yf(oa.SDK_VERSION),(0,oa._registerComponent)(new _o.wA("database",(t,{instanceIdentifier:n})=>vC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,oa.registerVersion)(rp,"0.14.4",e),(0,oa.registerVersion)(rp,"0.14.4","esm2017")}();const xD=new aa.Yd("@firebase/database-compat"),AC=function(e){xD.warn("FIREBASE WARNING: "+e)};class LD{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),a=>n(a)),i}setWithPriority(t,n,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,n);return i&&a.then(()=>i(null),c=>i(c)),a}update(t,n){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,AC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),a=>n(a)),i}}class VD{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Tl{constructor(t,n){this._database=t,this._delegate=n}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Bf("DataSnapshot.child","path",t,!1),new Tl(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Tl(this._database,n)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new si(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class cr{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,a){var c;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",n,!1);const h=cr.getCancelAndContextArgs_("Query.on",i,a),v=(w,M)=>{n.call(h.context,new Tl(this.database,w),M)};v.userCallback=n,v.context=h.context;const I=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(t){case"value":return dv(this._delegate,v,I),n;case"child_added":return uC(this._delegate,v,I),n;case"child_removed":return hv(this._delegate,v,I),n;case"child_changed":return Gf(this._delegate,v,I),n;case"child_moved":return fv(this._delegate,v,I),n;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",n,!0),(0,N.lb)("Query.off","context",i,!0),n){const a=()=>{};a.userCallback=n,a.context=i,pv(this._delegate,t,a)}else pv(this._delegate,t)}get(){return gD(this._delegate).then(t=>new Tl(this.database,t))}once(t,n,i,a){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",n,!0);const c=cr.getCancelAndContextArgs_("Query.once",i,a),h=new N.BH,v=(w,M)=>{const S=new Tl(this.database,w);n&&n.call(c.context,S,M),h.resolve(S)};v.userCallback=n,v.context=c.context;const I=w=>{c.cancel&&c.cancel.call(c.context,w),h.reject(w)};switch(t){case"value":dv(this._delegate,v,I,{onlyOnce:!0});break;case"child_added":uC(this._delegate,v,I,{onlyOnce:!0});break;case"child_removed":hv(this._delegate,v,I,{onlyOnce:!0});break;case"child_changed":Gf(this._delegate,v,I,{onlyOnce:!0});break;case"child_moved":fv(this._delegate,v,I,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new cr(this.database,Us(this._delegate,function pC(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vD(e)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new cr(this.database,Us(this._delegate,function ED(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yD(e)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new cr(this.database,Us(this._delegate,function xT(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bf("orderByChild","path",e,!1),new OT(e)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new cr(this.database,Us(this._delegate,function FT(){return new kT}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new cr(this.database,Us(this._delegate,function Cg(){return new gC}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new cr(this.database,Us(this._delegate,function ID(){return new CD}()))}startAt(t=null,n){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new cr(this.database,Us(this._delegate,function dC(e=null,t){return Il("startAt","key",t,!0),new cC(e,t)}(t,n)))}startAfter(t=null,n){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new cr(this.database,Us(this._delegate,function hC(e,t){return Il("startAfter","key",t,!0),new fC(e,t)}(t,n)))}endAt(t=null,n){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new cr(this.database,Us(this._delegate,function zf(e,t){return Il("endAt","key",t,!0),new yd(e,t)}(t,n)))}endBefore(t=null,n){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new cr(this.database,Us(this._delegate,function _D(e,t){return Il("endBefore","key",t,!0),new mD(e,t)}(t,n)))}equalTo(t,n){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new cr(this.database,Us(this._delegate,function Zf(e,t){return Il("equalTo","key",t,!0),new mC(e,t)}(t,n)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof cr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const a={cancel:void 0,context:void 0};if(n&&i)a.cancel=n,(0,N.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,N.lb)(t,"context",a.context,!0);else if(n)if("object"==typeof n&&null!==n)a.context=n;else{if("function"!=typeof n)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=n}return a}get ref(){return new si(this.database,new Wr(this._delegate._repo,this._delegate._path))}}class si extends cr{constructor(t,n){super(t,new ii(n._repo,n._path,new Rp,!1)),this.database=t,this._delegate=n}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new si(this.database,Dl(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new si(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new si(this.database,this._delegate.root)}set(t,n){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",n,!0);const i=Eg(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}update(t,n){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,AC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wi("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",n,!0);const i=pD(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}setWithPriority(t,n,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function lC(e,t,n){if(wi("setWithPriority",e._path),Ls("setWithPriority",t,e._path,!1),hg("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new N.BH;return rv(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,n);return i&&a.then(()=>i(null),c=>i(c)),a}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const n=function oC(e){return wi("remove",e._path),Eg(e,null)}(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",n,!0),function(e,t,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function ND(e,t,n){var i;if(e=(0,N.m9)(e),wi("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const a=null===(i=n?.applyLocally)||void 0===i||i,c=new N.BH,v=dv(e,()=>{});return function eC(e,t,n,i,a,c){_d(e,"transaction on "+t);const h={path:t,update:n,onComplete:i,status:null,order:Hc(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=_g(e,t,void 0);h.currentInputSnapshot=v;const I=h.update(v.val());if(void 0===I)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Uf("transaction failed: Data returned ",I,h.path),h.status=0;const w=q_(e.transactionQueueTree_,t),M=Cl(w)||[];let S;M.push(h),Ff(w,M),"object"==typeof I&&null!==I&&(0,N.r3)(I,".priority")?(S=(0,N.DV)(I,".priority"),(0,N.hu)(Vf(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(tg(e.serverSyncTree_,t)||ft.EMPTY_NODE).getPriority().val();const U=md(e),G=dn(I,S),pe=ag(G,v,U);h.currentOutputSnapshotRaw=G,h.currentOutputSnapshotResolved=pe,h.currentWriteId=mg(e);const Ue=eg(e.serverSyncTree_,t,pe,h.currentWriteId,h.applyLocally);kr(e.eventQueue_,t,Ue),jf(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(I,w,M)=>{let S=null;I?c.reject(I):(S=new Do(M,new Wr(e._repo,e._path),jt),c.resolve(new PD(w,S)))},v,a),c.promise}(this._delegate,t,{applyLocally:i}).then(c=>new VD(c.committed,new Tl(this.database,c.snapshot)));return n&&a.then(c=>n(null,c.committed,c.snapshot),c=>n(c,!1,null)),a}setPriority(t,n){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",n,!0);const i=function aC(e,t){e=(0,N.m9)(e),wi("setPriority",e._path),hg("setPriority",t,!1);const n=new N.BH;return rv(e._repo,ln(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}push(t,n){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",n,!0);const i=function hD(e,t){e=(0,N.m9)(e),wi("push",e._path),Ls("push",t,e._path,!0);const n=tv(e._repo),i=iC(n),a=Dl(e,i),c=Dl(e,i);let h;return h=null!=t?Eg(c,t).then(()=>c):Promise.resolve(c),a.then=h.then.bind(h),a.catch=h.then.bind(h,void 0),a}(this._delegate,t),a=i.then(h=>new si(this.database,h));n&&a.then(()=>n(null),h=>n(h));const c=new si(this.database,i);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return wi("Reference.onDisconnect",this._delegate._path),new LD(new sC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qf{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:CC,forceLongPolling:TD}}useEmulator(t,n,i={}){!function IC(e,t,n,i={}){(e=(0,N.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&la("Cannot call useEmulator() after instance has already been initialized.");const a=e._repoInternal;let c;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&la('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new up(up.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,e.app.options.projectId);c=new up(h)}!function LT(e,t,n,i){e.repoInfo_=new cp(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(a,t,n,c)}(this._delegate,t,n,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof si){const n=dD(this._delegate,t.toString());return new si(this,n)}{const n=Gr(this._delegate,t);return new si(this,n)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=dD(this._delegate,t);return new si(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function wC(e){(e=(0,N.m9)(e))._checkNotDeleted("goOffline"),XE(e._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function AD(e){(e=(0,N.m9)(e))._checkNotDeleted("goOnline"),function aD(e){e.persistentConnection_&&e.persistentConnection_.resume(ev)}(e._repo)}(this._delegate)}}qf.ServerValue={TIMESTAMP:function bC(){return DC}(),increment:e=>function RD(e){return{".sv":{increment:e}}}(e)};var MC=Object.freeze({__proto__:null,initStandalone:function UD({app:e,url:t,version:n,customAuthImpl:i,namespace:a,nodeAdmin:c=!1}){yf(n);const h=new _o.zt("auth-internal",new _o.H0("database-standalone"));return h.setComponent(new _o.wA("auth-internal",()=>i,"PRIVATE")),{instance:new qf(vC(e,h,void 0,t,c),e),namespace:a}}});const BD=qf.ServerValue;!function jD(e){e.INTERNAL.registerComponent(new _o.wA("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:n});return new qf(a,i)},"PUBLIC").setServiceProps({Reference:si,Query:cr,Database:qf,DataSnapshot:Tl,enableLogging:mv,INTERNAL:MC,ServerValue:BD}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(bT.Z);var Ig=R(3093),HD=R(4552);class _v extends Ar.x{constructor(t=1/0,n=1/0,i=HD.l){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:h}=this;n||(i.push(t),!a&&i.push(c.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let h=0;h<c.length&&!t.closed;h+=i?1:2)t.next(c[h]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const h=n.now();let v=0;for(let I=1;I<i.length&&i[I]<=h;I+=2)v=I;v&&i.splice(0,v+1)}}}function wg(e,t,n){let i,a=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:n}=e):i=e??1/0,(0,jm.B)({connector:()=>new _v(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function vv(e,t){return(0,so.m)(t)?(0,bn.w)(()=>e,t):(0,bn.w)(()=>e)}var Yf=R(5137);R(4097);const bg=new Map,Cv={activated:!1,tokenObservers:[]},xC={initialized:!1,enabled:!1};function Sn(e){return bg.get(e)||Object.assign({},Cv)}function Tg(){return xC}const Iv="https://content-firebaseappcheck.googleapis.com/v1",FC="exchangeDebugToken",LC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class GT{constructor(t,n,i,a,c){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return(0,fl.Z)(function*(){n.stop();try{n.pending=new N.BH,yield function YD(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new N.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(i){n.retryPolicy(i)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const _r=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ag(e){if(!Sn(e).activated)throw _r.create("use-before-activation",{appName:e.name})}function Rg(e,t){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,fl.Z)(function*({url:e,body:t},n){const i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){const S=yield a.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const c={method:"POST",body:JSON.stringify(t),headers:i};let h,v;try{h=yield fetch(e,c)}catch(S){throw _r.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==h.status)throw _r.create("fetch-status-error",{httpStatus:h.status});try{v=yield h.json()}catch(S){throw _r.create("fetch-parse-error",{originalErrorMessage:S?.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const w=1e3*Number(I[1]),M=Date.now();return{token:v.token,expireTimeMillis:M+w,issuedAtTimeMillis:M}})).apply(this,arguments)}function VC(e,t){const{projectId:n,appId:i,apiKey:a}=e.options;return{url:`${Iv}/projects/${n}/apps/${i}:${FC}?key=${a}`,body:{debug_token:t}}}const Qf="firebase-app-check-database",UC=1,Ed="firebase-app-check-store";let Jf=null;function Av(){return(Av=(0,fl.Z)(function*(e,t){const i=(yield function Tv(){return Jf||(Jf=new Promise((e,t)=>{try{const n=indexedDB.open(Qf,UC);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var a;t(_r.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ed,{keyPath:"compositeKey"})}}catch(n){t(_r.create("storage-open",{originalErrorMessage:n?.message}))}}),Jf)}()).transaction(Ed,"readwrite"),c=i.objectStore(Ed).put({compositeKey:e,value:t});return new Promise((h,v)=>{c.onsuccess=I=>{h()},i.onerror=I=>{var w;v(_r.create("storage-set",{originalErrorMessage:null===(w=I.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Ca=new aa.Yd("@firebase/app-check");function Ji(e,t){return(0,N.hl)()?function eb(e,t){return function Sv(e,t){return Av.apply(this,arguments)}(function HC(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{Ca.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Rv(){return Tg().enabled}function $C(){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,fl.Z)(function*(){const e=Tg();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const th={error:"UNKNOWN_ERROR"};function rb(e){return N.US.encodeString(JSON.stringify(e),!1)}function Pg(e){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,fl.Z)(function*(e,t=!1){const n=e.app;Ag(n);const i=Sn(n);let c,a=i.token;if(a&&!Gu(a)&&(i.token=void 0,a=void 0),!a){const I=yield i.cachedTokenPromise;I&&(Gu(I)?a=I:yield Ji(n,void 0))}if(!t&&a&&Gu(a))return{token:a.token};let v,h=!1;if(Rv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Rg(VC(n,yield $C()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const I=yield i.exchangeTokenPromise;return yield Ji(n,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),a=yield Sn(n).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Ca.warn(I.message):Ca.error(I),c=I}return a?c?v=Gu(a)?{token:a.token,internalError:c}:GC(c):(v={token:a.token},i.token=a,yield Ji(n,a)):v=GC(c),h&&function WC(e,t){const n=Sn(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(n,v),v})).apply(this,arguments)}function nh(e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,fl.Z)(function*(e){const t=e.app;Ag(t);const{provider:n}=Sn(t);if(Rv()){const i=yield $C(),{token:a}=yield Rg(VC(t,i),e.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}function Og(e,t){const n=Sn(e),i=n.tokenObservers.filter(a=>a.next!==t);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function rh(e){const{app:t}=e,n=Sn(t);let i=n.tokenRefresher;i||(i=function ib(e){const{app:t}=e;return new GT((0,fl.Z)(function*(){let i;if(i=Sn(t).token?yield Pg(e,!0):yield Pg(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const n=Sn(t);if(n.token){let i=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,n.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},LC.RETRIAL_MIN_WAIT,LC.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Gu(e){return e.expireTimeMillis-Date.now()>0}function GC(e){return{token:rb(th),error:e}}class sb{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Sn(this.app);for(const n of t)Og(this.app,n.next);return Promise.resolve()}}const e0="app-check-internal";!function t0(){(0,oa._registerComponent)(new _o.wA("app-check",e=>function zC(e,t){return new sb(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(e0).initialize()})),(0,oa._registerComponent)(new _o.wA(e0,e=>function xg(e){return{getToken:t=>Pg(e,t),getLimitedUseToken:()=>nh(e),addTokenListener:t=>function Ov(e,t,n,i){const{app:a}=e,c=Sn(a);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:i,type:t}],c.token&&Gu(c.token)){const v=c.token;Promise.resolve().then(()=>{n({token:v.token}),rh(e)}).catch(()=>{})}c.cachedTokenPromise.then(()=>rh(e))}(e,"INTERNAL",t),removeTokenListener:t=>Og(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oa.registerVersion)("@firebase/app-check","0.8.0")}();class Ug{constructor(){return(0,zi.vb)("app-check")}}typeof window<"u"&&window;var pb=R(120);const o0=new g.OlP("angularfire2.auth.use-emulator"),a0=new g.OlP("angularfire2.auth.settings"),l0=new g.OlP("angularfire2.auth.tenant-id"),jg=new g.OlP("angularfire2.auth.langugage-code"),$v=new g.OlP("angularfire2.auth.use-device-language"),u0=new g.OlP("angularfire.auth.persistence"),sh=(e,t,n,i,a,c,h,v)=>(0,Rs.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const I=t.runOutsideAngular(()=>e.auth());if(n&&I.useEmulator(...n),i&&(I.tenantId=i),I.languageCode=a,c&&I.useDeviceLanguage(),h)for(const[w,M]of Object.entries(h))I.settings[w]=M;return v&&I.setPersistence(v),I},[n,i,a,c,h,v]);let Hg=(()=>{class e{constructor(n,i,a,c,h,v,I,w,M,S,U,G){const pe=new Ar.x,Ue=(0,Ge.of)(void 0).pipe((0,Ig.Q)(h.outsideAngular),(0,bn.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,8977)))),(0,Qe.U)(()=>(0,Rs.on)(n,c,i)),(0,Qe.U)(at=>sh(at,c,v,w,M,S,I,U)),wg({bufferSize:1,refCount:!1}));if(Ni(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{Ue.pipe(Hi()).subscribe();const Dt=Ue.pipe((0,bn.w)(Ht=>Ht.getRedirectResult().then(oi=>oi,()=>null)),zi.iC,wg({bufferSize:1,refCount:!1})),Ot=Ue.pipe((0,bn.w)(Ht=>new lr.y(oi=>({unsubscribe:c.runOutsideAngular(()=>Ht.onAuthStateChanged(gh=>oi.next(gh),gh=>oi.error(gh),()=>oi.complete()))})))),Un=Ue.pipe((0,bn.w)(Ht=>new lr.y(oi=>({unsubscribe:c.runOutsideAngular(()=>Ht.onIdTokenChanged(gh=>oi.next(gh),gh=>oi.error(gh),()=>oi.complete()))}))));this.authState=Dt.pipe(vv(Ot),(0,Yf.R)(h.outsideAngular),(0,Ig.Q)(h.insideAngular)),this.user=Dt.pipe(vv(Un),(0,Yf.R)(h.outsideAngular),(0,Ig.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,bn.w)(Ht=>Ht?(0,Nt.D)(Ht.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe((0,bn.w)(Ht=>Ht?(0,Nt.D)(Ht.getIdTokenResult()):(0,Ge.of)(null))),this.credential=(0,Bm.T)(Dt,pe,this.authState.pipe(Jr(Ht=>!Ht))).pipe((0,Qe.U)(Ht=>Ht?.user?Ht:null),(0,Yf.R)(h.outsideAngular),(0,Ig.Q)(h.insideAngular))}return(0,Rs.pX)(this,Ue,c,{spy:{apply:(at,Dt,Ot)=>{(at.startsWith("signIn")||at.startsWith("createUser"))&&Ot.then(Un=>pe.next(Un))}}})}}return e.\u0275fac=function(n){return new(n||e)(g.LFG(Rs.Dh),g.LFG(Rs.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(zi.HU),g.LFG(o0,8),g.LFG(a0,8),g.LFG(l0,8),g.LFG(jg,8),g.LFG($v,8),g.LFG(u0,8),g.LFG(Ug,8))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function Wv(e){return null==e}function zu(e){return"function"==typeof e.set}function d0(e,t){return zu(t)?t:e.ref(t)}function Gv(e,t){if(function c0(e){return"string"==typeof e}(e))return t.stringCase();if(zu(e))return t.firebaseCase();if(function gb(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Zu(e,t,n="on",i=Fy.z){return new lr.y(a=>{let c=null;return c=e[n](t,(h,v)=>{i.schedule(()=>{a.next({snapshot:h,prevKey:v})}),"once"===n&&i.schedule(()=>a.complete())},h=>{i.schedule(()=>a.error(h))}),"on"===n?{unsubscribe(){null!=c&&e.off(t,c)}}:{unsubscribe(){}}}).pipe((0,Qe.U)(a=>{const{snapshot:c,prevKey:h}=a;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:h,key:v}}),(0,jm.B)())}function f0(e,t){const n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function mb(e,t){const{payload:n,prevKey:i,key:a}=t,c=f0(e,a),h=function iS(e,t){if(Wv(t))return 0;{const n=f0(e,t);return-1===n?e.length:n+1}}(e,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(I=>{const w={payload:I,type:"value",prevKey:v,key:I.key};return v=I.key,e=[...e,w],!1})}return e;case"child_added":if(c>-1){const v=e[c-1];(v&&v.key||null)!==i&&(e=e.filter(I=>I.payload.key!==n.key)).splice(h,0,t)}else{if(null==i)return[t,...e];(e=e.slice()).splice(h,0,t)}return e;case"child_removed":return e.filter(v=>v.payload.key!==n.key);case"child_changed":return e.map(v=>v.payload.key===a?t:v);case"child_moved":if(c>-1){const v=e.splice(c,1)[0];return(e=e.slice()).splice(h,0,v),e}return e;default:return e}}function h0(e){return(Wv(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function p0(e,t,n){return function rS(e,t,n){return Zu(e,"value","once",n).pipe((0,bn.w)(i=>{const a=[(0,Ge.of)(i)];return t.forEach(c=>a.push(Zu(e,c,"on",n))),(0,Bm.T)(...a).pipe(en(mb,[]))}),(0,Hm.x)())}(e,t=h0(t),n)}function zv(e,t,n){const i=(t=h0(t)).map(a=>Zu(e,a,"on",n));return(0,Bm.T)(...i)}function Zv(e,t){return function(i,a){return Gv(i,{stringCase:()=>e.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function vb(e){return function(n){return n?Gv(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function Kv(e,t){return function(){return Zu(e,"value","on",t)}}const _0=new g.OlP("angularfire2.realtimeDatabaseURL"),v0=new g.OlP("angularfire2.database.use-emulator");let qv=(()=>{class e{constructor(n,i,a,c,h,v,I,w,M,S,U,G,pe,Ue,at){this.schedulers=v;const Dt=I,Ot=(0,Rs.on)(n,h,i);w&&sh(Ot,h,M,U,G,pe,S,Ue),this.database=(0,Rs.cc)(`${Ot.name}.database.${a}`,"AngularFireDatabase",Ot.name,()=>{const Un=h.runOutsideAngular(()=>Ot.database(a||void 0));return Dt&&Un.useEmulator(...Dt),Un},[Dt])}list(n,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>d0(this.database,n));let c=a;return i&&(c=i(a)),function yb(e,t){const n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Zv(i,"update"),set:Zv(i,"set"),push:a=>i.push(a),remove:vb(i),snapshotChanges:a=>p0(e,a,n).pipe(zi.iC),stateChanges:a=>zv(e,a,n).pipe(zi.iC),auditTrail:a=>function g0(e,t,n){return function m0(e,t,n){return function _b(e,t){return Zu(e,"value","on",t).pipe((0,Qe.U)(n=>{let i;return n.payload.forEach(a=>(i=a.key,!1)),{data:n,lastKeyToLoad:i}}))}(e,n).pipe(function wT(...e){const t=(0,Bi.jO)(e);return(0,Dn.e)((n,i)=>{const a=e.length,c=new Array(a);let h=e.map(()=>!1),v=!1;for(let I=0;I<a;I++)(0,$o.Xf)(e[I]).subscribe((0,Ut.x)(i,w=>{c[I]=w,!v&&!h[I]&&(h[I]=!0,(v=h.every(Ln.y))&&(h=null))},Ko.Z));n.subscribe((0,Ut.x)(i,I=>{if(v){const w=[I,...c];i.next(t?t(...w):w)}}))})}(t),(0,Qe.U)(([a,c])=>{const h=a.lastKeyToLoad,v=c.map(I=>I.key);return{actions:c,lastKeyToLoad:h,loadedKeys:v}}),function DT(e){return(0,Dn.e)((t,n)=>{let i=!1,a=0;t.subscribe((0,Ut.x)(n,c=>(i||(i=!e(c,a++)))&&n.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Qe.U)(a=>a.actions))}(e,zv(e,t).pipe(en((a,c)=>[...a,c],[])),n)}(e,a,n).pipe(zi.iC),valueChanges:(a,c)=>p0(e,a,n).pipe((0,Qe.U)(v=>v.map(I=>c&&c.idField?Object.assign(Object.assign({},I.payload.val()),{[c.idField]:I.key}):I.payload.val())),zi.iC)}}(c,this)}object(n){return function Eb(e,t){return{query:e,snapshotChanges:()=>Kv(e,t.schedulers.outsideAngular)().pipe(zi.iC),update:n=>e.ref.update(n),set:n=>e.ref.set(n),remove:()=>e.ref.remove(),valueChanges:()=>Kv(e,t.schedulers.outsideAngular)().pipe(zi.iC,(0,Qe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>d0(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(n){return new(n||e)(g.LFG(Rs.Dh),g.LFG(Rs.xv,8),g.LFG(_0,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(zi.HU),g.LFG(v0,8),g.LFG(Hg,8),g.LFG(o0,8),g.LFG(a0,8),g.LFG(l0,8),g.LFG(jg,8),g.LFG($v,8),g.LFG(u0,8),g.LFG(Ug,8))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),y0=(()=>{class e{constructor(){pb.Z.registerVersion("angularfire",zi.q4.full,"rtdb-compat")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[qv]}),e})(),E0=(()=>{var e;class t{constructor(i){this.db=i}Updateroom(i,a){const c=a;this.db.object("rooms/"+i).update(c)}getReadings(){return this.db.object("rooms").valueChanges()}}return(e=t).\u0275fac=function(i){return new(i||e)(g.LFG(qv))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const C0=function(e,t){return{active:e," ":t}};let sS=(()=>{var e;class t{constructor(i){this.Data=i}toogleLight(i){this.Data.Updateroom(i,{light:!this.Light})}tooglePlug(i){this.Data.Updateroom(i,{plug:!this.Plug})}}return(e=t).\u0275fac=function(i){return new(i||e)(g.Y36(E0))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-room"]],inputs:{roomName:"roomName",temp:"temp",Humidity:"Humidity",Light:"Light",Plug:"Plug"},decls:46,vars:10,consts:[[1,"container","text-center"],[1,"row"],[1,"col"],[1,"card","temp-card",2,"margin-top","1rem","height","38.5rem"],[1,"card-body"],[1,"temperature-color"],[1,"car"],[1,"row",2,"margin-bottom","2rem"],[1,"card","humidity-color",2,"width","auto","height","20rem"],[1,"card-title",2,"text-align","right","margin-right","3rem"],["xmlns","http://www.w3.org/2000/svg","width","10rem","height","10rem","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-thermometer-sun","text-primary"],["d","M5 12.5a1.5 1.5 0 1 1-2-1.415V2.5a.5.5 0 0 1 1 0v8.585A1.5 1.5 0 0 1 5 12.5"],["d","M1 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM3.5 1A1.5 1.5 0 0 0 2 2.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0L5 10.486V2.5A1.5 1.5 0 0 0 3.5 1m5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m4.243 1.757a.5.5 0 0 1 0 .707l-.707.708a.5.5 0 1 1-.708-.708l.708-.707a.5.5 0 0 1 .707 0M8 5.5a.5.5 0 0 1 .5-.5 3 3 0 1 1 0 6 .5.5 0 0 1 0-1 2 2 0 0 0 0-4 .5.5 0 0 1-.5-.5M12.5 8a.5.5 0 0 1 .5-.5h1a.5.5 0 1 1 0 1h-1a.5.5 0 0 1-.5-.5m-1.172 2.828a.5.5 0 0 1 .708 0l.707.708a.5.5 0 0 1-.707.707l-.708-.707a.5.5 0 0 1 0-.708M8.5 12a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5"],[2,"font-size","10rem"],[1,"card","light-color",2,"width","auto"],["xmlns","http://www.w3.org/2000/svg","width","172","height","172","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lightbulb-fill"],["d","M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m3 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1-.5-.5"],[1,"btn","stretched-link",3,"click"],[1,"indicator1",3,"ngClass"],[1,"card","socket-color",2,"width","auto"],["xmlns","http://www.w3.org/2000/svg","width","172","height","172","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-outlet"],["d","M3.34 2.994c.275-.338.68-.494 1.074-.494h7.172c.393 0 .798.156 1.074.494.578.708 1.84 2.534 1.84 5.006s-1.262 4.297-1.84 5.006c-.276.338-.68.494-1.074.494H4.414c-.394 0-.799-.156-1.074-.494C2.762 12.297 1.5 10.472 1.5 8s1.262-4.297 1.84-5.006m1.074.506a.38.38 0 0 0-.299.126C3.599 4.259 2.5 5.863 2.5 8s1.099 3.74 1.615 4.374c.06.073.163.126.3.126h7.17c.137 0 .24-.053.3-.126.516-.633 1.615-2.237 1.615-4.374s-1.099-3.74-1.615-4.374a.38.38 0 0 0-.3-.126h-7.17z"],["d","M6 5.5a.5.5 0 0 1 .5.5v1.5a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v1.5a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5M7 10v1h2v-1a1 1 0 0 0-2 0"],[1,"indicator",3,"ngClass"]],template:function(i,a){1&i&&(g.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1"),g._uU(7,"Temperature"),g.qZA(),g.TgZ(8,"p",5),g._uU(9),g.qZA()()()(),g.TgZ(10,"div",2)(11,"div",6)(12,"div",4)(13,"div",7)(14,"div",2)(15,"div",8)(16,"div",4)(17,"h2",9),g._uU(18,"Humidity"),g.qZA(),g.TgZ(19,"div",1)(20,"div",2),g.O4$(),g.TgZ(21,"svg",10),g._UZ(22,"path",11)(23,"path",12),g.qZA()(),g.kcU(),g.TgZ(24,"div",2)(25,"p",13),g._uU(26),g.qZA()()()()()()(),g.TgZ(27,"div",1)(28,"div",2)(29,"div",14)(30,"div",4),g.O4$(),g.TgZ(31,"svg",15),g._UZ(32,"path",16),g.qZA(),g.kcU(),g._UZ(33,"br"),g.TgZ(34,"a",17),g.NdJ("click",function(){return a.toogleLight(a.roomName)}),g._uU(35,"Lamp"),g.qZA(),g._UZ(36,"div",18),g.qZA()()(),g.TgZ(37,"div",2)(38,"div",19)(39,"div",4),g.O4$(),g.TgZ(40,"svg",20),g._UZ(41,"path",21)(42,"path",22),g.qZA(),g.kcU(),g.TgZ(43,"a",17),g.NdJ("click",function(){return a.tooglePlug(a.roomName)}),g._uU(44,"Socket"),g.qZA(),g._UZ(45,"div",23),g.qZA()()()()()()()()()()),2&i&&(g.xp6(9),g.hij("",a.temp,"\xb0"),g.xp6(17),g.Oqu(a.Humidity),g.xp6(10),g.Q6J("ngClass",g.WLB(4,C0,a.Light,!a.Light)),g.xp6(9),g.Q6J("ngClass",g.WLB(7,C0,a.Plug,!a.Plug)))},dependencies:[$s],styles:[".card[_ngcontent-%COMP%]{flex-direction:column;background:#fff;border-radius:15px;box-shadow:3px 3px 15px 5px #0000001a,-3px -3px 15px 5px #ffffff1a;border:1px solid rgba(0,0,0,.08)}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.btn-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:10px}.btn-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:25%;box-shadow:0 2px 4px #0000001a}.values[_ngcontent-%COMP%]{margin-top:10px}.btn-label[_ngcontent-%COMP%]{margin-top:5px;text-align:center}.card-header[_ngcontent-%COMP%]{background-color:#00f;padding:0;text-align:center;border-radius:1%;border:1px solid rgba(0,0,0,.08);color:#fff}.card-title[_ngcontent-%COMP%]{margin:0}.indicator.active[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#f3f34c;border-radius:100%;margin-left:5px}.indicator1.active[_ngcontent-%COMP%]{width:20px;height:20px;background-color:red;border-radius:100%;margin-left:5px}.indicator[_ngcontent-%COMP%]:not(.active){width:20px;height:20px;background-color:gray;border-radius:100%;margin-left:5px}.indicator1[_ngcontent-%COMP%]:not(.active){width:20px;height:20px;background-color:gray;border-radius:100%;margin-left:5px}.socket-color[_ngcontent-%COMP%]{background-color:#0ecbf5}.light-color[_ngcontent-%COMP%]{background-color:#f3c72b}.humidity-color[_ngcontent-%COMP%]{background-color:#a3d5f0}.temperature-color[_ngcontent-%COMP%]{font-size:10rem;margin-left:auto;margin-top:20%}.temp-card[_ngcontent-%COMP%]{background-color:#eaf7fd}"]}),t})();function I0(e,t){if(1&e&&(g.TgZ(0,"div",7),g._UZ(1,"app-room",8),g.qZA()),2&e){const n=t.$implicit;g.xp6(1),g.Q6J("roomName",n.name)("temp",n.temp)("Humidity",n.humidity)("Light",n.light)("Plug",n.plug)}}let oS=(()=>{var e;class t{constructor(i){this.Data=i,this.title="smart_home"}ngOnInit(){this.date=Date.now(),this.Data.getReadings().subscribe(i=>{this.list=i,this.rooms=Object.values(this.list)})}}return(e=t).\u0275fac=function(i){return new(i||e)(g.Y36(E0))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-root"]],decls:13,vars:4,consts:[[1,"app","container"],[1,"card","card-nav",2,"margin-top","2rem"],[1,"row"],[1,"col"],[1,"heading"],[1,"col","date"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"roomName","temp","Humidity","Light","Plug"]],template:function(i,a){1&i&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"p",4),g._uU(6,"Welcome, Kabelo"),g.qZA()(),g.TgZ(7,"div",5)(8,"span"),g._uU(9),g.ALo(10,"date"),g.qZA()()()()(),g.TgZ(11,"div",2),g.YNc(12,I0,2,5,"div",6),g.qZA()()),2&i&&(g.xp6(9),g.Oqu(g.lcZ(10,2,a.date)),g.xp6(3),g.Q6J("ngForOf",a.rooms))},dependencies:[So,sS,ui],styles:["section[_ngcontent-%COMP%]{padding:20px}.sh_header_bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#0006}.sh_header_bar[_ngcontent-%COMP%]   span.heading[_ngcontent-%COMP%]{font-size:26px;font-weight:800;color:#000000e6}.sh_header_bar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-top:-12px}.sh_header_bar[_ngcontent-%COMP%]   span.heading[_ngcontent-%COMP%]:after{position:absolute;display:block;height:16px;width:16px;background:#007aff;line-height:12px;text-align:center;color:#fff;font-size:8px;border-radius:50%;right:-80px;top:-10px;z-index:1;border:1.5px solid #f7f7f7}.heading[_ngcontent-%COMP%]{font-size:2rem;margin-top:2%;margin-left:2rem}.date[_ngcontent-%COMP%]{text-align:right;margin-top:1 rem;margin-right:5rem;font-family:inria;font-size:260%}.card[_ngcontent-%COMP%]{border-radius:2rem}.card-nav[_ngcontent-%COMP%]{background-color:#2a3149;color:#d9d9d9}"]}),t})();const aS_firebase={apiKey:"AIzaSyA6i_qK82zll8ajuXtjUhrwoB87fpB40FU",authDomain:"testing-ed9ac.firebaseapp.com",databaseURL:"https://testing-ed9ac-default-rtdb.europe-west1.firebasedatabase.app",projectId:"testing-ed9ac",storageBucket:"testing-ed9ac.appspot.com",messagingSenderId:"777719321299"},ch=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wd}),wd="always";let lI=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({}),t})(),RS=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[lI]}),t})(),u=(()=>{var e;class t{static withConfig(i){return{ngModule:t,providers:[{provide:ch,useValue:i.callSetDisabledState??wd}]}}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[RS]}),t})(),m=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e,bootstrap:[oS]}),e.\u0275inj=g.cJS({imports:[Jl,Um,u,y0,Rs.hO.initializeApp(aS_firebase)]}),t})();qt().bootstrapModule(m).catch(e=>console.error(e))},5619:(Be,fe,R)=>{R.d(fe,{X:()=>W});var g=R(8645);class W extends g.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const Y=super._subscribe(z);return!Y.closed&&z.next(this._value),Y}getValue(){const{hasError:z,thrownError:Y,_value:ie}=this;if(z)throw Y;return this._throwIfClosed(),ie}next(z){super.next(this._value=z)}}},5592:(Be,fe,R)=>{R.d(fe,{y:()=>Ee});var g=R(305),W=R(7394),P=R(4850),z=R(8407),Y=R(2653),ie=R(4674),oe=R(1441);let Ee=(()=>{class ${constructor(me){me&&(this._subscribe=me)}lift(me){const Pe=new $;return Pe.source=this,Pe.operator=me,Pe}subscribe(me,Pe,ve){const Ae=function V($){return $&&$ instanceof g.Lv||function O($){return $&&(0,ie.m)($.next)&&(0,ie.m)($.error)&&(0,ie.m)($.complete)}($)&&(0,W.Nn)($)}(me)?me:new g.Hp(me,Pe,ve);return(0,oe.x)(()=>{const{operator:Ie,source:We}=this;Ae.add(Ie?Ie.call(Ae,We):We?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(me){try{return this._subscribe(me)}catch(Pe){me.error(Pe)}}forEach(me,Pe){return new(Pe=re(Pe))((ve,Ae)=>{const Ie=new g.Hp({next:We=>{try{me(We)}catch(je){Ae(je),Ie.unsubscribe()}},error:Ae,complete:ve});this.subscribe(Ie)})}_subscribe(me){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(me)}[P.L](){return this}pipe(...me){return(0,z.U)(me)(this)}toPromise(me){return new(me=re(me))((Pe,ve)=>{let Ae;this.subscribe(Ie=>Ae=Ie,Ie=>ve(Ie),()=>Pe(Ae))})}}return $.create=we=>new $(we),$})();function re($){var we;return null!==(we=$??Y.config.Promise)&&void 0!==we?we:Promise}},8645:(Be,fe,R)=>{R.d(fe,{x:()=>oe});var g=R(5592),W=R(7394);const z=(0,R(2306).d)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=R(9039),ie=R(1441);let oe=(()=>{class re extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const $=new Ee(this,this);return $.operator=V,$}_throwIfClosed(){if(this.closed)throw new z}next(V){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $ of this.currentObservers)$.next(V)}})}error(V){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:$}=this;for(;$.length;)$.shift().error(V)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:$,isStopped:we,observers:me}=this;return $||we?W.Lc:(this.currentObservers=null,me.push(V),new W.w0(()=>{this.currentObservers=null,(0,Y.P)(me,V)}))}_checkFinalizedStatuses(V){const{hasError:$,thrownError:we,isStopped:me}=this;$?V.error(we):me&&V.complete()}asObservable(){const V=new g.y;return V.source=this,V}}return re.create=(O,V)=>new Ee(O,V),re})();class Ee extends oe{constructor(O,V){super(),this.destination=O,this.source=V}next(O){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===$||$.call(V,O)}error(O){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===$||$.call(V,O)}complete(){var O,V;null===(V=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===V||V.call(O)}_subscribe(O){var V,$;return null!==($=null===(V=this.source)||void 0===V?void 0:V.subscribe(O))&&void 0!==$?$:W.Lc}}},305:(Be,fe,R)=>{R.d(fe,{Hp:()=>ve,Lv:()=>$});var g=R(4674),W=R(7394),P=R(2653),z=R(3894),Y=R(2420);const ie=re("C",void 0,void 0);function re(q,ae,Z){return{kind:q,value:ae,error:Z}}var O=R(7599),V=R(1441);class $ extends W.w0{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,W.Nn)(ae)&&ae.add(this)):this.destination=je}static create(ae,Z,he){return new ve(ae,Z,he)}next(ae){this.isStopped?We(function Ee(q){return re("N",q,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?We(function oe(q){return re("E",void 0,q)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?We(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function me(q,ae){return we.call(q,ae)}class Pe{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:Z}=this;if(Z.next)try{Z.next(ae)}catch(he){Ae(he)}}error(ae){const{partialObserver:Z}=this;if(Z.error)try{Z.error(ae)}catch(he){Ae(he)}else Ae(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(Z){Ae(Z)}}}class ve extends ${constructor(ae,Z,he){let Ce;if(super(),(0,g.m)(ae)||!ae)Ce={next:ae??void 0,error:Z??void 0,complete:he??void 0};else{let Me;this&&P.config.useDeprecatedNextContext?(Me=Object.create(ae),Me.unsubscribe=()=>this.unsubscribe(),Ce={next:ae.next&&me(ae.next,Me),error:ae.error&&me(ae.error,Me),complete:ae.complete&&me(ae.complete,Me)}):Ce=ae}this.destination=new Pe(Ce)}}function Ae(q){P.config.useDeprecatedSynchronousErrorHandling?(0,V.O)(q):(0,z.h)(q)}function We(q,ae){const{onStoppedNotification:Z}=P.config;Z&&O.z.setTimeout(()=>Z(q,ae))}const je={closed:!0,next:Y.Z,error:function Ie(q){throw q},complete:Y.Z}},7394:(Be,fe,R)=>{R.d(fe,{Lc:()=>ie,w0:()=>Y,Nn:()=>oe});var g=R(4674);const P=(0,R(2306).d)(re=>function(V){re(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map(($,we)=>`${we+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var z=R(9039);class Y{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const me of V)me.remove(this);else V.remove(this);const{initialTeardown:$}=this;if((0,g.m)($))try{$()}catch(me){O=me instanceof P?me.errors:[me]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const me of we)try{Ee(me)}catch(Pe){O=O??[],Pe instanceof P?O=[...O,...Pe.errors]:O.push(Pe)}}if(O)throw new P(O)}}add(O){var V;if(O&&O!==this)if(this.closed)Ee(O);else{if(O instanceof Y){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(O)}}_hasParent(O){const{_parentage:V}=this;return V===O||Array.isArray(V)&&V.includes(O)}_addParent(O){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(O),V):V?[V,O]:O}_removeParent(O){const{_parentage:V}=this;V===O?this._parentage=null:Array.isArray(V)&&(0,z.P)(V,O)}remove(O){const{_finalizers:V}=this;V&&(0,z.P)(V,O),O instanceof Y&&O._removeParent(this)}}Y.EMPTY=(()=>{const re=new Y;return re.closed=!0,re})();const ie=Y.EMPTY;function oe(re){return re instanceof Y||re&&"closed"in re&&(0,g.m)(re.remove)&&(0,g.m)(re.add)&&(0,g.m)(re.unsubscribe)}function Ee(re){(0,g.m)(re)?re():re.unsubscribe()}},2653:(Be,fe,R)=>{R.d(fe,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Be,fe,R)=>{R.d(fe,{E:()=>W});const W=new(R(5592).y)(Y=>Y.complete())},2459:(Be,fe,R)=>{R.d(fe,{D:()=>ae});var g=R(4829),W=R(3093),P=R(5137),ie=R(5592),Ee=R(4971),re=R(4674),O=R(7103);function $(Z,he){if(!Z)throw new Error("Iterable cannot be null");return new ie.y(Ce=>{(0,O.f)(Ce,he,()=>{const Me=Z[Symbol.asyncIterator]();(0,O.f)(Ce,he,()=>{Me.next().then(J=>{J.done?Ce.complete():Ce.next(J.value)})},0,!0)})})}var we=R(8382),me=R(4026),Pe=R(4266),ve=R(3664),Ae=R(5726),Ie=R(9853),We=R(541);function ae(Z,he){return he?function q(Z,he){if(null!=Z){if((0,we.c)(Z))return function z(Z,he){return(0,g.Xf)(Z).pipe((0,P.R)(he),(0,W.Q)(he))}(Z,he);if((0,Pe.z)(Z))return function oe(Z,he){return new ie.y(Ce=>{let Me=0;return he.schedule(function(){Me===Z.length?Ce.complete():(Ce.next(Z[Me++]),Ce.closed||this.schedule())})})}(Z,he);if((0,me.t)(Z))return function Y(Z,he){return(0,g.Xf)(Z).pipe((0,P.R)(he),(0,W.Q)(he))}(Z,he);if((0,Ae.D)(Z))return $(Z,he);if((0,ve.T)(Z))return function V(Z,he){return new ie.y(Ce=>{let Me;return(0,O.f)(Ce,he,()=>{Me=Z[Ee.h](),(0,O.f)(Ce,he,()=>{let J,ze;try{({value:J,done:ze}=Me.next())}catch(ct){return void Ce.error(ct)}ze?Ce.complete():Ce.next(J)},0,!0)}),()=>(0,re.m)(Me?.return)&&Me.return()})}(Z,he);if((0,We.L)(Z))return function je(Z,he){return $((0,We.Q)(Z),he)}(Z,he)}throw(0,Ie.z)(Z)}(Z,he):(0,g.Xf)(Z)}},4829:(Be,fe,R)=>{R.d(fe,{Xf:()=>we});var g=R(7582),W=R(4266),P=R(4026),z=R(5592),Y=R(8382),ie=R(5726),oe=R(9853),Ee=R(3664),re=R(541),O=R(4674),V=R(3894),$=R(4850);function we(q){if(q instanceof z.y)return q;if(null!=q){if((0,Y.c)(q))return function me(q){return new z.y(ae=>{const Z=q[$.L]();if((0,O.m)(Z.subscribe))return Z.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(q);if((0,W.z)(q))return function Pe(q){return new z.y(ae=>{for(let Z=0;Z<q.length&&!ae.closed;Z++)ae.next(q[Z]);ae.complete()})}(q);if((0,P.t)(q))return function ve(q){return new z.y(ae=>{q.then(Z=>{ae.closed||(ae.next(Z),ae.complete())},Z=>ae.error(Z)).then(null,V.h)})}(q);if((0,ie.D)(q))return Ie(q);if((0,Ee.T)(q))return function Ae(q){return new z.y(ae=>{for(const Z of q)if(ae.next(Z),ae.closed)return;ae.complete()})}(q);if((0,re.L)(q))return function We(q){return Ie((0,re.Q)(q))}(q)}throw(0,oe.z)(q)}function Ie(q){return new z.y(ae=>{(function je(q,ae){var Z,he,Ce,Me;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Z=(0,g.KL)(q);!(he=yield Z.next()).done;)if(ae.next(he.value),ae.closed)return}catch(J){Ce={error:J}}finally{try{he&&!he.done&&(Me=Z.return)&&(yield Me.call(Z))}finally{if(Ce)throw Ce.error}}ae.complete()})})(q,ae).catch(Z=>ae.error(Z))})}},3019:(Be,fe,R)=>{R.d(fe,{T:()=>ie});var g=R(7537),W=R(4829),P=R(6232),z=R(4564),Y=R(2459);function ie(...oe){const Ee=(0,z.yG)(oe),re=(0,z._6)(oe,1/0),O=oe;return O.length?1===O.length?(0,W.Xf)(O[0]):(0,g.J)(re)((0,Y.D)(O,Ee)):P.E}},2096:(Be,fe,R)=>{R.d(fe,{of:()=>P});var g=R(4564),W=R(2459);function P(...z){const Y=(0,g.yG)(z);return(0,W.D)(z,Y)}},8251:(Be,fe,R)=>{R.d(fe,{x:()=>W});var g=R(305);function W(z,Y,ie,oe,Ee){return new P(z,Y,ie,oe,Ee)}class P extends g.Lv{constructor(Y,ie,oe,Ee,re,O){super(Y),this.onFinalize=re,this.shouldUnsubscribe=O,this._next=ie?function(V){try{ie(V)}catch($){Y.error($)}}:super._next,this._error=Ee?function(V){try{Ee(V)}catch($){Y.error($)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(V){Y.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},3997:(Be,fe,R)=>{R.d(fe,{x:()=>z});var g=R(2737),W=R(9360),P=R(8251);function z(ie,oe=g.y){return ie=ie??Y,(0,W.e)((Ee,re)=>{let O,V=!0;Ee.subscribe((0,P.x)(re,$=>{const we=oe($);(V||!ie(O,we))&&(V=!1,O=we,re.next($))}))})}function Y(ie,oe){return ie===oe}},7398:(Be,fe,R)=>{R.d(fe,{U:()=>P});var g=R(9360),W=R(8251);function P(z,Y){return(0,g.e)((ie,oe)=>{let Ee=0;ie.subscribe((0,W.x)(oe,re=>{oe.next(z.call(Y,re,Ee++))}))})}},7537:(Be,fe,R)=>{R.d(fe,{J:()=>P});var g=R(1631),W=R(2737);function P(z=1/0){return(0,g.z)(W.y,z)}},1631:(Be,fe,R)=>{R.d(fe,{z:()=>Ee});var g=R(7398),W=R(4829),P=R(9360),z=R(7103),Y=R(8251),oe=R(4674);function Ee(re,O,V=1/0){return(0,oe.m)(O)?Ee(($,we)=>(0,g.U)((me,Pe)=>O($,me,we,Pe))((0,W.Xf)(re($,we))),V):("number"==typeof O&&(V=O),(0,P.e)(($,we)=>function ie(re,O,V,$,we,me,Pe,ve){const Ae=[];let Ie=0,We=0,je=!1;const q=()=>{je&&!Ae.length&&!Ie&&O.complete()},ae=he=>Ie<$?Z(he):Ae.push(he),Z=he=>{me&&O.next(he),Ie++;let Ce=!1;(0,W.Xf)(V(he,We++)).subscribe((0,Y.x)(O,Me=>{we?.(Me),me?ae(Me):O.next(Me)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(Ie--;Ae.length&&Ie<$;){const Me=Ae.shift();Pe?(0,z.f)(O,Pe,()=>Z(Me)):Z(Me)}q()}catch(Me){O.error(Me)}}))};return re.subscribe((0,Y.x)(O,ae,()=>{je=!0,q()})),()=>{ve?.()}}($,we,re,V)))}},3093:(Be,fe,R)=>{R.d(fe,{Q:()=>z});var g=R(7103),W=R(9360),P=R(8251);function z(Y,ie=0){return(0,W.e)((oe,Ee)=>{oe.subscribe((0,P.x)(Ee,re=>(0,g.f)(Ee,Y,()=>Ee.next(re),ie),()=>(0,g.f)(Ee,Y,()=>Ee.complete(),ie),re=>(0,g.f)(Ee,Y,()=>Ee.error(re),ie)))})}},3020:(Be,fe,R)=>{R.d(fe,{B:()=>Y});var g=R(4829),W=R(8645),P=R(305),z=R(9360);function Y(oe={}){const{connector:Ee=(()=>new W.x),resetOnError:re=!0,resetOnComplete:O=!0,resetOnRefCountZero:V=!0}=oe;return $=>{let we,me,Pe,ve=0,Ae=!1,Ie=!1;const We=()=>{me?.unsubscribe(),me=void 0},je=()=>{We(),we=Pe=void 0,Ae=Ie=!1},q=()=>{const ae=we;je(),ae?.unsubscribe()};return(0,z.e)((ae,Z)=>{ve++,!Ie&&!Ae&&We();const he=Pe=Pe??Ee();Z.add(()=>{ve--,0===ve&&!Ie&&!Ae&&(me=ie(q,V))}),he.subscribe(Z),!we&&ve>0&&(we=new P.Hp({next:Ce=>he.next(Ce),error:Ce=>{Ie=!0,We(),me=ie(je,re,Ce),he.error(Ce)},complete:()=>{Ae=!0,We(),me=ie(je,O),he.complete()}}),(0,g.Xf)(ae).subscribe(we))})($)}}function ie(oe,Ee,...re){if(!0===Ee)return void oe();if(!1===Ee)return;const O=new P.Hp({next:()=>{O.unsubscribe(),oe()}});return(0,g.Xf)(Ee(...re)).subscribe(O)}},5137:(Be,fe,R)=>{R.d(fe,{R:()=>W});var g=R(9360);function W(P,z=0){return(0,g.e)((Y,ie)=>{ie.add(P.schedule(()=>Y.subscribe(ie),z))})}},4664:(Be,fe,R)=>{R.d(fe,{w:()=>z});var g=R(4829),W=R(9360),P=R(8251);function z(Y,ie){return(0,W.e)((oe,Ee)=>{let re=null,O=0,V=!1;const $=()=>V&&!re&&Ee.complete();oe.subscribe((0,P.x)(Ee,we=>{re?.unsubscribe();let me=0;const Pe=O++;(0,g.Xf)(Y(we,Pe)).subscribe(re=(0,P.x)(Ee,ve=>Ee.next(ie?ie(we,ve,Pe,me++):ve),()=>{re=null,$()}))},()=>{V=!0,$()}))})}},9397:(Be,fe,R)=>{R.d(fe,{b:()=>Y});var g=R(4674),W=R(9360),P=R(8251),z=R(2737);function Y(ie,oe,Ee){const re=(0,g.m)(ie)||oe||Ee?{next:ie,error:oe,complete:Ee}:ie;return re?(0,W.e)((O,V)=>{var $;null===($=re.subscribe)||void 0===$||$.call(re);let we=!0;O.subscribe((0,P.x)(V,me=>{var Pe;null===(Pe=re.next)||void 0===Pe||Pe.call(re,me),V.next(me)},()=>{var me;we=!1,null===(me=re.complete)||void 0===me||me.call(re),V.complete()},me=>{var Pe;we=!1,null===(Pe=re.error)||void 0===Pe||Pe.call(re,me),V.error(me)},()=>{var me,Pe;we&&(null===(me=re.unsubscribe)||void 0===me||me.call(re)),null===(Pe=re.finalize)||void 0===Pe||Pe.call(re)}))}):z.y}},1954:(Be,fe,R)=>{R.d(fe,{o:()=>Y});var g=R(7394);class W extends g.w0{constructor(oe,Ee){super()}schedule(oe,Ee=0){return this}}const P={setInterval(ie,oe,...Ee){const{delegate:re}=P;return re?.setInterval?re.setInterval(ie,oe,...Ee):setInterval(ie,oe,...Ee)},clearInterval(ie){const{delegate:oe}=P;return(oe?.clearInterval||clearInterval)(ie)},delegate:void 0};var z=R(9039);class Y extends W{constructor(oe,Ee){super(oe,Ee),this.scheduler=oe,this.work=Ee,this.pending=!1}schedule(oe,Ee=0){var re;if(this.closed)return this;this.state=oe;const O=this.id,V=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(V,O,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(V,this.id,Ee),this}requestAsyncId(oe,Ee,re=0){return P.setInterval(oe.flush.bind(oe,this),re)}recycleAsyncId(oe,Ee,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return Ee;null!=Ee&&P.clearInterval(Ee)}execute(oe,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(oe,Ee);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,Ee){let O,re=!1;try{this.work(oe)}catch(V){re=!0,O=V||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:oe,scheduler:Ee}=this,{actions:re}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.P)(re,this),null!=oe&&(this.id=this.recycleAsyncId(Ee,oe,null)),this.delay=null,super.unsubscribe()}}}},2631:(Be,fe,R)=>{R.d(fe,{v:()=>P});var g=R(4552);class W{constructor(Y,ie=W.now){this.schedulerActionCtor=Y,this.now=ie}schedule(Y,ie=0,oe){return new this.schedulerActionCtor(this,Y).schedule(oe,ie)}}W.now=g.l.now;class P extends W{constructor(Y,ie=W.now){super(Y,ie),this.actions=[],this._active=!1}flush(Y){const{actions:ie}=this;if(this._active)return void ie.push(Y);let oe;this._active=!0;do{if(oe=Y.execute(Y.state,Y.delay))break}while(Y=ie.shift());if(this._active=!1,oe){for(;Y=ie.shift();)Y.unsubscribe();throw oe}}}},6321:(Be,fe,R)=>{R.d(fe,{z:()=>P});var g=R(1954);const P=new(R(2631).v)(g.o)},4552:(Be,fe,R)=>{R.d(fe,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Be,fe,R)=>{R.d(fe,{z:()=>g});const g={setTimeout(W,P,...z){const{delegate:Y}=g;return Y?.setTimeout?Y.setTimeout(W,P,...z):setTimeout(W,P,...z)},clearTimeout(W){const{delegate:P}=g;return(P?.clearTimeout||clearTimeout)(W)},delegate:void 0}},4971:(Be,fe,R)=>{R.d(fe,{h:()=>W});const W=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Be,fe,R)=>{R.d(fe,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Be,fe,R)=>{R.d(fe,{_6:()=>ie,jO:()=>z,yG:()=>Y});var g=R(4674);function P(oe){return oe[oe.length-1]}function z(oe){return(0,g.m)(P(oe))?oe.pop():void 0}function Y(oe){return function W(oe){return oe&&(0,g.m)(oe.schedule)}(P(oe))?oe.pop():void 0}function ie(oe,Ee){return"number"==typeof P(oe)?oe.pop():Ee}},9039:(Be,fe,R)=>{function g(W,P){if(W){const z=W.indexOf(P);0<=z&&W.splice(z,1)}}R.d(fe,{P:()=>g})},2306:(Be,fe,R)=>{function g(W){const z=W(Y=>{Error.call(Y),Y.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}R.d(fe,{d:()=>g})},1441:(Be,fe,R)=>{R.d(fe,{O:()=>z,x:()=>P});var g=R(2653);let W=null;function P(Y){if(g.config.useDeprecatedSynchronousErrorHandling){const ie=!W;if(ie&&(W={errorThrown:!1,error:null}),Y(),ie){const{errorThrown:oe,error:Ee}=W;if(W=null,oe)throw Ee}}else Y()}function z(Y){g.config.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=Y)}},7103:(Be,fe,R)=>{function g(W,P,z,Y=0,ie=!1){const oe=P.schedule(function(){z(),ie?W.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(W.add(oe),!ie)return oe}R.d(fe,{f:()=>g})},2737:(Be,fe,R)=>{function g(W){return W}R.d(fe,{y:()=>g})},4266:(Be,fe,R)=>{R.d(fe,{z:()=>g});const g=W=>W&&"number"==typeof W.length&&"function"!=typeof W},5726:(Be,fe,R)=>{R.d(fe,{D:()=>W});var g=R(4674);function W(P){return Symbol.asyncIterator&&(0,g.m)(P?.[Symbol.asyncIterator])}},4674:(Be,fe,R)=>{function g(W){return"function"==typeof W}R.d(fe,{m:()=>g})},8382:(Be,fe,R)=>{R.d(fe,{c:()=>P});var g=R(4850),W=R(4674);function P(z){return(0,W.m)(z[g.L])}},3664:(Be,fe,R)=>{R.d(fe,{T:()=>P});var g=R(4971),W=R(4674);function P(z){return(0,W.m)(z?.[g.h])}},4026:(Be,fe,R)=>{R.d(fe,{t:()=>W});var g=R(4674);function W(P){return(0,g.m)(P?.then)}},541:(Be,fe,R)=>{R.d(fe,{L:()=>z,Q:()=>P});var g=R(7582),W=R(4674);function P(Y){return(0,g.FC)(this,arguments,function*(){const oe=Y.getReader();try{for(;;){const{value:Ee,done:re}=yield(0,g.qq)(oe.read());if(re)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ee)}}finally{oe.releaseLock()}})}function z(Y){return(0,W.m)(Y?.getReader)}},9360:(Be,fe,R)=>{R.d(fe,{A:()=>W,e:()=>P});var g=R(4674);function W(z){return(0,g.m)(z?.lift)}function P(z){return Y=>{if(W(Y))return Y.lift(function(ie){try{return z(ie,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Be,fe,R)=>{function g(){}R.d(fe,{Z:()=>g})},8407:(Be,fe,R)=>{R.d(fe,{U:()=>P,z:()=>W});var g=R(2737);function W(...z){return P(z)}function P(z){return 0===z.length?g.y:1===z.length?z[0]:function(ie){return z.reduce((oe,Ee)=>Ee(oe),ie)}}},3894:(Be,fe,R)=>{R.d(fe,{h:()=>P});var g=R(2653),W=R(7599);function P(z){W.z.setTimeout(()=>{const{onUnhandledError:Y}=g.config;if(!Y)throw z;Y(z)})}},9853:(Be,fe,R)=>{function g(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(fe,{z:()=>g})},5879:(Be,fe,R)=>{R.d(fe,{$8M:()=>uu,$WT:()=>ui,$Z:()=>l_,AFp:()=>Fy,ALo:()=>BC,AaK:()=>$,CRH:()=>XC,EJc:()=>Fr,F4k:()=>xE,FYo:()=>Hy,FiY:()=>hu,GfV:()=>Kc,Gpc:()=>Pe,HDt:()=>Qv,JOm:()=>tf,LFG:()=>Ke,Lbi:()=>Hm,Lck:()=>BT,MMx:()=>GD,NdJ:()=>L_,O4$:()=>Za,Ojb:()=>zi,OlP:()=>Pt,Oqu:()=>gg,P3R:()=>Pm,PXZ:()=>W0,Q6J:()=>O_,QGY:()=>Yp,Qsj:()=>$y,R0b:()=>Xn,RDi:()=>wm,Rgc:()=>th,SBq:()=>If,Sil:()=>b0,Suo:()=>db,TTD:()=>Xs,TgZ:()=>zp,VuI:()=>nT,WLB:()=>Ag,X6Q:()=>Ub,XFs:()=>$e,Xpm:()=>Da,Xq5:()=>EE,Xts:()=>Jh,Y36:()=>ku,YKP:()=>$D,YNc:()=>Gp,Yjl:()=>kl,Yz7:()=>it,Z0I:()=>bt,ZZ4:()=>tm,_Bn:()=>PC,_UZ:()=>Kp,_c5:()=>Zb,_uU:()=>wi,aQg:()=>ay,c2e:()=>$g,cJS:()=>kt,cg1:()=>uv,dDg:()=>gS,dqk:()=>wt,eFA:()=>xb,eJc:()=>n0,ekj:()=>Ff,eoX:()=>Nb,f3M:()=>nt,g9A:()=>jm,h0i:()=>Ea,hGG:()=>gI,hij:()=>kr,iGM:()=>Vg,ifc:()=>_e,ip1:()=>w0,jDz:()=>zD,kL8:()=>iC,kcU:()=>ou,lG2:()=>Gs,lcZ:()=>Sv,lqb:()=>mo,lri:()=>j0,n5z:()=>Zo,oAB:()=>Ro,q4F:()=>Wy,qFp:()=>NS,qLn:()=>Xc,qOj:()=>m_,qZA:()=>Zp,rWj:()=>ry,rg0:()=>Ua,sBO:()=>Bb,s_b:()=>xg,soG:()=>oh,tb:()=>uh,tp0:()=>Ac,uIk:()=>C_,vHH:()=>q,vpe:()=>Ji,wAp:()=>wl,xp6:()=>tE,z2F:()=>Al,zSh:()=>ep,zs3:()=>Ns});var g=R(8645),W=R(7394),P=R(5619),z=R(5592),Y=R(3019),ie=R(2096),oe=R(3020),Ee=R(4664),re=R(3997);function O(r){for(let s in r)if(r[s]===O)return s;throw Error("Could not find renamed property on target object.")}function V(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function $(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map($).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function we(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const me=O({__forward_ref__:O});function Pe(r){return r.__forward_ref__=Pe,r.toString=function(){return $(this())},r}function ve(r){return Ae(r)?r():r}function Ae(r){return"function"==typeof r&&r.hasOwnProperty(me)&&r.__forward_ref__===Pe}function Ie(r){return r&&!!r.\u0275providers}const je="https://g.co/ng/security#xss";class q extends Error{constructor(s,o){super(function ae(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,o)),this.code=s}}function Z(r){return"string"==typeof r?r:null==r?"":String(r)}function ze(r,s){throw new q(-201,!1)}function xe(r,s){null==r&&function Te(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function it(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function kt(r){return{providers:r.providers||[],imports:r.imports||[]}}function pn(r){return xn(r,fr)||xn(r,Ai)}function bt(r){return null!==pn(r)}function xn(r,s){return r.hasOwnProperty(s)?r[s]:null}function Si(r){return r&&(r.hasOwnProperty(hr)||r.hasOwnProperty(bo))?r[hr]:null}const fr=O({\u0275prov:O}),hr=O({\u0275inj:O}),Ai=O({ngInjectableDef:O}),bo=O({ngInjectorDef:O});var $e=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}($e||{});let dt;function At(r){const s=dt;return dt=r,s}function $t(r,s,o){const l=pn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&$e.Optional?null:void 0!==s?s:void ze($(r))}const wt=globalThis,rr={},nn="__NG_DI_FLAG__",Er="ngTempTokenPath",F=/\n/gm,B="__source";let ce;function Ne(r){const s=ce;return ce=r,s}function Je(r,s=$e.Default){if(void 0===ce)throw new q(-203,!1);return null===ce?$t(r,void 0,s):ce.get(r,s&$e.Optional?null:void 0,s)}function Ke(r,s=$e.Default){return(function tt(){return dt}()||Je)(ve(r),s)}function nt(r,s=$e.Default){return Ke(r,Kt(s))}function Kt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function pt(r){const s=[];for(let o=0;o<r.length;o++){const l=ve(r[o]);if(Array.isArray(l)){if(0===l.length)throw new q(900,!1);let u,f=$e.Default;for(let m=0;m<l.length;m++){const e=l[m],t=Kr(e);"number"==typeof t?-1===t?u=e.token:f|=t:u=e}s.push(Ke(u,f))}else s.push(Ke(l))}return s}function un(r,s){return r[nn]=s,r.prototype[nn]=s,r}function Kr(r){return r[nn]}function te(r){return{toString:r}.toString()}var K=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(K||{}),_e=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(_e||{});const ke={},Re=[],st=O({\u0275cmp:O}),Et=O({\u0275dir:O}),rn=O({\u0275pipe:O}),sn=O({\u0275mod:O}),Rn=O({\u0275fac:O}),qr=O({__NG_ELEMENT_ID__:O}),Hs=O({__NG_ENV_ID__:O});function Rl(r,s,o){let l=r.length;for(;;){const u=r.indexOf(s,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const f=s.length;if(u+f===l||r.charCodeAt(u+f)<=32)return u}o=u+1}}function $s(r,s,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const f=o[l++],m=o[l++],e=o[l++];r.setAttribute(s,m,e,f)}else{const f=u,m=o[++l];Ir(f)?r.setProperty(s,f,m):r.setAttribute(s,f,m),l++}}return l}function Pl(r){return 3===r||4===r||6===r}function Ir(r){return 64===r.charCodeAt(0)}function es(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||So(r,o,u,null,-1===o||2===o?s[++l]:null)}}return r}function So(r,s,o,l,u){let f=0,m=r.length;if(-1===s)m=-1;else for(;f<r.length;){const e=r[f++];if("number"==typeof e){if(e===s){m=-1;break}if(e>s){m=f-1;break}}}for(;f<r.length;){const e=r[f];if("number"==typeof e)break;if(e===o){if(null===l)return void(null!==u&&(r[f+1]=u));if(l===r[f+1])return void(r[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==m&&(r.splice(m,0,s),f=m+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==u&&r.splice(f++,0,u)}const Nl="ng-template";function on(r,s,o){let l=0,u=!0;for(;l<r.length;){let f=r[l++];if("string"==typeof f&&u){const m=r[l++];if(o&&"class"===f&&-1!==Rl(m.toLowerCase(),s,0))return!0}else{if(1===f){for(;l<r.length&&"string"==typeof(f=r[l++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function Ao(r){return 4===r.type&&r.value!==Nl}function mh(r,s,o){return s===(4!==r.type||o?r.value:Nl)}function bd(r,s,o){let l=4;const u=r.attrs||[],f=function _h(r){for(let s=0;s<r.length;s++)if(Pl(r[s]))return s;return r.length}(u);let m=!1;for(let e=0;e<s.length;e++){const t=s[e];if("number"!=typeof t){if(!m)if(4&l){if(l=2|1&l,""!==t&&!mh(r,t,o)||""===t&&1===s.length){if(ir(l))return!1;m=!0}}else{const n=8&l?t:s[++e];if(8&l&&null!==r.attrs){if(!on(r.attrs,n,o)){if(ir(l))return!1;m=!0}continue}const a=Ws(8&l?"class":t,u,Ao(r),o);if(-1===a){if(ir(l))return!1;m=!0;continue}if(""!==n){let c;c=a>f?"":u[a+1].toLowerCase();const h=8&l?c:null;if(h&&-1!==Rl(h,n,0)||2&l&&n!==c){if(ir(l))return!1;m=!0}}}}else{if(!m&&!ir(l)&&!ir(t))return!1;if(m&&ir(t))continue;m=!1,l=t|1&l}}return ir(l)||m}function ir(r){return 0==(1&r)}function Ws(r,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let f=!1;for(;u<s.length;){const m=s[u];if(m===r)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let e=s[++u];for(;"string"==typeof e;)e=s[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function ts(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function Ol(r,s,o=!1){for(let l=0;l<s.length;l++)if(bd(r,s[l],o))return!0;return!1}function Mo(r,s){return r?":not("+s.trim()+")":s}function tc(r){let s=r[0],o=1,l=2,u="",f=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const e=r[++o];u+="["+m+(e.length>0?'="'+e+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!ir(m)&&(s+=Mo(f,u),u=""),l=m,f=f||!ir(l);o++}return""!==u&&(s+=Mo(f,u)),s}function Da(r){return te(()=>{const s=Fl(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||_e.Emulated,styles:r.styles||Re,_:null,schemas:r.schemas||null,tView:null,id:""};Sd(o);const l=r.dependencies;return o.directiveDefs=Po(l,!1),o.pipeDefs=Po(l,!0),o.id=function Dr(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function xl(r){return gt(r)||Qt(r)}function ba(r){return null!==r}function Ro(r){return te(()=>({type:r.type,bootstrap:r.bootstrap||Re,declarations:r.declarations||Re,imports:r.imports||Re,exports:r.exports||Re,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ta(r,s){if(null==r)return ke;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=l,s&&(s[u]=f)}return o}function Gs(r){return te(()=>{const s=Fl(r);return Sd(s),s})}function kl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function gt(r){return r[st]||null}function Qt(r){return r[Et]||null}function Bn(r){return r[rn]||null}function ui(r){const s=gt(r)||Qt(r)||Bn(r);return null!==s&&s.standalone}function jn(r,s){const o=r[sn]||null;if(!o&&!0===s)throw new Error(`Type ${$(r)} does not have '\u0275mod' property.`);return o}function Fl(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||ke,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Re,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ta(r.inputs,s),outputs:Ta(r.outputs)}}function Sd(r){r.features?.forEach(s=>s(r))}function Po(r,s){if(!r)return null;const o=s?Bn:xl;return()=>("function"==typeof r?r():r).map(l=>o(l)).filter(ba)}const Wt=0,Oe=1,Ze=2,Ft=3,Hn=4,ns=5,Pn=6,No=7,Gt=8,ci=9,zs=10,Ye=11,Nn=12,Ad=13,Ni=14,Lt=15,Ll=16,rs=17,vn=18,di=19,fi=20,Oi=21,br=22,Aa=23,is=24,ot=25,Zs=1,Ma=2,yn=7,En=9,On=11;function Cn(r){return Array.isArray(r)&&"object"==typeof r[Zs]}function $n(r){return Array.isArray(r)&&!0===r[Zs]}function Ra(r){return 0!=(4&r.flags)}function os(r){return r.componentOffset>-1}function pr(r){return 1==(1&r.flags)}function sr(r){return!!r.template}function Ks(r){return 0!=(512&r[Ze])}function as(r,s){return r.hasOwnProperty(Rn)?r[Rn]:null}let $l=wt.WeakRef??class xa{constructor(s){this.ref=s}deref(){return this.ref}},ka=0,Yr=null,ls=!1;function Jt(r){const s=Yr;return Yr=r,s}class Od{constructor(){this.id=ka++,this.ref=function Qs(r){return new $l(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const l=o.producerNode.deref();if(null!=l&&o.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=ls;ls=!0;try{for(const[o,l]of this.consumers){const u=l.consumerNode.deref();null!=u&&u.trackingVersion===l.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{ls=s}}producerAccessed(){if(ls)throw new Error("");if(null===Yr)return;let s=Yr.producers.get(this.id);void 0===s?(s={consumerNode:Yr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Yr.trackingVersion},Yr.producers.set(this.id,s),this.consumers.set(Yr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Yr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Yr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Va=null;function Ua(r){const s=Jt(null);try{return r()}finally{Jt(s)}}const cc=()=>{};class dc extends Od{constructor(s,o,l){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=cc,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Jt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=cc,this.watch(this.registerOnCleanup)}finally{Jt(s)}}cleanup(){this.cleanupFn()}}class Fd{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Xs(){return fc}function fc(r){return r.type.prototype.ngOnChanges&&(r.setInput=Fo),us}function us(){const r=hc(this),s=r?.current;if(s){const o=r.previous;if(o===ke)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function Fo(r,s,o,l){const u=this.declaredInputs[o],f=hc(r)||function Ba(r,s){return r[Gl]=s}(r,{previous:ke,current:null}),m=f.current||(f.current={}),e=f.previous,t=e[u];m[u]=new Fd(t&&t.currentValue,s,e===ke),r[l]=s}Xs.ngInherit=!0;const Gl="__ngSimpleChanges__";function hc(r){return r[Gl]||null}const Tr=function(r,s,o){},Vd="svg";function Rt(r){for(;Array.isArray(r);)r=r[Wt];return r}function Ha(r,s){return Rt(s[r])}function zn(r,s){return Rt(s[r.index])}function pc(r,s){return r.data[s]}function Xt(r,s){const o=s[r];return Cn(o)?o:o[Wt]}function Fi(r,s){return null==s?null:r[s]}function Kl(r){r[rs]=0}function Ud(r){1024&r[Ze]||(r[Ze]|=1024,ds(r,1))}function mc(r){1024&r[Ze]&&(r[Ze]&=-1025,ds(r,-1))}function ds(r,s){let o=r[Ft];if(null===o)return;o[ns]+=s;let l=o;for(o=o[Ft];null!==o&&(1===s&&1===l[ns]||-1===s&&0===l[ns]);)o[ns]+=s,l=o,o=o[Ft]}const qe={lFrame:Ic(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fs(){return qe.bindingsEnabled}function se(){return qe.lFrame.lView}function Ct(){return qe.lFrame.tView}function cn(){let r=Vo();for(;null!==r&&64===r.type;)r=r.parent;return r}function Vo(){return qe.lFrame.currentTNode}function Vr(r,s){const o=qe.lFrame;o.currentTNode=r,o.isParent=s}function In(){return qe.lFrame.isParent}function or(){const r=qe.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function pi(){return qe.lFrame.bindingIndex++}function nu(r,s){const o=qe.lFrame;o.bindingIndex=o.bindingRootIndex=r,$d(s)}function $d(r){qe.lFrame.currentDirectiveIndex=r}function Ec(){return qe.lFrame.currentQueryIndex}function ru(r){qe.lFrame.currentQueryIndex=r}function wh(r){const s=r[Oe];return 2===s.type?s.declTNode:1===s.type?r[Pn]:null}function iu(r,s,o){if(o&$e.SkipSelf){let u=s,f=r;for(;!(u=u.parent,null!==u||o&$e.Host||(u=wh(f),null===u||(f=f[Ni],10&u.type))););if(null===u)return!1;s=u,r=f}const l=qe.lFrame=io();return l.currentTNode=s,l.lView=r,!0}function Cc(r){const s=io(),o=r[Oe];qe.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function io(){const r=qe.lFrame,s=null===r?null:r.child;return null===s?Ic(r):s}function Ic(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function su(){const r=qe.lFrame;return qe.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Wd=su;function Ga(){const r=su();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ar(){return qe.lFrame.selectedIndex}function Li(r){qe.lFrame.selectedIndex=r}function Yt(){const r=qe.lFrame;return pc(r.tView,r.selectedIndex)}function Za(){qe.lFrame.currentNamespace=Vd}function ou(){!function bh(){qe.lFrame.currentNamespace=null}()}let so=!0;function Vi(){return so}function Nt(r){so=r}function Fn(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:e,ngAfterViewInit:t,ngAfterViewChecked:n,ngOnDestroy:i}=f;m&&(r.contentHooks??=[]).push(-o,m),e&&((r.contentHooks??=[]).push(o,e),(r.contentCheckHooks??=[]).push(o,e)),t&&(r.viewHooks??=[]).push(-o,t),n&&((r.viewHooks??=[]).push(o,n),(r.viewCheckHooks??=[]).push(o,n)),null!=i&&(r.destroyHooks??=[]).push(o,i)}}function ms(r,s,o){Ka(r,s,3,o)}function Ui(r,s,o,l){(3&r[Ze])===o&&Ka(r,s,o,l)}function Bo(r,s){let o=r[Ze];(3&o)===s&&(o&=8191,o+=1,r[Ze]=o)}function Ka(r,s,o,l){const f=l??-1,m=s.length-1;let e=0;for(let t=void 0!==l?65535&r[rs]:0;t<m;t++)if("number"==typeof s[t+1]){if(e=s[t],null!=l&&e>=l)break}else s[t]<0&&(r[rs]+=65536),(e<f||-1==f)&&(_s(r,o,s,t),r[rs]=(4294901760&r[rs])+t+2),t++}function jo(r,s){Tr(4,r,s);const o=Jt(null);try{s.call(r)}finally{Jt(o),Tr(5,r,s)}}function _s(r,s,o,l){const u=o[l]<0,f=o[l+1],e=r[u?-o[l]:o[l]];u?r[Ze]>>13<r[rs]>>16&&(3&r[Ze])===s&&(r[Ze]+=8192,jo(e,f)):jo(e,f)}const Ln=-1;class Qe{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function lu(r){return r!==Ln}function ji(r){return 32767&r}function Qr(r,s){let o=function Th(r){return r>>16}(r),l=s;for(;o>0;)l=l[Ni],o--;return l}let gi=!0;function oo(r){const s=gi;return gi=r,s}const $o=255,Wo=5;let bc=0;const Zn={};function Go(r,s){const o=Ya(r,s);if(-1!==o)return o;const l=s[Oe];l.firstCreatePass&&(r.injectorIndex=s.length,Dn(l.data,r),Dn(s,null),Dn(l.blueprint,null));const u=ys(r,s),f=r.injectorIndex;if(lu(u)){const m=ji(u),e=Qr(u,s),t=e[Oe].data;for(let n=0;n<8;n++)s[f+n]=e[m+n]|t[m+n]}return s[f+8]=u,f}function Dn(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Ya(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function ys(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){if(l=Ko(u),null===l)return Ln;if(o++,u=u[Ni],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Ln}function Ar(r,s,o){!function mi(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(qr)&&(l=o[qr]),null==l&&(l=o[qr]=bc++);const u=l&$o;s.data[r+(u>>Wo)]|=1<<u}(r,s,o)}function _i(r,s,o){if(o&$e.Optional||void 0!==r)return r;ze()}function Tc(r,s,o,l){if(o&$e.Optional&&void 0===l&&(l=null),!(o&($e.Self|$e.Host))){const u=r[ci],f=At(void 0);try{return u?u.get(s,l,o&$e.Optional):$t(s,l,o&$e.Optional)}finally{At(f)}}return _i(l,0,o)}function Jr(r,s,o,l=$e.Default,u){if(null!==r){if(2048&s[Ze]&&!(l&$e.Self)){const m=function lo(r,s,o,l,u){let f=r,m=s;for(;null!==f&&null!==m&&2048&m[Ze]&&!(512&m[Ze]);){const e=Tn(f,m,o,l|$e.Self,Zn);if(e!==Zn)return e;let t=f.parent;if(!t){const n=m[fi];if(n){const i=n.get(o,Zn,l);if(i!==Zn)return i}t=Ko(m),m=m[Ni]}f=t}return u}(r,s,o,l,Zn);if(m!==Zn)return m}const f=Tn(r,s,o,l,Zn);if(f!==Zn)return f}return Tc(s,o,l,u)}function Tn(r,s,o,l,u){const f=function Hi(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(qr)?r[qr]:void 0;return"number"==typeof s?s>=0?s&$o:zo:s}(o);if("function"==typeof f){if(!iu(s,r,l))return l&$e.Host?_i(u,0,l):Tc(s,o,l,u);try{let m;if(m=f(l),null!=m||l&$e.Optional)return m;ze()}finally{Wd()}}else if("number"==typeof f){let m=null,e=Ya(r,s),t=Ln,n=l&$e.Host?s[Lt][Pn]:null;for((-1===e||l&$e.SkipSelf)&&(t=-1===e?ys(r,s):s[e+8],t!==Ln&&an(l,!1)?(m=s[Oe],e=ji(t),s=Qr(t,s)):e=-1);-1!==e;){const i=s[Oe];if($i(f,e,i.data)){const a=Qa(e,s,o,m,l,n);if(a!==Zn)return a}t=s[e+8],t!==Ln&&an(l,s[Oe].data[e+8]===n)&&$i(f,e,s)?(m=i,e=ji(t),s=Qr(t,s)):e=-1}}return u}function Qa(r,s,o,l,u,f){const m=s[Oe],e=m.data[r+8],i=Ja(e,m,o,null==l?os(e)&&gi:l!=m&&0!=(3&e.type),u&$e.Host&&f===e);return null!==i?vi(s,m,i,e):Zn}function Ja(r,s,o,l,u){const f=r.providerIndexes,m=s.data,e=1048575&f,t=r.directiveStart,i=f>>20,c=u?e+i:r.directiveEnd;for(let h=l?e:e+i;h<c;h++){const v=m[h];if(h<t&&o===v||h>=t&&v.type===o)return h}if(u){const h=m[t];if(h&&sr(h)&&h.type===o)return t}return null}function vi(r,s,o,l){let u=r[o];const f=s.data;if(function wc(r){return r instanceof Qe}(u)){const m=u;m.resolving&&function Ce(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new q(-200,`Circular dependency in DI detected for ${r}${o}`)}(function he(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Z(r)}(f[o]));const e=oo(m.canSeeViewProviders);m.resolving=!0;const n=m.injectImpl?At(m.injectImpl):null;iu(r,l,$e.Default);try{u=r[o]=m.factory(void 0,f,r,l),s.firstCreatePass&&o>=l.directiveStart&&function Ge(r,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(l){const m=fc(s);(o.preOrderHooks??=[]).push(r,m),(o.preOrderCheckHooks??=[]).push(r,m)}u&&(o.preOrderHooks??=[]).push(0-r,u),f&&((o.preOrderHooks??=[]).push(r,f),(o.preOrderCheckHooks??=[]).push(r,f))}(o,f[o],s)}finally{null!==n&&At(n),oo(e),m.resolving=!1,Wd()}}return u}function $i(r,s,o){return!!(o[s+(r>>Wo)]&1<<r)}function an(r,s){return!(r&$e.Self||r&$e.Host&&s)}class en{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Jr(this._tNode,this._lView,s,Kt(l),o)}}function zo(){return new en(cn(),se())}function Zo(r){return te(()=>{const s=r.prototype.constructor,o=s[Rn]||ao(s),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const f=u[Rn]||ao(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function ao(r){return Ae(r)?()=>{const s=ao(ve(r));return s&&s()}:as(r)}function Ko(r){const s=r[Oe],o=s.type;return 2===o?s.declTNode:1===o?r[Pn]:null}function uu(r){return function bn(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const f=o[u];if(Pl(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(f===s)return o[u+1];u+=2}}}return null}(cn(),r)}const yi="__parameters__";function Cs(r,s,o){return te(()=>{const l=function Xr(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...f){if(this instanceof u)return l.apply(this,f),this;const m=new u(...f);return e.annotation=m,e;function e(t,n,i){const a=t.hasOwnProperty(yi)?t[yi]:Object.defineProperty(t,yi,{value:[]})[yi];for(;a.length<=i;)a.push(null);return(a[i]=a[i]||[]).push(m),t}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}function j(r,s){r.forEach(o=>Array.isArray(o)?j(o,s):s(o))}function X(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Se(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function It(r,s,o){let l=Wi(r,s);return l>=0?r[1|l]=o:(l=~l,function et(r,s,o,l){let u=r.length;if(u==s)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>s;)r[u]=r[u-2],u--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function Br(r,s){const o=Wi(r,s);if(o>=0)return r[1|o]}function Wi(r,s){return function qn(r,s,o){let l=0,u=r.length>>o;for(;u!==l;){const f=l+(u-l>>1),m=r[f<<o];if(s===m)return f<<o;m>s?u=f:l=f+1}return~(u<<o)}(r,s,1)}const hu=un(Cs("Optional"),8),Ac=un(Cs("SkipSelf"),4);function sl(r){return 128==(128&r.flags)}var tf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(tf||{});const Cu=new Map;let Ci=0;const Du="__ngContext__";function Vn(r,s){Cn(s)?(r[Du]=s[di],function Mr(r){Cu.set(r[di],r)}(s)):r[Du]=s}let Ts;function Su(r,s){return Ts(r,s)}function Au(r){const s=r[Ft];return $n(s)?s[Ft]:s}function Wh(r){return _m(r[Nn])}function mm(r){return _m(r[Hn])}function _m(r){for(;null!==r&&!$n(r);)r=r[Hn];return r}function _(r,s,o,l,u){if(null!=l){let f,m=!1;$n(l)?f=l:Cn(l)&&(m=!0,l=l[Wt]);const e=Rt(l);0===r&&null!==o?null==u?af(s,o,e):Ms(s,o,e,u||null,!0):1===r&&null!==o?Ms(s,o,e,u||null,!0):2===r?function Zh(r,s,o){const l=Fc(r,s);l&&function ra(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,e,m):3===r&&s.destroyNode(e),null!=f&&function bI(r,s,o,l,u){const f=o[yn];f!==Rt(o)&&_(s,r,l,f,u);for(let e=On;e<o.length;e++){const t=o[e];cf(t[Oe],t,r,s,l,f)}}(s,r,f,o,u)}}function D(r,s,o){return r.createElement(s,o)}function Le(r,s){const o=r[En],l=o.indexOf(s);mc(s),o.splice(l,1)}function Bt(r,s){if(r.length<=On)return;const o=On+s,l=r[o];if(l){const u=l[Ll];null!==u&&u!==r&&Le(u,l),s>0&&(r[o-1][Hn]=l[Hn]);const f=Se(r,On+s);!function T(r,s){cf(r,s,s[Ye],2,null,null),s[Wt]=null,s[Pn]=null}(l[Oe],l);const m=f[vn];null!==m&&m.detachView(f[Oe]),l[Ft]=null,l[Hn]=null,l[Ze]&=-129}return l}function Rr(r,s){if(!(256&s[Ze])){const o=s[Ye];s[Aa]?.destroy(),s[is]?.destroy(),o.destroyNode&&cf(r,s,o,3,null,null),function ye(r){let s=r[Nn];if(!s)return Ss(r[Oe],r);for(;s;){let o=null;if(Cn(s))o=s[Nn];else{const l=s[On];l&&(o=l)}if(!o){for(;s&&!s[Hn]&&s!==r;)Cn(s)&&Ss(s[Oe],s),s=s[Ft];null===s&&(s=r),Cn(s)&&Ss(s[Oe],s),o=s&&s[Hn]}s=o}}(s)}}function Ss(r,s){if(!(256&s[Ze])){s[Ze]&=-129,s[Ze]|=256,function sf(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Qe)){const f=o[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const e=u[f[m]],t=f[m+1];Tr(4,e,t);try{t.call(e)}finally{Tr(5,e,t)}}else{Tr(4,u,f);try{f.call(u)}finally{Tr(5,u,f)}}}}}(r,s),function Gh(r,s){const o=r.cleanup,l=s[No];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else o[f].call(l[o[f+1]]);null!==l&&(s[No]=null);const u=s[Oi];if(null!==u){s[Oi]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(r,s),1===s[Oe].type&&s[Ye].destroy();const o=s[Ll];if(null!==o&&$n(s[Ft])){o!==s[Ft]&&Le(o,s);const l=s[vn];null!==l&&l.detachView(r)}!function Bh(r){Cu.delete(r[di])}(s)}}function As(r,s,o){return function ta(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[Wt];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:f}=r.data[l.directiveStart+u];if(f===_e.None||f===_e.Emulated)return null}return zn(l,o)}}(r,s.parent,o)}function Ms(r,s,o,l,u){r.insertBefore(s,o,l,u)}function af(r,s,o){r.appendChild(s,o)}function na(r,s,o,l,u){null!==l?Ms(r,s,o,l,u):af(r,s,o)}function Fc(r,s){return r.parentNode(s)}let vy,Im,Kh,_y=function my(r,s,o){return 40&r.type?zn(r,o):null};function uf(r,s,o,l){const u=As(r,l,s),f=s[Ye],e=function zh(r,s,o){return _y(r,s,o)}(l.parent||s[Pn],l,s);if(null!=u)if(Array.isArray(o))for(let t=0;t<o.length;t++)na(f,u,o[t],e,!1);else na(f,u,o,e,!1);void 0!==vy&&vy(f,l,s,o,u)}function ul(r,s){if(null!==s){const o=s.type;if(3&o)return zn(s,r);if(4&o)return ym(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return ul(r,l);{const u=r[s.index];return $n(u)?ym(-1,u):Rt(u)}}if(32&o)return Su(s,r)()||Rt(r[s.index]);{const l=Mu(r,s);return null!==l?Array.isArray(l)?l[0]:ul(Au(r[Lt]),l):ul(r,s.next)}}return null}function Mu(r,s){return null!==s?r[Lt][Pn].projection[s.projection]:null}function ym(r,s){const o=On+r+1;if(o<s.length){const l=s[o],u=l[Oe].firstChild;if(null!==u)return ul(l,u)}return s[yn]}function Em(r,s,o,l,u,f,m){for(;null!=o;){const e=l[o.index],t=o.type;if(m&&0===s&&(e&&Vn(Rt(e),l),o.flags|=2),32!=(32&o.flags))if(8&t)Em(r,s,o.child,l,u,f,!1),_(s,r,u,e,f);else if(32&t){const n=Su(o,l);let i;for(;i=n();)_(s,r,u,i,f);_(s,r,u,e,f)}else 16&t?Cy(r,s,l,o,u,f):_(s,r,u,e,f);o=m?o.projectionNext:o.next}}function cf(r,s,o,l,u,f){Em(o,l,r.firstChild,s,u,f,!1)}function Cy(r,s,o,l,u,f){const m=o[Lt],t=m[Pn].projection[l.projection];if(Array.isArray(t))for(let n=0;n<t.length;n++)_(s,r,u,t[n],f);else{let n=t;const i=m[Ft];sl(l)&&(n.flags|=128),Em(r,s,n,i,u,f,!0)}}function wy(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function df(r,s,o){const{mergedAttrs:l,classes:u,styles:f}=o;null!==l&&$s(r,s,l),null!==u&&wy(r,s,u),null!==f&&function Iy(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}function wm(r){Im=r}function hf(r){return function Dm(){if(void 0===Kh&&(Kh=null,wt.trustedTypes))try{Kh=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Kh}()?.createScriptURL(r)||r}class Ty{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}function ia(r){return r instanceof Ty?r.changingThisBreaksApplicationSecurity:r}function qh(r,s){const o=function Sy(r){return r instanceof Ty&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${je})`)}return o===s}const Lc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var jc=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(jc||{});function jI(r){const s=Qh();return s?s.sanitize(jc.URL,r)||"":qh(r,"URL")?ia(r):function pf(r){return(r=String(r)).match(Lc)?r:"unsafe:"+r}(Z(r))}function HI(r){const s=Qh();if(s)return hf(s.sanitize(jc.RESOURCE_URL,r)||"");if(qh(r,"ResourceURL"))return hf(ia(r));throw new q(904,!1)}function Pm(r,s,o){return function mT(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?HI:jI}(s,o)(r)}function Qh(){const r=se();return r&&r[zs].sanitizer}class Pt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=it({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jh=new Pt("ENVIRONMENT_INITIALIZER"),Nm=new Pt("INJECTOR",-1),Om=new Pt("INJECTOR_DEF_TYPES");class mf{get(s,o=rr){if(o===rr){const l=new Error(`NullInjectorError: No provider for ${$(s)}!`);throw l.name="NullInjectorError",l}return o}}function WI(...r){return{\u0275providers:GI(0,r),\u0275fromNgModule:!0}}function GI(r,...s){const o=[],l=new Set;let u;const f=m=>{o.push(m)};return j(s,m=>{const e=m;Xh(e,f,[],l)&&(u||=[],u.push(e))}),void 0!==u&&xm(u,f),o}function xm(r,s){for(let o=0;o<r.length;o++){const{ngModule:l,providers:u}=r[o];ky(u,f=>{s(f,l)})}}function Xh(r,s,o,l){if(!(r=ve(r)))return!1;let u=null,f=Si(r);const m=!f&&gt(r);if(f||m){if(m&&!m.standalone)return!1;u=r}else{const t=r.ngModule;if(f=Si(t),!f)return!1;u=t}const e=l.has(u);if(m){if(e)return!1;if(l.add(u),m.dependencies){const t="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const n of t)Xh(n,s,o,l)}}else{if(!f)return!1;{if(null!=f.imports&&!e){let n;l.add(u);try{j(f.imports,i=>{Xh(i,s,o,l)&&(n||=[],n.push(i))})}finally{}void 0!==n&&xm(n,s)}if(!e){const n=as(u)||(()=>new u);s({provide:u,useFactory:n,deps:Re},u),s({provide:Om,useValue:u,multi:!0},u),s({provide:Jh,useValue:()=>Ke(u),multi:!0},u)}const t=f.providers;if(null!=t&&!e){const n=r;ky(t,i=>{s(i,n)})}}}return u!==r&&void 0!==r.providers}function ky(r,s){for(let o of r)Ie(o)&&(o=o.\u0275providers),Array.isArray(o)?ky(o,s):s(o)}const vT=O({provide:String,useValue:O});function km(r){return null!==r&&"object"==typeof r&&vT in r}function Nu(r){return"function"==typeof r}const ep=new Pt("Set Injector scope."),tp={},KI={};let Lm;function np(){return void 0===Lm&&(Lm=new mf),Lm}class mo{}class _f extends mo{get destroyed(){return this._destroyed}constructor(s,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Um(s,m=>this.processProvider(m)),this.records.set(Nm,vf(void 0,this)),u.has("environment")&&this.records.set(mo,vf(void 0,this));const f=this.records.get(ep);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Om.multi,Re,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Ne(this),l=At(void 0);try{return s()}finally{Ne(o),At(l)}}get(s,o=rr,l=$e.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Hs))return s[Hs](this);l=Kt(l);const f=Ne(this),m=At(void 0);try{if(!(l&$e.SkipSelf)){let t=this.records.get(s);if(void 0===t){const n=function YI(r){return"function"==typeof r||"object"==typeof r&&r instanceof Pt}(s)&&pn(s);t=n&&this.injectableDefInScope(n)?vf(Vm(s),tp):null,this.records.set(s,t)}if(null!=t)return this.hydrate(s,t)}return(l&$e.Self?np():this.parent).get(s,o=l&$e.Optional&&o===rr?null:o)}catch(e){if("NullInjectorError"===e.name){if((e[Er]=e[Er]||[]).unshift($(s)),f)throw e;return function li(r,s,o,l){const u=r[Er];throw s[B]&&u.unshift(s[B]),r.message=function To(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=$(s);if(Array.isArray(s))u=s.map($).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let e=s[m];f.push(m+":"+("string"==typeof e?JSON.stringify(e):$(e)))}u=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(F,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Er]=null,r}(e,s,"R3InjectorError",this.source)}throw e}finally{At(m),Ne(f)}}resolveInjectorInitializers(){const s=Ne(this),o=At(void 0);try{const u=this.get(Jh.multi,Re,$e.Self);for(const f of u)f()}finally{Ne(s),At(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push($(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(s){let o=Nu(s=ve(s))?s:ve(s&&s.provide);const l=function ET(r){return km(r)?vf(void 0,r.useValue):vf(qI(r),tp)}(s);if(Nu(s)||!0!==s.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=vf(void 0,tp,!0),u.factory=()=>pt(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===tp&&(o.value=KI,o.value=o.factory()),"object"==typeof o.value&&o.value&&function IT(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ve(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Vm(r){const s=pn(r),o=null!==s?s.factory:as(r);if(null!==o)return o;if(r instanceof Pt)throw new q(204,!1);if(r instanceof Function)return function yT(r){const s=r.length;if(s>0)throw function De(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new q(204,!1);const o=function dr(r){return r&&(r[fr]||r[Ai])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new q(204,!1)}function qI(r,s,o){let l;if(Nu(r)){const u=ve(r);return as(u)||Vm(u)}if(km(r))l=()=>ve(r.useValue);else if(function Fm(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...pt(r.deps||[]));else if(function zI(r){return!(!r||!r.useExisting)}(r))l=()=>Ke(ve(r.useExisting));else{const u=ve(r&&(r.useClass||r.provide));if(!function CT(r){return!!r.deps}(r))return as(u)||Vm(u);l=()=>new u(...pt(r.deps))}return l}function vf(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Um(r,s){for(const o of r)Array.isArray(o)?Um(o,s):o&&Ie(o)?Um(o.\u0275providers,s):s(o)}const Fy=new Pt("AppId",{providedIn:"root",factory:()=>Bm}),Bm="ng",jm=new Pt("Platform Initializer"),Hm=new Pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zi=new Pt("CSP nonce",{providedIn:"root",factory:()=>function Pu(){if(void 0!==Im)return Im;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $c=(r,s,o)=>null;function op(r,s,o=!1){return $c(r,s,o)}class JI{}class Gc{}class jy{resolveComponentFactory(s){throw function Wm(r){const s=Error(`No component factory found for ${$(r)}.`);return s.ngComponent=r,s}(s)}}let lp=(()=>{class s{}return s.NULL=new jy,s})();function XI(){return zc(cn(),se())}function zc(r,s){return new If(zn(r,s))}let If=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=XI,s})();function ew(r){return r instanceof If?r.nativeElement:r}class Hy{}let $y=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function Zc(){const r=se(),o=Xt(cn().index,r);return(Cn(o)?o:r)[Ye]}(),s})(),tw=(()=>{var r;class s{}return(r=s).\u0275prov=it({token:r,providedIn:"root",factory:()=>null}),s})();class Kc{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Wy=new Kc("16.2.2"),zm={};function Qm(r,s=null,o=null,l){const u=cp(r,s,o,l);return u.resolveInjectorInitializers(),u}function cp(r,s=null,o=null,l,u=new Set){const f=[o||Re,WI(r)];return l=l||("object"==typeof r?void 0:$(r)),new _f(f,s||np(),l||null,u)}let Ns=(()=>{var r;class s{static create(l,u){if(Array.isArray(l))return Qm({name:""},u,l,"");{const f=l.name??"";return Qm({name:f},l.parent,l.providers,f)}}}return(r=s).THROW_IF_NOT_FOUND=rr,r.NULL=new mf,r.\u0275prov=it({token:r,providedIn:"any",factory:()=>Ke(Nm)}),r.__NG_ELEMENT_ID__=-1,s})();function Eo(r){return r instanceof Function?r():r}let fp=(()=>{var r;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new q(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(r=s).\u0275prov=it({token:r,providedIn:"root",factory:()=>new r}),s})();function Jc(r){for(;r;){r[Ze]|=64;const s=Au(r);if(Ks(r)&&!s)return r;r=s}return null}function t_(r){return r.ngOriginalError}class Xc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&t_(s);for(;o&&t_(o);)o=t_(o);return o||null}}const r_=new Pt("",{providedIn:"root",factory:()=>!1});class Xy extends Od{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Jc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,l){const u=Jt(this);this.trackingVersion++;try{s(o,l)}finally{Jt(u)}}destroy(){this.trackingVersion++}}let gp=null;function mp(){return gp??=new Xy,gp}function o_(r,s){return r[s]??mp()}function eE(r,s){const o=mp();o.hasReadASignal&&(r[s]=gp,o.lView=r,gp=new Xy)}const lt={};function tE(r){a_(Ct(),se(),ar()+r,!1)}function a_(r,s,o,l){if(!l)if(3==(3&s[Ze])){const f=r.preOrderCheckHooks;null!==f&&ms(s,f,o)}else{const f=r.preOrderHooks;null!==f&&Ui(s,f,0,o)}Li(o)}function ku(r,s=$e.Default){const o=se();return null===o?Ke(r,s):Jr(cn(),o,ve(r),s)}function l_(){throw new Error("invalid")}function _p(r,s,o,l,u,f,m,e,t,n,i){const a=s.blueprint.slice();return a[Wt]=u,a[Ze]=140|l,(null!==n||r&&2048&r[Ze])&&(a[Ze]|=2048),Kl(a),a[Ft]=a[Ni]=r,a[Gt]=o,a[zs]=m||r&&r[zs],a[Ye]=e||r&&r[Ye],a[ci]=t||r&&r[ci]||null,a[Pn]=f,a[di]=function al(){return Ci++}(),a[br]=i,a[fi]=n,a[Lt]=2==s.type?r[Lt]:a,a}function Fu(r,s,o,l,u){let f=r.data[s];if(null===f)f=function vp(r,s,o,l,u){const f=Vo(),m=In(),t=r.data[s]=function mt(r,s,o,l,u,f){let m=s?s.injectorIndex:-1,e=0;return function no(){return null!==qe.skipHydrationRootTNode}()&&(e|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:e,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,s,l,u);return null===r.firstChild&&(r.firstChild=t),null!==f&&(m?null==f.child&&null!==t.parent&&(f.child=t):null===f.next&&(f.next=t,t.prev=f)),t}(r,s,o,l,u),function eu(){return qe.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=l,f.attrs=u;const m=function qt(){const r=qe.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Vr(f,!0),f}function ed(r,s,o,l){if(0===o)return-1;const u=s.length;for(let f=0;f<o;f++)s.push(l),r.blueprint.push(l),r.data.push(null);return u}function Df(r,s,o,l,u){const f=o_(s,Aa),m=ar(),e=2&l;try{if(Li(-1),e&&s.length>ot&&a_(r,s,ot,!1),Tr(e?2:0,u),e)f.runInContext(o,l,u);else{const n=Jt(null);try{o(l,u)}finally{Jt(n)}}}finally{e&&null===s[Aa]&&eE(s,Aa),Li(m),Tr(e?3:1,u)}}function yp(r,s,o){if(Ra(s)){const l=Jt(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const e=r.data[m];e.contentQueries&&e.contentQueries(1,o[m],m)}}finally{Jt(l)}}}function Ep(r,s,o){fs()&&(function oE(r,s,o,l){const u=o.directiveStart,f=o.directiveEnd;os(o)&&function lE(r,s,o){const l=zn(s,r),u=Tt(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const e=nd(r,_p(r,u,null,m,l,s,null,r[zs].rendererFactory.createRenderer(l,o),null,null,null));r[s.index]=e}(s,o,r.data[u+o.componentOffset]),r.firstCreatePass||Go(o,s),Vn(l,s);const m=o.initialInputs;for(let e=u;e<f;e++){const t=r.data[e],n=vi(s,r,e,o);Vn(n,s),null!==m&&Os(0,e-u,n,t,0,m),sr(t)&&(Xt(o.index,s)[Gt]=vi(s,r,e,o))}}(r,s,o,zn(o,s)),64==(64&o.flags)&&aE(r,s,o))}function St(r,s,o=zn){const l=s.localNames;if(null!==l){let u=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],e=-1===m?o(s,r):r[m];r[u++]=e}}}function Tt(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=ht(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function ht(r,s,o,l,u,f,m,e,t,n,i){const a=ot+l,c=a+u,h=function gl(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:lt);return o}(a,c),v="function"==typeof n?n():n;return h[Oe]={type:r,blueprint:h,template:o,queries:null,viewQuery:e,declTNode:s,data:h.slice().fill(null,a),bindingStartIndex:a,expandoStartIndex:c,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:t,consts:v,incompleteFirstPass:!1,ssrId:i}}let rE=r=>null;function Nr(r,s,o,l){for(let u in r)if(r.hasOwnProperty(u)){o=null===o?{}:o;const f=r[u];null===l?sE(o,s,u,f):l.hasOwnProperty(u)&&sE(o,s,l[u],f)}return o}function sE(r,s,o,l){r.hasOwnProperty(o)?r[o].push(s,l):r[o]=[s,l]}function ca(r,s,o,l){if(fs()){const u=null===l?null:{"":-1},f=function gw(r,s){const o=r.directiveRegistry;let l=null,u=null;if(o)for(let f=0;f<o.length;f++){const m=o[f];if(Ol(s,m.selectors,!1))if(l||(l=[]),sr(m))if(null!==m.findHostDirectiveDefs){const e=[];u=u||new Map,m.findHostDirectiveDefs(m,e,u),l.unshift(...e,m),Ip(r,s,e.length)}else l.unshift(m),Ip(r,s,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,l,u),l.push(m)}return null===l?null:[l,u]}(r,o);let m,e;null===f?m=e=null:[m,e]=f,null!==m&&Cp(r,s,o,m,u,e),u&&function Lu(r,s,o){if(s){const l=r.localNames=[];for(let u=0;u<s.length;u+=2){const f=o[s[u+1]];if(null==f)throw new q(-301,!1);l.push(s[u],f)}}}(o,l,u)}o.mergedAttrs=es(o.mergedAttrs,o.attrs)}function Cp(r,s,o,l,u,f){for(let n=0;n<l.length;n++)Ar(Go(o,s),r,l[n].type);!function wp(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,l.length);for(let n=0;n<l.length;n++){const i=l[n];i.providersResolver&&i.providersResolver(i)}let m=!1,e=!1,t=ed(r,s,l.length,null);for(let n=0;n<l.length;n++){const i=l[n];o.mergedAttrs=es(o.mergedAttrs,i.hostAttrs),Dp(r,o,s,t,i),_t(t,i,u),null!==i.contentQueries&&(o.flags|=4),(null!==i.hostBindings||null!==i.hostAttrs||0!==i.hostVars)&&(o.flags|=64);const a=i.type.prototype;!m&&(a.ngOnChanges||a.ngOnInit||a.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),m=!0),!e&&(a.ngOnChanges||a.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),e=!0),t++}!function c_(r,s,o){const u=s.directiveEnd,f=r.data,m=s.attrs,e=[];let t=null,n=null;for(let i=s.directiveStart;i<u;i++){const a=f[i],c=o?o.get(a):null,v=c?c.outputs:null;t=Nr(a.inputs,i,t,c?c.inputs:null),n=Nr(a.outputs,i,n,v);const I=null===t||null===m||Ao(s)?null:ri(t,i,m);e.push(I)}null!==t&&(t.hasOwnProperty("class")&&(s.flags|=8),t.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=e,s.inputs=t,s.outputs=n}(r,o,f)}function aE(r,s,o){const l=o.directiveStart,u=o.directiveEnd,f=o.index,m=function yc(){return qe.lFrame.currentDirectiveIndex}();try{Li(f);for(let e=l;e<u;e++){const t=r.data[e],n=s[e];$d(e),(null!==t.hostBindings||0!==t.hostVars||null!==t.hostAttrs)&&pw(t,n)}}finally{Li(-1),$d(m)}}function pw(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Ip(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function _t(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;sr(s)&&(o[""]=r)}}function Dp(r,s,o,l,u){r.data[l]=u;const f=u.factory||(u.factory=as(u.type)),m=new Qe(f,sr(u),ku);r.blueprint[l]=m,o[l]=m,function Tf(r,s,o,l,u){const f=u.hostBindings;if(f){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const e=~s.index;(function hw(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=e&&m.push(e),m.push(o,l,f)}}(r,s,l,ed(r,o,u.hostVars,lt),u)}function Jn(r,s,o,l,u,f){const m=zn(r,s);!function td(r,s,o,l,u,f,m){if(null==f)r.removeAttribute(s,u,o);else{const e=null==m?Z(f):m(f,l||"",u);r.setAttribute(s,u,e,o)}}(s[Ye],m,f,r.value,o,l,u)}function Os(r,s,o,l,u,f){const m=f[s];if(null!==m)for(let e=0;e<m.length;)uE(l,o,m[e++],m[e++],m[e++])}function uE(r,s,o,l,u){const f=Jt(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(u=m[l].call(s,u)),null!==r.setInput?r.setInput(s,u,o,l):s[l]=u}finally{Jt(f)}}function ri(r,s,o){let l=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===l&&(l=[]);const m=r[f];for(let e=0;e<m.length;e+=2)if(m[e]===s){l.push(f,m[e+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function cE(r,s,o,l){return[r,!0,!1,s,null,0,l,o,null,null,null]}function bp(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const f=o[l+1];if(-1!==f){const m=r.data[f];ru(o[l]),m.contentQueries(2,s[f],f)}}}function nd(r,s){return r[Nn]?r[Ad][Hn]=s:r[Nn]=s,r[Ad]=s,s}function d_(r,s,o){ru(0);const l=Jt(null);try{s(r,o)}finally{Jt(l)}}function f_(r){return r[No]||(r[No]=[])}function h_(r){return r.cleanup||(r.cleanup=[])}function p_(r,s){const o=r[ci],l=o?o.get(Xc,null):null;l&&l.handleError(s)}function Tp(r,s,o,l,u){for(let f=0;f<o.length;){const m=o[f++],e=o[f++];uE(r.data[m],s[m],l,e,u)}}function _w(r,s){const o=Xt(s,r),l=o[Oe];!function vw(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(l,o);const u=o[Wt];null!==u&&null===o[br]&&(o[br]=op(u,o[ci])),jt(l,o,o[Gt])}function jt(r,s,o){Cc(s);try{const l=r.viewQuery;null!==l&&d_(1,l,o);const u=r.template;null!==u&&Df(r,s,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&bp(r,s),r.staticViewQueries&&d_(2,r.viewQuery,o);const f=r.components;null!==f&&function yw(r,s){for(let o=0;o<s.length;o++)_w(r,s[o])}(s,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[Ze]&=-5,Ga()}}let dE=(()=>{var r;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,u,f){const m=typeof Zone>"u"?null:Zone.current,e=new dc(l,i=>{this.all.has(i)&&this.queue.set(i,m)},f);let t;this.all.add(e),e.notify();const n=()=>{e.cleanup(),t?.(),this.all.delete(e),this.queue.delete(e)};return t=u?.onDestroy(n),{destroy:n}}flush(){if(0!==this.queue.size)for(const[l,u]of this.queue)this.queue.delete(l),u?u.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(r=s).\u0275prov=it({token:r,providedIn:"root",factory:()=>new r}),s})();function rd(r,s,o){let l=o?r.styles:null,u=o?r.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const e=s[m];"number"==typeof e?f=e:1==f?u=we(u,e):2==f&&(l=we(l,e+": "+s[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function Co(r,s,o,l,u=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(Rt(f)),$n(f)){for(let e=On;e<f.length;e++){const t=f[e],n=t[Oe].firstChild;null!==n&&Co(t[Oe],t,n,l)}f[yn]!==f[Wt]&&l.push(f[yn])}const m=o.type;if(8&m)Co(r,s,o.child,l);else if(32&m){const e=Su(o,s);let t;for(;t=e();)l.push(t)}else if(16&m){const e=Mu(s,o);if(Array.isArray(e))l.push(...e);else{const t=Au(s[Lt]);Co(t[Oe],t,e,l,!0)}}o=u?o.projectionNext:o.next}return l}function Ki(r,s,o,l=!0){const u=s[zs],f=u.rendererFactory,m=u.afterRenderEventManager;f.begin?.(),m?.begin();try{fE(r,s,r.template,o)}catch(t){throw l&&p_(s,t),t}finally{f.end?.(),u.effectManager?.flush(),m?.end()}}function fE(r,s,o,l){const u=s[Ze];if(256!=(256&u)){s[zs].effectManager?.flush(),Cc(s);try{Kl(s),function ro(r){return qe.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Df(r,s,o,2,l);const m=3==(3&u);if(m){const n=r.preOrderCheckHooks;null!==n&&ms(s,n,null)}else{const n=r.preOrderHooks;null!==n&&Ui(s,n,0,null),Bo(s,0)}if(function Ew(r){for(let s=Wh(r);null!==s;s=mm(s)){if(!s[Ma])continue;const o=s[En];for(let l=0;l<o.length;l++){Ud(o[l])}}}(s),id(s,2),null!==r.contentQueries&&bp(r,s),m){const n=r.contentCheckHooks;null!==n&&ms(s,n)}else{const n=r.contentHooks;null!==n&&Ui(s,n,1),Bo(s,1)}!function nE(r,s){const o=r.hostBindingOpCodes;if(null===o)return;const l=o_(s,is);try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)Li(~f);else{const m=f,e=o[++u],t=o[++u];nu(e,m),l.runInContext(t,2,s[m])}}}finally{null===s[is]&&eE(s,is),Li(-1)}}(r,s);const e=r.components;null!==e&&hE(s,e,0);const t=r.viewQuery;if(null!==t&&d_(2,t,l),m){const n=r.viewCheckHooks;null!==n&&ms(s,n)}else{const n=r.viewHooks;null!==n&&Ui(s,n,2),Bo(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Ze]&=-73,mc(s)}finally{Ga()}}}function id(r,s){for(let o=Wh(r);null!==o;o=mm(o))for(let l=On;l<o.length;l++)Mp(o[l],s)}function dn(r,s,o){Mp(Xt(s,r),o)}function Mp(r,s){if(!function gc(r){return 128==(128&r[Ze])}(r))return;const o=r[Oe];if(80&r[Ze]&&0===s||1024&r[Ze]||2===s)fE(o,r,o.template,r[Gt]);else if(r[ns]>0){id(r,1);const u=r[Oe].components;null!==u&&hE(r,u,1)}}function hE(r,s,o){for(let l=0;l<s.length;l++)dn(r,s[l],o)}class Uu{get rootNodes(){const s=this._lView,o=s[Oe];return Co(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(s){this._lView[Gt]=s}get destroyed(){return 256==(256&this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ft];if($n(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Bt(s,l),Se(o,l))}this._attachedToViewContainer=!1}Rr(this._lView[Oe],this._lView)}onDestroy(s){!function to(r,s){if(256==(256&r[Ze]))throw new q(911,!1);null===r[Oi]&&(r[Oi]=[]),r[Oi].push(s)}(this._lView,s)}markForCheck(){Jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){this._lView[Ze]|=128}detectChanges(){Ki(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H(r,s){cf(r,s,s[Ye],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=s}}class pE extends Uu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Ki(s[Oe],s,s[Gt],!1)}checkNoChanges(){}get context(){return null}}class Bu extends lp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=gt(s);return new ju(o,this.ngModule)}}function sd(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class Cw{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Kt(l);const u=this.injector.get(s,zm,l);return u!==zm||o===zm?u:this.parentInjector.get(s,o,l)}}class ju extends Gc{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=sd(s.inputs);if(null!==o)for(const u of l)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return l}get outputs(){return sd(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function nc(r){return r.map(tc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,u){let f=(u=u||this.ngModule)instanceof mo?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Cw(s,f):s,e=m.get(Hy,null);if(null===e)throw new q(407,!1);const a={rendererFactory:e,sanitizer:m.get(tw,null),effectManager:m.get(dE,null),afterRenderEventManager:m.get(fp,null)},c=e.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",v=l?function zt(r,s,o,l){const f=l.get(r_,!1)||o===_e.ShadowDom,m=r.selectRootElement(s,f);return function u_(r){rE(r)}(m),m}(c,l,this.componentDef.encapsulation,m):D(c,h,function Sf(r){const s=r.toLowerCase();return"svg"===s?Vd:"math"===s?"math":null}(h)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==v&&(S=op(v,m,!0));const U=ht(0,null,null,1,0,null,null,null,null,null,null),G=_p(null,U,null,M,null,null,a,c,m,null,S);let pe,Ue;Cc(G);try{const at=this.componentDef;let Dt,Ot=null;at.findHostDirectiveDefs?(Dt=[],Ot=new Map,at.findHostDirectiveDefs(at,Dt,Ot),Dt.push(at)):Dt=[at];const Un=function Iw(r,s){const o=r[Oe],l=ot;return r[l]=s,Fu(o,l,2,"#host",null)}(G,v),Ht=function Rp(r,s,o,l,u,f,m){const e=u[Oe];!function ww(r,s,o,l){for(const u of r)s.mergedAttrs=es(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(rd(s,s.mergedAttrs,!0),null!==o&&df(l,o,s))}(l,r,s,m);let t=null;null!==s&&(t=op(s,u[ci]));const n=f.rendererFactory.createRenderer(s,o);let i=16;o.signals?i=4096:o.onPush&&(i=64);const a=_p(u,Tt(o),null,i,u[r.index],r,f,n,null,null,t);return e.firstCreatePass&&Ip(e,r,l.length-1),nd(u,a),u[r.index]=a}(Un,v,at,Dt,G,a,c);Ue=pc(U,ot),v&&function bw(r,s,o,l){if(l)$s(r,o,["ng-version",Wy.full]);else{const{attrs:u,classes:f}=function wr(r){const s=[],o=[];let l=1,u=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===u?""!==f&&s.push(f,r[++l]):8===u&&o.push(f);else{if(!ir(u))break;u=f}l++}return{attrs:s,classes:o}}(s.selectors[0]);u&&$s(r,o,u),f&&f.length>0&&wy(r,o,f.join(" "))}}(c,at,v,l),void 0!==o&&function g_(r,s,o){const l=r.projection=[];for(let u=0;u<s.length;u++){const f=o[u];l.push(null!=f?Array.from(f):null)}}(Ue,this.ngContentSelectors,o),pe=function Dw(r,s,o,l,u,f){const m=cn(),e=u[Oe],t=zn(m,u);Cp(e,u,m,o,null,l);for(let i=0;i<o.length;i++)Vn(vi(u,e,m.directiveStart+i,m),u);aE(e,u,m),t&&Vn(t,u);const n=vi(u,e,m.directiveStart+m.componentOffset,m);if(r[Gt]=u[Gt]=n,null!==f)for(const i of f)i(n,s);return yp(e,m,r),n}(Ht,at,Dt,Ot,G,[Tw]),jt(U,G,null)}finally{Ga()}return new Af(this.componentType,pe,zc(Ue,G),G,Ue)}}class Af extends JI{constructor(s,o,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new pE(u),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const f=this._rootLView;Tp(f[Oe],f,u,s,o),this.previousInputValues.set(s,o),Jc(Xt(this._tNode.index,f))}}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Tw(){const r=cn();Fn(se()[Oe],r)}function m_(r){let s=function Pp(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let u;if(sr(r))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new q(903,!1);u=s.\u0275dir}if(u){if(o){l.push(u);const m=r;m.inputs=Mf(r.inputs),m.inputTransforms=Mf(r.inputTransforms),m.declaredInputs=Mf(r.declaredInputs),m.outputs=Mf(r.outputs);const e=u.hostBindings;e&&Sw(r,e);const t=u.viewQuery,n=u.contentQueries;if(t&&gE(r,t),n&&Op(r,n),V(r.inputs,u.inputs),V(r.declaredInputs,u.declaredInputs),V(r.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),V(m.inputTransforms,u.inputTransforms)),sr(u)&&u.data.animation){const i=r.data;i.animation=(i.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let m=0;m<f.length;m++){const e=f[m];e&&e.ngInherit&&e(r),e===m_&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Np(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=s+=u.hostVars,u.hostAttrs=es(u.hostAttrs,o=es(o,u.hostAttrs))}}(l)}function Mf(r){return r===ke?{}:r===Re?[]:r}function gE(r,s){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function Op(r,s){const o=r.contentQueries;r.contentQueries=o?(l,u,f)=>{s(l,u,f),o(l,u,f)}:s}function Sw(r,s){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}function EE(r){const s=r.inputConfig,o={};for(const l in s)if(s.hasOwnProperty(l)){const u=s[l];Array.isArray(u)&&u[2]&&(o[l]=u[2])}r.inputTransforms=o}function ad(r){return!!ld(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ld(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Or(r,s,o){return r[s]=o}function fn(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function C_(r,s,o,l){const u=se();return fn(u,pi(),s)&&(Ct(),Jn(Yt(),u,r,s,o,l)),C_}function Gp(r,s,o,l,u,f,m,e){const t=se(),n=Ct(),i=r+ot,a=n.firstCreatePass?function Wp(r,s,o,l,u,f,m,e,t){const n=s.consts,i=Fu(s,r,4,m||null,Fi(n,e));ca(s,o,i,Fi(n,t)),Fn(s,i);const a=i.tView=ht(2,i,l,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,n,null);return null!==s.queries&&(s.queries.template(s,i),a.queries=s.queries.embeddedTView(i)),i}(i,n,t,s,o,l,u,f,m):n.data[i];Vr(a,!1);const c=P_(n,t,a,r);Vi()&&uf(n,t,c,a),Vn(c,t),nd(t,t[i]=cE(c,t,c,a)),pr(a)&&Ep(n,t,a),null!=m&&St(t,a,e)}let P_=function AE(r,s,o,l){return Nt(!0),s[Ye].createComment("")};function O_(r,s,o){const l=se();return fn(l,pi(),s)&&function Ii(r,s,o,l,u,f,m,e){const t=zn(s,o);let i,n=s.inputs;!e&&null!=n&&(i=n[l])?(Tp(r,o,i,l,u),os(s)&&function cw(r,s){const o=Xt(s,r);16&o[Ze]||(o[Ze]|=64)}(o,s.index)):3&s.type&&(l=function Zi(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,s.value||"",l):u,f.setProperty(t,l,u))}(Ct(),Yt(),l,r,s,l[Ye],o,!1),O_}function x_(r,s,o,l,u){const m=u?"class":"style";Tp(r,o,s.inputs[m],m,l)}function zp(r,s,o,l){const u=se(),f=Ct(),m=ot+r,e=u[Ye],t=f.firstCreatePass?function Vw(r,s,o,l,u,f){const m=s.consts,t=Fu(s,r,2,l,Fi(m,u));return ca(s,o,t,Fi(m,f)),null!==t.attrs&&rd(t,t.attrs,!1),null!==t.mergedAttrs&&rd(t,t.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,t),t}(m,f,u,s,o,l):f.data[m],n=RE(f,u,t,e,s,r);u[m]=n;const i=pr(t);return Vr(t,!0),df(e,n,t),32!=(32&t.flags)&&Vi()&&uf(f,u,n,t),0===function vc(){return qe.lFrame.elementDepthCount}()&&Vn(n,u),function Lo(){qe.lFrame.elementDepthCount++}(),i&&(Ep(f,u,t),yp(f,t,u)),null!==l&&St(u,t),zp}function Zp(){let r=cn();In()?function ps(){qe.lFrame.isParent=!1}():(r=r.parent,Vr(r,!1));const s=r;(function hs(r){return qe.skipHydrationRootTNode===r})(s)&&function lm(){qe.skipHydrationRootTNode=null}(),function jd(){qe.lFrame.elementDepthCount--}();const o=Ct();return o.firstCreatePass&&(Fn(o,r),Ra(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function qa(r){return 0!=(8&r.flags)}(s)&&x_(o,s,se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ut(r){return 0!=(16&r.flags)}(s)&&x_(o,s,se(),s.stylesWithoutHost,!1),Zp}function Kp(r,s,o,l){return zp(r,s,o,l),Zp(),Kp}let RE=(r,s,o,l,u,f)=>(Nt(!0),D(l,u,function lr(){return qe.lFrame.currentNamespace}()));function Yp(r){return!!r&&"function"==typeof r.then}function xE(r){return!!r&&"function"==typeof r.subscribe}function L_(r,s,o,l){const u=se(),f=Ct(),m=cn();return function U_(r,s,o,l,u,f,m){const e=pr(l),n=r.firstCreatePass&&h_(r),i=s[Gt],a=f_(s);let c=!0;if(3&l.type||m){const I=zn(l,s),w=m?m(I):I,M=a.length,S=m?G=>m(Rt(G[l.index])):l.index;let U=null;if(!m&&e&&(U=function yl(r,s,o,l){const u=r.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===o&&u[f+1]===l){const e=s[No],t=u[f+2];return e.length>t?e[t]:null}"string"==typeof m&&(f+=2)}return null}(r,s,u,l.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=f,U.__ngLastListenerFn__=f,c=!1;else{f=ma(l,s,i,f,!1);const G=o.listen(w,u,f);a.push(f,G),n&&n.push(u,S,M,M+1)}}else f=ma(l,s,i,f,!1);const h=l.outputs;let v;if(c&&null!==h&&(v=h[u])){const I=v.length;if(I)for(let w=0;w<I;w+=2){const pe=s[v[w]][v[w+1]].subscribe(f),Ue=a.length;a.push(f,pe),n&&n.push(u,l.index,Ue,-(Ue+1))}}}(f,u,u[Ye],m,r,s,l),L_}function B_(r,s,o,l){try{return Tr(6,s,o),!1!==o(l)}catch(u){return p_(r,u),!1}finally{Tr(7,s,o)}}function ma(r,s,o,l,u){return function f(m){if(m===Function)return l;Jc(r.componentOffset>-1?Xt(r.index,s):s);let t=B_(s,o,l,m),n=f.__ngNextListenerFn__;for(;n;)t=B_(s,o,n,m)&&t,n=n.__ngNextListenerFn__;return u&&!1===t&&m.preventDefault(),t}}function kf(r,s){return r<<17|s<<2}function El(r){return r>>17&32767}function H_(r){return 2|r}function Qi(r){return(131068&r)>>2}function ng(r,s){return-131069&r|s<<2}function rg(r){return 1|r}function sg(r,s,o,l,u){const f=r[o+1],m=null===s;let e=l?El(f):Qi(f),t=!1;for(;0!==e&&(!1===t||m);){const i=r[e+1];Ww(r[e],s)&&(t=!0,r[e+1]=l?rg(i):H_(i)),e=l?El(i):Qi(i)}t&&(r[o+1]=l?H_(f):rg(f))}function Ww(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Wi(r,s)>=0}function Ff(r,s){return function Fs(r,s,o,l){const u=se(),f=Ct(),m=function wn(r){const s=qe.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}(2);f.firstUpdatePass&&function WE(r,s,o,l){const u=r.data;if(null===u[o+1]){const f=u[ar()],m=function cg(r,s){return s>=r.expandoStartIndex}(r,o);(function GE(r,s){return 0!=(r.flags&(s?8:16))})(f,l)&&null===s&&!m&&(s=!1),s=function qw(r,s,o,l){const u=function gs(r){const s=qe.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Lf(o=fg(null,r,s,o,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==u)if(o=fg(u,r,s,o,l),null===f){let t=function Yw(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Qi(l))return r[El(l)]}(r,s,l);void 0!==t&&Array.isArray(t)&&(t=fg(null,r,s,t[1],l),t=Lf(t,s.attrs,l),function Y_(r,s,o,l){r[El(o?s.classBindings:s.styleBindings)]=l}(r,s,l,t))}else f=function dg(r,s,o){let l;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)l=Lf(l,r[f].hostAttrs,o);return Lf(l,s.attrs,o)}(r,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(u,f,s,l),function W_(r,s,o,l,u,f){let m=f?s.classBindings:s.styleBindings,e=El(m),t=Qi(m);r[l]=o;let i,n=!1;if(Array.isArray(o)?(i=o[1],(null===i||Wi(o,i)>0)&&(n=!0)):i=o,u)if(0!==t){const c=El(r[e+1]);r[l+1]=kf(c,e),0!==c&&(r[c+1]=ng(r[c+1],l)),r[e+1]=function tg(r,s){return 131071&r|s<<17}(r[e+1],l)}else r[l+1]=kf(e,0),0!==e&&(r[e+1]=ng(r[e+1],l)),e=l;else r[l+1]=kf(t,0),0===e?e=l:r[t+1]=ng(r[t+1],l),t=l;n&&(r[l+1]=H_(r[l+1])),sg(r,i,l,!0),sg(r,i,l,!1),function G_(r,s,o,l,u){const f=u?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Wi(f,s)>=0&&(o[l+1]=rg(o[l+1]))}(s,i,r,l,f),m=kf(e,t),f?s.classBindings=m:s.styleBindings=m}(u,f,s,o,m,l)}}(f,r,m,l),s!==lt&&fn(u,m,s)&&function Q_(r,s,o,l,u,f,m,e){if(!(3&s.type))return;const t=r.data,n=t[e+1],i=function BE(r){return 1==(1&r)}(n)?hg(t,s,o,u,Qi(n),m):void 0;Il(i)||(Il(f)||function j_(r){return 2==(2&r)}(n)&&(f=hg(t,null,o,u,e,m)),function TI(r,s,o,l,u){if(s)u?r.addClass(o,l):r.removeClass(o,l);else{let f=-1===l.indexOf("-")?void 0:tf.DashCase;null==u?r.removeStyle(o,l,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=tf.Important),r.setStyle(o,l,u,f))}}(l,m,Ha(ar(),o),u,f))}(f,f.data[ar()],u,u[Ye],r,u[m+1]=function Bf(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=$(ia(r)))),r}(s,o),l,m)}(r,s,null,!0),Ff}function fg(r,s,o,l,u){let f=null;const m=o.directiveEnd;let e=o.directiveStylingLast;for(-1===e?e=o.directiveStart:e++;e<m&&(f=s[e],l=Lf(l,f.hostAttrs,u),f!==r);)e++;return null!==r&&(o.directiveStylingLast=e),l}function Lf(r,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),It(r,m,!!o||s[++f]))}return void 0===r?null:r}function hg(r,s,o,l,u,f){const m=null===s;let e;for(;u>0;){const t=r[u],n=Array.isArray(t),i=n?t[1]:t,a=null===i;let c=o[u+1];c===lt&&(c=a?Re:void 0);let h=a?Br(c,l):i===l?c:void 0;if(n&&!Il(h)&&(h=Br(t,l)),Il(h)&&(e=h,m))return e;const v=r[u+1];u=m?El(v):Qi(v)}if(null!==s){let t=f?s.residualClasses:s.residualStyles;null!=t&&(e=Br(t,l))}return e}function Il(r){return void 0!==r}function wi(r,s=""){const o=se(),l=Ct(),u=r+ot,f=l.firstCreatePass?Fu(l,u,1,s,null):l.data[u],m=J_(l,o,f,s,r);o[u]=m,Vi()&&uf(l,o,m,f),Vr(f,!1)}let J_=(r,s,o,l,u)=>(Nt(!0),function d(r,s){return r.createText(s)}(s[Ye],l));function gg(r){return kr("",r,""),gg}function kr(r,s,o){const l=se(),u=function ha(r,s,o,l){return fn(r,pi(),o)?s+Z(o)+l:lt}(l,r,s,o);return u!==lt&&function da(r,s,o){const l=Ha(s,r);!function p(r,s,o){r.setValue(s,o)}(r[Ye],l,o)}(l,ar(),u),kr}const ya=void 0;var lD=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lv(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let vd={};function uv(r){const s=function sC(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=cv(s);if(o)return o;const l=s.split("-")[0];if(o=cv(l),o)return o;if("en"===l)return lD;throw new q(701,!1)}function iC(r){return uv(r)[wl.PluralCase]}function cv(r){return r in vd||(vd[r]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[r]),vd[r]}var wl=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(wl||{});const Di="en-US";let Dl=Di;function _v(r,s,o,l,u){if(r=ve(r),Array.isArray(r))for(let f=0;f<r.length;f++)_v(r[f],s,o,l,u);else{const f=Ct(),m=se(),e=cn();let t=Nu(r)?r:ve(r.provide);const n=qI(r),i=1048575&e.providerIndexes,a=e.directiveStart,c=e.providerIndexes>>20;if(Nu(r)||!r.multi){const h=new Qe(n,u,ku),v=Yf(t,s,u?i:i+c,a);-1===v?(Ar(Go(e,m),f,t),wg(f,r,s.length),s.push(t),e.directiveStart++,e.directiveEnd++,u&&(e.providerIndexes+=1048576),o.push(h),m.push(h)):(o[v]=h,m[v]=h)}else{const h=Yf(t,s,i+c,a),v=Yf(t,s,i,i+c),w=v>=0&&o[v];if(u&&!w||!u&&!(h>=0&&o[h])){Ar(Go(e,m),f,t);const M=function UT(r,s,o,l,u){const f=new Qe(r,o,ku);return f.multi=[],f.index=s,f.componentProviders=0,vv(f,u,l&&!o),f}(u?Dg:RC,o.length,u,l,n);!u&&w&&(o[v].providerFactory=M),wg(f,r,s.length,0),s.push(t),e.directiveStart++,e.directiveEnd++,u&&(e.providerIndexes+=1048576),o.push(M),m.push(M)}else wg(f,r,h>-1?h:v,vv(o[u?v:h],n,!u&&l));!u&&l&&w&&o[v].componentProviders++}}}function wg(r,s,o,l){const u=Nu(s),f=function ZI(r){return!!r.useClass}(s);if(u||f){const t=(f?ve(s.useClass):s).prototype.ngOnDestroy;if(t){const n=r.destroyHooks||(r.destroyHooks=[]);if(!u&&s.multi){const i=n.indexOf(o);-1===i?n.push(o,[l,t]):n[i+1].push(l,t)}else n.push(o,t)}}}function vv(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function Yf(r,s,o,l){for(let u=o;u<l;u++)if(s[u]===r)return u;return-1}function RC(r,s,o,l){return yv(this.multi,[])}function Dg(r,s,o,l){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,e=vi(o,o[Oe],this.providerFactory.index,l);f=e.slice(0,m),yv(u,f);for(let t=m;t<e.length;t++)f.push(e[t])}else f=[],yv(u,f);return f}function yv(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function PC(r,s=[]){return o=>{o.providersResolver=(l,u)=>function HD(r,s,o){const l=Ct();if(l.firstCreatePass){const u=sr(r);_v(o,l.data,l.blueprint,u,!0),_v(s,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,s)}}class Ea{}class $D{}function BT(r,s){return new Ev(r,s??null,[])}class Ev extends Ea{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bu(this);const u=jn(s);this._bootstrapComponents=Eo(u.bootstrap),this._r3Injector=cp(s,o,[{provide:Ea,useValue:this},{provide:lp,useValue:this.componentFactoryResolver},...l],$(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class NC extends $D{constructor(s){super(),this.moduleType=s}create(s){return new Ev(this.moduleType,s,[])}}class WD extends Ea{constructor(s){super(),this.componentFactoryResolver=new Bu(this),this.instance=null;const o=new _f([...s.providers,{provide:Ea,useValue:this},{provide:lp,useValue:this.componentFactoryResolver}],s.parent||np(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function GD(r,s,o=null){return new WD({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let $T=(()=>{var r;class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const u=GI(0,l.type),f=u.length>0?GD([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,f)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(r=s).\u0275prov=it({token:r,providedIn:"environment",factory:()=>new r(Ke(mo))}),s})();function zD(r){r.getStandaloneInjector=s=>s.get($T).getOrCreateStandaloneInjector(r)}function Ag(r,s,o,l,u){return function Ed(r,s,o,l,u,f,m){const e=s+o;return function Hu(r,s,o,l){const u=fn(r,s,o);return fn(r,s+1,l)||u}(r,e,u,f)?Or(r,e+2,m?l.call(m,u,f):l(u,f)):Qf(r,e+2)}(se(),or(),r,s,o,l,u)}function Qf(r,s){const o=r[s];return o===lt?void 0:o}function BC(r,s){const o=Ct();let l;const u=r+ot;o.firstCreatePass?(l=function eb(r,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(r===l.name)return l}}(s,o.pipeRegistry),o.data[u]=l,l.onDestroy&&(o.destroyHooks??=[]).push(u,l.onDestroy)):l=o.data[u];const f=l.factory||(l.factory=as(l.type)),e=At(ku);try{const t=oo(!1),n=f();return oo(t),function Fw(r,s,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=l}(o,se(),u,n),n}finally{At(e)}}function Sv(r,s,o){const l=r+ot,u=se(),f=function Sr(r,s){return r[s]}(u,l);return function Ca(r,s){return r[Oe].data[s].pure}(u,l)?function UC(r,s,o,l,u,f){const m=s+o;return fn(r,m,u)?Or(r,m+1,f?l.call(f,u):l(u)):Qf(r,m+1)}(u,or(),s,f.transform,o,f):f.transform(o)}function Xf(r){return s=>{setTimeout(r,void 0,s)}}const Ji=class tb extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let u=s,f=o||(()=>null),m=l;if(s&&"object"==typeof s){const t=s;u=t.next?.bind(t),f=t.error?.bind(t),m=t.complete?.bind(t)}this.__isAsync&&(f=Xf(f),u&&(u=Xf(u)),m&&(m=Xf(m)));const e=super.subscribe({next:u,error:f,complete:m});return s instanceof W.w0&&s.add(e),e}};function nb(){return this._results[Symbol.iterator]()}class eh{get changes(){return this._changes||(this._changes=new Ji)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=eh.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nb)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=function k(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function A(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],f=s[l];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Pv(r,s,o,l=!0){const u=s[Oe];if(function be(r,s,o,l){const u=On+l,f=o.length;l>0&&(o[u-1][Hn]=s),l<f-On?(s[Hn]=o[u],X(o,On+l,s)):(o.push(s),s[Hn]=null),s[Ft]=o;const m=s[Ll];null!==m&&o!==m&&function Fe(r,s){const o=r[En];s[Lt]!==s[Ft][Ft][Lt]&&(r[Ma]=!0),null===o?r[En]=[s]:o.push(s)}(m,s);const e=s[vn];null!==e&&e.insertView(r),s[Ze]|=128}(u,s,r,o),l){const f=ym(o,r),m=s[Ye],e=Fc(m,r[yn]);null!==e&&function L(r,s,o,l,u,f){l[Wt]=u,l[Pn]=s,cf(r,l,o,1,u,f)}(u,r[Pn],m,s,e,f)}}let th=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nv,s})();const rb=th,Pg=class extends rb{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const u=function Rv(r,s,o,l){const u=s.tView,e=_p(r,u,o,4096&r[Ze]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);e[Ll]=r[s.index];const n=r[vn];return null!==n&&(e[vn]=n.createEmbeddedView(u)),jt(u,e,o),e}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:l});return new Uu(u)}};function Nv(){return nh(cn(),se())}function nh(r,s){return 4&r.type?new Pg(s,r,zc(r,s)):null}let xg=(()=>{class s{}return s.__NG_ELEMENT_ID__=ob,s})();function ob(){return qC(cn(),se())}const ab=xg,ZC=class extends ab{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const s=ys(this._hostTNode,this._hostLView);if(lu(s)){const o=Qr(s,this._hostLView),l=ji(s);return new en(o[Oe].data[l+8],o)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=KC(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-On}createEmbeddedView(s,o,l){let u,f;"number"==typeof l?u=l:null!=l&&(u=l.index,f=l.injector);const e=s.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(e,u,false),e}createComponent(s,o,l,u,f){const m=s&&!function b(r){return"function"==typeof r}(s);let e;if(m)e=o;else{const I=o||{};e=I.index,l=I.injector,u=I.projectableNodes,f=I.environmentInjector||I.ngModuleRef}const t=m?s:new ju(gt(s)),n=l||this.parentInjector;if(!f&&null==t.ngModule){const w=(m?n:this.parentInjector).get(mo,null);w&&(f=w)}gt(t.componentType??{});const h=t.create(n,u,null,f);return this.insertImpl(h.hostView,e,false),h}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const u=s._lView;if(function Zl(r){return $n(r[Ft])}(u)){const t=this.indexOf(s);if(-1!==t)this.detach(t);else{const n=u[Ft],i=new ZC(n,n[Pn],n[Ft]);i.detach(i.indexOf(s))}}const m=this._adjustIndex(o),e=this._lContainer;return Pv(e,u,m,!l),s.attachToViewContainerRef(),X(xv(e),m,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=KC(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Bt(this._lContainer,o);l&&(Se(xv(this._lContainer),o),Rr(l[Oe],l))}detach(s){const o=this._adjustIndex(s,-1),l=Bt(this._lContainer,o);return l&&null!=Se(xv(this._lContainer),o)?new Uu(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function KC(r){return r[8]}function xv(r){return r[8]||(r[8]=[])}function qC(r,s){let o;const l=s[r.index];return $n(l)?o=l:(o=cE(l,s,null,r),s[r.index]=o,nd(s,o)),kv(o,s,r,l),new ZC(o,r,s)}let kv=function Fv(r,s,o,l){if(r[yn])return;let u;u=8&o.type?Rt(l):function kg(r,s){const o=r[Ye],l=o.createComment(""),u=zn(s,r);return Ms(o,Fc(o,u),l,function lf(r,s){return r.nextSibling(s)}(o,u),!1),l}(s,o),r[yn]=u};class Vv{constructor(s){this.queryList=s,this.matches=null}clone(){return new Vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let f=0;f<l;f++){const m=o.getByIndex(f);u.push(this.queries[m.indexInDeclarationView].clone())}return new Uv(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Ug(s,o).matches&&this.queries[o].setDirty()}}class Bv{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Fg{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,u);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new Fg(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lg{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Lg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(s,o,YC(o,f)),this.matchTNodeWithReadOption(s,o,Ja(o,s,f,!1,!1))}else l===th?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ja(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===If||u===xg||u===th&&4&o.type)this.addMatch(o.index,-2);else{const f=Ja(o,s,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function YC(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function qT(r,s,o,l){return-1===o?function QC(r,s){return 11&r.type?zc(r,s):4&r.type?nh(r,s):null}(s,r):-2===o?function ub(r,s,o){return o===If?zc(s,r):o===th?nh(s,r):o===xg?qC(s,r):void 0}(r,s,l):vi(r,r[Oe],o,s)}function cb(r,s,o,l){const u=s[vn].queries[l];if(null===u.matches){const f=r.data,m=o.matches,e=[];for(let t=0;t<m.length;t+=2){const n=m[t];e.push(n<0?null:qT(s,f[n],m[t+1],o.metadata.read))}u.matches=e}return u.matches}function JC(r,s,o,l){const u=r.queries.getByIndex(o),f=u.matches;if(null!==f){const m=cb(r,s,u,o);for(let e=0;e<f.length;e+=2){const t=f[e];if(t>0)l.push(m[e/2]);else{const n=f[e+1],i=s[-t];for(let a=On;a<i.length;a++){const c=i[a];c[Ll]===c[Ft]&&JC(c[Oe],c,n,l)}if(null!==i[En]){const a=i[En];for(let c=0;c<a.length;c++){const h=a[c];JC(h[Oe],h,n,l)}}}}}return l}function Vg(r){const s=se(),o=Ct(),l=Ec();ru(l+1);const u=Ug(o,l);if(r.dirty&&function eo(r){return 4==(4&r[Ze])}(s)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const f=u.crossesNgTemplate?JC(o,s,l,[]):cb(o,s,u,l);r.reset(f,ew),r.notifyOnChanges()}return!0}return!1}function db(r,s,o,l){const u=Ct();if(u.firstCreatePass){const f=cn();(function jv(r,s,o){null===r.queries&&(r.queries=new Fg),r.queries.track(new Lg(s,o))})(u,new Bv(s,o,l),f.index),function Hv(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function t0(r,s,o){const l=new eh(4==(4&o));(function ln(r,s,o,l){const u=f_(s);u.push(o),r.firstCreatePass&&h_(r).push(l,u.length-1)})(r,s,l,l.destroy),null===s[vn]&&(s[vn]=new Uv),s[vn].queries.push(new Vv(l))}(u,se(),o)}function XC(){return function e0(r,s){return r[vn].queries[s].queryList}(se(),Ec())}function Ug(r,s){return r.queries.getByIndex(s)}function n0(r){return!!jn(r)}const w0=new Pt("Application Initializer");let Yv=(()=>{var r;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u}),this.appInits=nt(w0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const f of this.appInits){const m=f();if(Yp(m))l.push(m);else if(xE(m)){const e=new Promise((t,n)=>{m.subscribe({complete:t,error:n})});l.push(e)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{u()}).catch(f=>{this.reject(f)}),0===l.length&&u(),this.initialized=!0}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"root"}),s})(),$g=(()=>{var r;class s{log(l){console.log(l)}warn(l){console.warn(l)}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"platform"}),s})();const oh=new Pt("LocaleId",{providedIn:"root",factory:()=>nt(oh,$e.Optional|$e.SkipSelf)||function Sl(){return typeof $localize<"u"&&$localize.locale||Di}()}),Fr=new Pt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Qv=(()=>{var r;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();class D0{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let b0=(()=>{var r;class s{compileModuleSync(l){return new NC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=Eo(jn(l).declarations).reduce((e,t)=>{const n=gt(t);return n&&e.push(new ju(n)),e},[]);return new D0(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();function V0(...r){}class Xn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ji(!1),this.onMicrotaskEmpty=new Ji(!1),this.onStable=new Ji(!1),this.onError=new Ji(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function bb(){const r="function"==typeof wt.requestAnimationFrame;let s=wt[r?"requestAnimationFrame":"setTimeout"],o=wt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function hS(r){const s=()=>{!function Sb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(wt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,B0(r),r.isCheckStableRunning=!0,lh(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),B0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,f,m,e)=>{try{return Ab(r),o.invokeTask(u,f,m,e)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),Mb(r)}},onInvoke:(o,l,u,f,m,e,t)=>{try{return Ab(r),o.invoke(u,f,m,e,t)}finally{r.shouldCoalesceRunChangeDetection&&s(),Mb(r)}},onHasTask:(o,l,u,f)=>{o.hasTask(u,f),l===u&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,B0(r),lh(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,u,f)=>(o.handleError(u,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xn.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Xn.isInAngularZone())throw new q(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,s,Tb,V0,V0);try{return f.runTask(m,o,l)}finally{f.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const Tb={};function lh(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function B0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Ab(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Mb(r){r._nesting--,lh(r)}class pS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ji,this.onMicrotaskEmpty=new Ji,this.onStable=new Ji,this.onError=new Ji}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}const Rb=new Pt("",{providedIn:"root",factory:Pb});function Pb(){const r=nt(Xn);let s=!0;const o=new z.y(u=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{u.next(s),u.complete()})}),l=new z.y(u=>{let f;r.runOutsideAngular(()=>{f=r.onStable.subscribe(()=>{Xn.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,u.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Xn.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});return(0,Y.T)(o,l.pipe((0,oe.B)()))}const j0=new Pt(""),ry=new Pt("");let qu,gS=(()=>{var r;class s{constructor(l,u,f){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qu||(function mS(r){qu=r}(f),f.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,f){return[]}}return(r=s).\u0275fac=function(l){return new(l||r)(Ke(Xn),Ke(Nb),Ke(ry))},r.\u0275prov=it({token:r,factory:r.\u0275fac}),s})(),Nb=(()=>{var r;class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return qu?.findTestabilityInTree(this,l,u)??null}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"platform"}),s})(),Bs=null;const Yu=new Pt("AllowMultipleToken"),Qu=new Pt("PlatformDestroyListeners"),uh=new Pt("appBootstrapListener");class W0{constructor(s,o){this.name=s,this.token=o}}function xb(r,s,o=[]){const l=`Platform: ${s}`,u=new Pt(l);return(f=[])=>{let m=wd();if(!m||m.injector.get(Yu,!1)){const e=[...o,...f,{provide:u,useValue:!0}];r?r(e):function G0(r){if(Bs&&!Bs.get(Yu,!1))throw new q(400,!1);(function $0(){!function Wl(r){Va=r}(()=>{throw new q(600,!1)})})(),Bs=r;const s=r.get(dh);(function qg(r){r.get(jm,null)?.forEach(o=>o())})(r)}(function Fb(r=[],s){return Ns.create({name:s,providers:[{provide:ep,useValue:"platform"},{provide:Qu,useValue:new Set([()=>Bs=null])},...r]})}(e,l))}return function kb(r){const s=wd();if(!s)throw new q(401,!1);return s}()}}function wd(){return Bs?.get(dh)??null}let dh=(()=>{var r;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const f=function Yg(r="zone.js",s){return"noop"===r?new pS:"zone.js"===r?new Xn(s):r}(u?.ngZone,function Dd(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function HT(r,s,o){return new Ev(r,s,o)}(l.moduleType,this.injector,function Q0(r){return[{provide:Xn,useFactory:r},{provide:Jh,multi:!0,useFactory:()=>{const s=nt(Lb,{optional:!0});return()=>s.initialize()}},{provide:q0,useFactory:Y0},{provide:Rb,useFactory:Pb}]}(()=>f)),e=m.injector.get(Xc,null);return f.runOutsideAngular(()=>{const t=f.onError.subscribe({next:n=>{e.handleError(n)}});m.onDestroy(()=>{Ju(this._modules,m),t.unsubscribe()})}),function fh(r,s,o){try{const l=o();return Yp(l)?l.catch(u=>{throw s.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(e,f,()=>{const t=m.injector.get(Yv);return t.runInitializers(),t.donePromise.then(()=>(function fD(r){xe(r,"Expected localeId to be defined"),"string"==typeof r&&(Dl=r.toLowerCase().replace(/_/g,"-"))}(m.injector.get(oh,Di)||Di),this._moduleDoBootstrap(m),m))})})}bootstrapModule(l,u=[]){const f=Z0({},u);return function Ob(r,s,o){const l=new NC(o);return Promise.resolve(l)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const u=l.injector.get(Al);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new q(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(Qu,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(r=s).\u0275fac=function(l){return new(l||r)(Ke(Ns))},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"platform"}),s})();function Z0(r,s){return Array.isArray(s)?s.reduce(Z0,r):{...r,...s}}let Al=(()=>{var r;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(q0),this.zoneIsStable=nt(Rb),this.componentTypes=[],this.components=[],this.isStable=nt(Qv).hasPendingTasks.pipe((0,Ee.w)(l=>l?(0,ie.of)(!1):this.zoneIsStable),(0,re.x)(),(0,oe.B)()),this._injector=nt(mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const f=l instanceof Gc;if(!this._injector.get(Yv).done)throw!f&&ui(l),new q(405,!1);let e;e=f?l:this._injector.get(lp).resolveComponentFactory(l),this.componentTypes.push(e.componentType);const t=function Kg(r){return r.isBoundToModule}(e)?void 0:this._injector.get(Ea),i=e.create(Ns.NULL,[],u||e.selector,t),a=i.location.nativeElement,c=i.injector.get(j0,null);return c?.registerApplication(a),i.onDestroy(()=>{this.detachView(i.hostView),Ju(this.components,i),c?.unregisterApplication(a)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Ju(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(uh,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ju(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new q(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();function Ju(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}const q0=new Pt("",{providedIn:"root",factory:()=>nt(Xc).handleError.bind(void 0)});function Y0(){const r=nt(Xn),s=nt(Xc);return o=>r.runOutsideAngular(()=>s.handleError(o))}let Lb=(()=>{var r;class s{constructor(){this.zone=nt(Xn),this.applicationRef=nt(Al)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(r=s).\u0275fac=function(l){return new(l||r)},r.\u0275prov=it({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();function Ub(){return!1}let Bb=(()=>{class s{}return s.__NG_ELEMENT_ID__=X0,s})();function X0(r){return function iy(r,s,o){if(os(r)&&!o){const l=Xt(r.index,s);return new Uu(l,l)}return 47&r.type?new Uu(s[Lt],s):null}(cn(),se(),16==(16&r))}class oI{constructor(){}supports(s){return ad(s)}create(s){return new Wb(s)}}const aI=(r,s)=>s;class Wb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||aI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,f=null;for(;o||l;){const m=!l||o&&o.currentIndex<oy(l,u,f)?o:l,e=oy(m,u,f),t=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{f||(f=[]);const n=e-u,i=t-u;if(n!=i){for(let c=0;c<n;c++){const h=c<f.length?f[c]:f[c]=0,v=h+c;i<=v&&v<n&&(f[c]=h+1)}f[m.previousIndex]=i-n}}e!==t&&s(m,e,t)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ad(s))throw new q(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let e=0;e<this.length;e++)f=s[e],m=this._trackByFn(e,f),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,f,m,e)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,e),l=!0),o=o._next}else u=0,function E_(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,e=>{m=this._trackByFn(u,e),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,e,m,u)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,u)):s=this._addAfter(new wS(o,l),f,u),s}_verifyReinsertion(s,o,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new uI),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class uI{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new lI,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oy(r,s,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class cI{constructor(){}supports(s){return s instanceof Map||ld(s)}create(){return new dI}}class dI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ld(s)))throw new q(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const l=new fI(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class fI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hI(){return new tm([new oI])}let tm=(()=>{var r;class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const f=u.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||hI()),deps:[[s,new Ac,new hu]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(null!=u)return u;throw new q(901,!1)}}return(r=s).\u0275prov=it({token:r,providedIn:"root",factory:hI}),s})();function nm(){return new ay([new cI])}let ay=(()=>{var r;class s{constructor(l){this.factories=l}static create(l,u){if(u){const f=u.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||nm()),deps:[[s,new Ac,new hu]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(u)return u;throw new q(901,!1)}}return(r=s).\u0275prov=it({token:r,providedIn:"root",factory:nm}),s})();const Zb=xb(null,"core",[]);let gI=(()=>{var r;class s{constructor(l){}}return(r=s).\u0275fac=function(l){return new(l||r)(Ke(Al))},r.\u0275mod=Ro({type:r}),r.\u0275inj=kt({}),s})();function nT(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function NS(r){const s=gt(r);if(!s)return null;const o=new ju(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(Be,fe,R)=>{R.d(fe,{Z:()=>Pe});var g=R(229),W=R(6820),P=R(1571),z=R(4287);class Y{constructor(Ae,Ie){this._delegate=Ae,this.firebase=Ie,(0,P._addComponent)(Ae,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ae,Ie=P._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(Ae);return!je.isInitialized()&&"EXPLICIT"===(null===(We=je.getComponent())||void 0===We?void 0:We.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Ie})}_removeServiceInstance(Ae,Ie=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(Ie)}_addComponent(Ae){(0,P._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,P._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function re(){const ve=function Ee(ve){const Ae={},Ie={__esModule:!0,initializeApp:function q(Ce,Me={}){const J=P.initializeApp(Ce,Me);if((0,g.r3)(Ae,J.name))return Ae[J.name];const ze=new ve(J,Ie);return Ae[J.name]=ze,ze},app:je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Z(Ce){const Me=Ce.name,J=Me.replace("-compat","");if(P._registerComponent(Ce)&&"PUBLIC"===Ce.type){const ze=(ct=je())=>{if("function"!=typeof ct[J])throw oe.create("invalid-app-argument",{appName:Me});return ct[J]()};void 0!==Ce.serviceProps&&(0,g.ZB)(ze,Ce.serviceProps),Ie[J]=ze,ve.prototype[J]=function(...ct){return this._getService.bind(this,Me).apply(this,Ce.multipleInstances?ct:[])}}return"PUBLIC"===Ce.type?Ie[J]:null},removeApp:function We(Ce){delete Ae[Ce]},useAsService:function he(Ce,Me){return"serverAuth"===Me?null:Me},modularAPIs:P}};function je(Ce){if(!(0,g.r3)(Ae,Ce=Ce||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ce});return Ae[Ce]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function ae(){return Object.keys(Ae).map(Ce=>Ae[Ce])}}),je.App=ve,Ie}(Y);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function Ae(Ie){(0,g.ZB)(ve,Ie)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ve}(),V=new z.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=O;!function me(ve){(0,P.registerVersion)("@firebase/app-compat","0.2.13",ve)}()},1571:(Be,fe,R)=>{R.r(fe),R.d(fe,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>$t,_addOrOverwriteComponent:()=>tr,_apps:()=>tt,_clearComponents:()=>yt,_components:()=>At,_getProvider:()=>Mn,_registerComponent:()=>wt,_removeServiceInstance:()=>js,deleteApp:()=>Lr,getApp:()=>yr,getApps:()=>Pi,initializeApp:()=>Ri,onLog:()=>rr,registerVersion:()=>mn,setLogLevel:()=>nn});var g=R(5861),W=R(6820),P=R(4287),z=R(229);const Y=(te,K)=>K.some(_e=>te instanceof _e);let ie,oe;const O=new WeakMap,V=new WeakMap,$=new WeakMap,we=new WeakMap,me=new WeakMap;let Ae={get(te,K,_e){if(te instanceof IDBTransaction){if("done"===K)return V.get(te);if("objectStoreNames"===K)return te.objectStoreNames||$.get(te);if("store"===K)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return q(te[K])},set:(te,K,_e)=>(te[K]=_e,!0),has:(te,K)=>te instanceof IDBTransaction&&("done"===K||"store"===K)||K in te};function je(te){return"function"==typeof te?function We(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...K){return te.apply(ae(this),K),q(O.get(this))}:function(...K){return q(te.apply(ae(this),K))}:function(K,..._e){const ke=te.call(ae(this),K,..._e);return $.set(ke,K.sort?K.sort():[K]),q(ke)}}(te):(te instanceof IDBTransaction&&function ve(te){if(V.has(te))return;const K=new Promise((_e,ke)=>{const Re=()=>{te.removeEventListener("complete",st),te.removeEventListener("error",Et),te.removeEventListener("abort",Et)},st=()=>{_e(),Re()},Et=()=>{ke(te.error||new DOMException("AbortError","AbortError")),Re()};te.addEventListener("complete",st),te.addEventListener("error",Et),te.addEventListener("abort",Et)});V.set(te,K)}(te),Y(te,function Ee(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,Ae):te)}function q(te){if(te instanceof IDBRequest)return function Pe(te){const K=new Promise((_e,ke)=>{const Re=()=>{te.removeEventListener("success",st),te.removeEventListener("error",Et)},st=()=>{_e(q(te.result)),Re()},Et=()=>{ke(te.error),Re()};te.addEventListener("success",st),te.addEventListener("error",Et)});return K.then(_e=>{_e instanceof IDBCursor&&O.set(_e,te)}).catch(()=>{}),me.set(K,te),K}(te);if(we.has(te))return we.get(te);const K=je(te);return K!==te&&(we.set(te,K),me.set(K,te)),K}const ae=te=>me.get(te),Ce=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],J=new Map;function ze(te,K){if(!(te instanceof IDBDatabase)||K in te||"string"!=typeof K)return;if(J.get(K))return J.get(K);const _e=K.replace(/FromIndex$/,""),ke=K!==_e,Re=Me.includes(_e);if(!(_e in(ke?IDBIndex:IDBObjectStore).prototype)||!Re&&!Ce.includes(_e))return;const st=function(){var Et=(0,g.Z)(function*(rn,...sn){const Rn=this.transaction(rn,Re?"readwrite":"readonly");let qr=Rn.store;return ke&&(qr=qr.index(sn.shift())),(yield Promise.all([qr[_e](...sn),Re&&Rn.done]))[0]});return function(sn){return Et.apply(this,arguments)}}();return J.set(K,st),st}!function Ie(te){Ae=te(Ae)}(te=>({...te,get:(K,_e,ke)=>ze(K,_e)||te.get(K,_e,ke),has:(K,_e)=>!!ze(K,_e)||te.has(K,_e)}));class ct{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function An(te){const K=te.getComponent();return"VERSION"===K?.type}(_e)){const ke=_e.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(_e=>_e).join(" ")}}const er="@firebase/app",tn=new P.Yd("@firebase/app"),$e="[DEFAULT]",dt={[er]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,At=new Map;function $t(te,K){try{te.container.addComponent(K)}catch(_e){tn.debug(`Component ${K.name} failed to register with FirebaseApp ${te.name}`,_e)}}function tr(te,K){te.container.addOrOverwriteComponent(K)}function wt(te){const K=te.name;if(At.has(K))return tn.debug(`There were multiple attempts to register component ${K}.`),!1;At.set(K,te);for(const _e of tt.values())$t(_e,te);return!0}function Mn(te,K){const _e=te.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),te.container.getProvider(K)}function js(te,K,_e=$e){Mn(te,K).clearInstance(_e)}function yt(){At.clear()}const ut=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zr{constructor(K,_e,ke){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw ut.create("app-deleted",{appName:this._name})}}const Mi="9.23.0";function Ri(te,K={}){let _e=te;"object"!=typeof K&&(K={name:K});const ke=Object.assign({name:$e,automaticDataCollectionEnabled:!1},K),Re=ke.name;if("string"!=typeof Re||!Re)throw ut.create("bad-app-name",{appName:String(Re)});if(_e||(_e=(0,z.aH)()),!_e)throw ut.create("no-options");const st=tt.get(Re);if(st){if((0,z.vZ)(_e,st.options)&&(0,z.vZ)(ke,st.config))return st;throw ut.create("duplicate-app",{appName:Re})}const Et=new W.H0(Re);for(const sn of At.values())Et.addComponent(sn);const rn=new Zr(_e,ke,Et);return tt.set(Re,rn),rn}function yr(te=$e){const K=tt.get(te);if(!K&&te===$e&&(0,z.aH)())return Ri();if(!K)throw ut.create("no-app",{appName:te});return K}function Pi(){return Array.from(tt.values())}function Lr(te){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(te){const K=te.name;tt.has(K)&&(tt.delete(K),yield Promise.all(te.container.getProviders().map(_e=>_e.delete())),te.isDeleted=!0)})).apply(this,arguments)}function mn(te,K,_e){var ke;let Re=null!==(ke=dt[te])&&void 0!==ke?ke:te;_e&&(Re+=`-${_e}`);const st=Re.match(/\s|\//),Et=K.match(/\s|\//);if(st||Et){const rn=[`Unable to register library "${Re}" with version "${K}":`];return st&&rn.push(`library name "${Re}" contains illegal characters (whitespace or "/")`),st&&Et&&rn.push("and"),Et&&rn.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void tn.warn(rn.join(" "))}wt(new W.wA(`${Re}-version`,()=>({library:Re,version:K}),"VERSION"))}function rr(te,K){if(null!==te&&"function"!=typeof te)throw ut.create("invalid-log-argument");(0,P.Am)(te,K)}function nn(te){(0,P.Ub)(te)}const Er="firebase-heartbeat-database",Cr=1,F="firebase-heartbeat-store";let x=null;function B(){return x||(x=function Z(te,K,{blocked:_e,upgrade:ke,blocking:Re,terminated:st}={}){const Et=indexedDB.open(te,K),rn=q(Et);return ke&&Et.addEventListener("upgradeneeded",sn=>{ke(q(Et.result),sn.oldVersion,sn.newVersion,q(Et.transaction),sn)}),_e&&Et.addEventListener("blocked",sn=>_e(sn.oldVersion,sn.newVersion,sn)),rn.then(sn=>{st&&sn.addEventListener("close",()=>st()),Re&&sn.addEventListener("versionchange",Rn=>Re(Rn.oldVersion,Rn.newVersion,Rn))}).catch(()=>{}),rn}(Er,Cr,{upgrade:(te,K)=>{0===K&&te.createObjectStore(F)}}).catch(te=>{throw ut.create("idb-open",{originalErrorMessage:te.message})})),x}function Q(){return(Q=(0,g.Z)(function*(te){try{return yield(yield B()).transaction(F).objectStore(F).get(Ke(te))}catch(K){if(K instanceof z.ZR)tn.warn(K.message);else{const _e=ut.create("idb-get",{originalErrorMessage:K?.message});tn.warn(_e.message)}}})).apply(this,arguments)}function Ne(te,K){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(te,K){try{const ke=(yield B()).transaction(F,"readwrite");yield ke.objectStore(F).put(K,Ke(te)),yield ke.done}catch(_e){if(_e instanceof z.ZR)tn.warn(_e.message);else{const ke=ut.create("idb-set",{originalErrorMessage:_e?.message});tn.warn(ke.message)}}})).apply(this,arguments)}function Ke(te){return`${te.name}!${te.options.appId}`}class Kt{constructor(K){this.container=K,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new Kr(_e),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var K=this;return(0,g.Z)(function*(){const ke=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Re=pt();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Re&&!K._heartbeatsCache.heartbeats.some(st=>st.date===Re))return K._heartbeatsCache.heartbeats.push({date:Re,agent:ke}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(st=>{const Et=new Date(st.date).valueOf();return Date.now()-Et<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,g.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const _e=pt(),{heartbeatsToSend:ke,unsentEntries:Re}=function un(te,K=1024){const _e=[];let ke=te.slice();for(const Re of te){const st=_e.find(Et=>Et.agent===Re.agent);if(st){if(st.dates.push(Re.date),li(_e)>K){st.dates.pop();break}}else if(_e.push({agent:Re.agent,dates:[Re.date]}),li(_e)>K){_e.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:_e,unsentEntries:ke}}(K._heartbeatsCache.heartbeats),st=(0,z.L)(JSON.stringify({version:2,heartbeats:ke}));return K._heartbeatsCache.lastSentHeartbeatDate=_e,Re.length>0?(K._heartbeatsCache.heartbeats=Re,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),st})()}}function pt(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,g.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function ce(te){return Q.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var _e=this;return(0,g.Z)(function*(){var ke;if(yield _e._canUseIndexedDBPromise){const st=yield _e.read();return Ne(_e.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:st.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var _e=this;return(0,g.Z)(function*(){var ke;if(yield _e._canUseIndexedDBPromise){const st=yield _e.read();return Ne(_e.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...K.heartbeats]})}})()}}function li(te){return(0,z.L)(JSON.stringify({version:2,heartbeats:te})).length}!function To(te){wt(new W.wA("platform-logger",K=>new ct(K),"PRIVATE")),wt(new W.wA("heartbeat",K=>new Kt(K),"PRIVATE")),mn(er,"0.9.13",te),mn(er,"0.9.13","esm2017"),mn("fire-js","")}("")},6820:(Be,fe,R)=>{R.d(fe,{H0:()=>Ee,wA:()=>P,zt:()=>Y});var g=R(5861),W=R(229);class P{constructor(O,V,$){this.name=O,this.instanceFactory=V,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const z="[DEFAULT]";class Y{constructor(O,V){this.name=O,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const V=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(V)){const $=new W.BH;if(this.instancesDeferred.set(V,$),this.isInitialized(V)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:V});we&&$.resolve(we)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(O){var V;const $=this.normalizeInstanceIdentifier(O?.identifier),we=null!==(V=O?.optional)&&void 0!==V&&V;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(me){if(we)return null;throw me}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function oe(re){return"EAGER"===re.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[V,$]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(V);try{const me=this.getOrInitializeService({instanceIdentifier:we});$.resolve(me)}catch{}}}}clearInstance(O=z){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,g.Z)(function*(){const V=Array.from(O.instances.values());yield Promise.all([...V.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...V.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=z){return this.instances.has(O)}getOptions(O=z){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:V={}}=O,$=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:$,options:V});for(const[me,Pe]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(me)&&Pe.resolve(we);return we}onInit(O,V){var $;const we=this.normalizeInstanceIdentifier(V),me=null!==($=this.onInitCallbacks.get(we))&&void 0!==$?$:new Set;me.add(O),this.onInitCallbacks.set(we,me);const Pe=this.instances.get(we);return Pe&&O(Pe,we),()=>{me.delete(O)}}invokeOnInitCallbacks(O,V){const $=this.onInitCallbacks.get(V);if($)for(const we of $)try{we(O,V)}catch{}}getOrInitializeService({instanceIdentifier:O,options:V={}}){let $=this.instances.get(O);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(re=O,re===z?void 0:re),options:V}),this.instances.set(O,$),this.instancesOptions.set(O,V),this.invokeOnInitCallbacks($,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,$)}catch{}var re;return $||null}normalizeInstanceIdentifier(O=z){return this.component?this.component.multipleInstances?O:z:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const V=this.getProvider(O.name);if(V.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);V.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const V=new Y(O,this);return this.providers.set(O,V),V}getProviders(){return Array.from(this.providers.values())}}},4287:(Be,fe,R)=>{R.d(fe,{Am:()=>re,Ub:()=>Ee,Yd:()=>oe,in:()=>W});const g=[];var W=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(W||{});const P={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},z=W.INFO,Y={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ie=(O,V,...$)=>{if(V<O.logLevel)return;const we=(new Date).toISOString(),me=Y[V];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[me](`[${we}]  ${O.name}:`,...$)};class oe{constructor(V){this.name=V,this._logLevel=z,this._logHandler=ie,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in W))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?P[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...V),this._logHandler(this,W.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...V),this._logHandler(this,W.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,W.INFO,...V),this._logHandler(this,W.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,W.WARN,...V),this._logHandler(this,W.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...V),this._logHandler(this,W.ERROR,...V)}}function Ee(O){g.forEach(V=>{V.setLogLevel(O)})}function re(O,V){for(const $ of g){let we=null;V&&V.level&&(we=P[V.level]),$.userLogHandler=null===O?null:(me,Pe,...ve)=>{const Ae=ve.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Pe>=(we??me.logLevel)&&O({level:W[Pe].toLowerCase(),message:Ae,args:ve,type:me.name})}}}},4097:(Be,fe,R)=>{R.d(fe,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=R(1571);(0,g.registerVersion)("firebase","9.23.0","app")},120:(Be,fe,R)=>{R.d(fe,{Z:()=>g.Z});var g=R(3399);g.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(Be,fe,R)=>{R.r(fe);var g=R(5861),W=R(3399),P=R(229),z=R(1571),Y=R(7582),ie=R(4287),oe=R(6820);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pe=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ve=function me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ie.Yd("@firebase/auth");function q(_,...d){We.logLevel<=ie.in.ERROR&&We.error(`Auth (${z.SDK_VERSION}): ${_}`,...d)}function ae(_,...d){throw Me(_,...d)}function Z(_,...d){return Me(_,...d)}function he(_,d,p){const y=Object.assign(Object.assign({},ve()),{[d]:p});return new P.LL("auth","Firebase",y).create(d,{appName:_.name})}function Ce(_,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&ae(_,"argument-error"),he(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(_,...d){if("string"!=typeof _){const p=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(p,...y)}return Ae.create(_,...d)}function J(_,d,...p){if(!_)throw Me(d,...p)}function ze(_){const d="INTERNAL ASSERTION FAILED: "+_;throw q(d),new Error(d)}function ct(_,d){_||ze(d)}function An(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function er(){return"http:"===ai()||"https:"===ai()}function ai(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ti{constructor(d,p){this.shortDelay=d,this.longDelay=p,ct(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(er()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ee(_,d){ct(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ne{static initialize(d,p,y){this.fetchImpl=d,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=new Ti(3e4,6e4);function de(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function ge(_,d,p,y){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.Z)(function*(_,d,p,y,D={}){return Te(_,D,(0,g.Z)(function*(){let T={},L={};y&&("GET"===d?L=y:T={body:JSON.stringify(y)});const H=(0,P.xO)(Object.assign({key:_.config.apiKey},L)).slice(1),ye=yield _._getAdditionalHeaders();return ye["Content-Type"]="application/json",_.languageCode&&(ye["X-Firebase-Locale"]=_.languageCode),ne.fetch()(it(_,_.config.apiHost,p,H),Object.assign({method:d,headers:ye,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function Te(_,d,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,g.Z)(function*(_,d,p){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},le),d);try{const D=new xt(_),T=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const L=yield T.json();if("needConfirmation"in L)throw kt(_,"account-exists-with-different-credential",L);if(T.ok&&!("errorMessage"in L))return L;{const H=T.ok?L.errorMessage:L.error.message,[ye,be]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw kt(_,"credential-already-in-use",L);if("EMAIL_EXISTS"===ye)throw kt(_,"email-already-in-use",L);if("USER_DISABLED"===ye)throw kt(_,"user-disabled",L);const Fe=y[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(be)throw he(_,Fe,be);ae(_,Fe)}}catch(D){if(D instanceof P.ZR)throw D;ae(_,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function He(_,d,p,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,g.Z)(function*(_,d,p,y,D={}){const T=yield ge(_,d,p,y,D);return"mfaPendingCredential"in T&&ae(_,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function it(_,d,p,y){const D=`${d}${p}?${y}`;return _.config.emulator?ee(_.config,D):`${_.config.apiScheme}://${D}`}class xt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(Z(this.auth,"network-request-failed")),ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kt(_,d,p){const y={appName:_.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const D=Z(_,d,y);return D.customData._tokenResponse=p,D}function bt(){return(bt=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function dr(){return(dr=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function hr(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function $e(){return($e=(0,g.Z)(function*(_,d=!1){const p=(0,P.m9)(_),y=yield p.getIdToken(d),D=tt(y);J(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const T="object"==typeof D.firebase?D.firebase:void 0,L=T?.sign_in_provider;return{claims:D,token:y,authTime:hr(dt(D.auth_time)),issuedAtTime:hr(dt(D.iat)),expirationTime:hr(dt(D.exp)),signInProvider:L||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(_){return 1e3*Number(_)}function tt(_){const[d,p,y]=_.split(".");if(void 0===d||void 0===p||void 0===y)return q("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,P.tV)(p);return D?JSON.parse(D):(q("Failed to decode base64 JWT payload"),null)}catch(D){return q("Caught error parsing JWT payload as JSON",D?.toString()),null}}function $t(_,d){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(y){throw y instanceof P.ZR&&function wt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class Mn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield p.iteration()}),y)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class js{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yt(_){return nr.apply(this,arguments)}function nr(){return nr=(0,g.Z)(function*(_){var d;const p=_.auth,y=yield _.getIdToken(),D=yield $t(_,function Si(_,d){return fr.apply(this,arguments)}(p,{idToken:y}));J(D?.users.length,p,"internal-error");const T=D.users[0];_._notifyReloadListener(T);const L=null!==(d=T.providerUserInfo)&&void 0!==d&&d.length?function Ri(_){return _.map(d=>{var{providerId:p}=d,y=(0,Y._T)(d,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(T.providerUserInfo):[],H=function Mi(_,d){return[..._.filter(y=>!d.some(D=>D.providerId===y.providerId)),...d]}(_.providerData,L),Fe=!!_.isAnonymous&&!(_.email&&T.passwordHash||H?.length),Le={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:H,metadata:new js(T.createdAt,T.lastLoginAt),isAnonymous:Fe};Object.assign(_,Le)}),nr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(_){const d=(0,P.m9)(_);yield yt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(_,d){const p=yield Te(_,{},(0,g.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:T}=_.config,L=it(_,D,"/v1/token",`key=${T}`),H=yield _._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",ne.fetch()(L,{method:"POST",headers:H,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){J(d.idToken,"internal-error"),J(typeof d.idToken<"u","internal-error"),J(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function At(_){const d=tt(_);return J(d,"internal-error"),J(typeof d.exp<"u","internal-error"),J(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var y=this;return(0,g.Z)(function*(){return J(!y.accessToken||y.refreshToken,d,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var y=this;return(0,g.Z)(function*(){const{accessToken:D,refreshToken:T,expiresIn:L}=yield function yr(_,d){return Pi.apply(this,arguments)}(d,p);y.updateTokensAndExpiration(D,T,Number(L))})()}updateTokensAndExpiration(d,p,y){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,p){const{refreshToken:y,accessToken:D,expirationTime:T}=p,L=new Lr;return y&&(J("string"==typeof y,"internal-error",{appName:d}),L.refreshToken=y),D&&(J("string"==typeof D,"internal-error",{appName:d}),L.accessToken=D),T&&(J("number"==typeof T,"internal-error",{appName:d}),L.expirationTime=T),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return ze("not implemented")}}function gn(_,d){J("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class mn{constructor(d){var{uid:p,auth:y,stsTokenManager:D}=d,T=(0,Y._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new js(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,g.Z)(function*(){const y=yield $t(p,p.stsTokenManager.getToken(p.auth,d));return J(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(d){return function bo(_){return $e.apply(this,arguments)}(this,d)}reload(){return function ut(_){return Zr.apply(this,arguments)}(this)}_assign(d){this!==d&&(J(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new mn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var y=this;return(0,g.Z)(function*(){let D=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),D=!0),p&&(yield yt(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,g.Z)(function*(){const p=yield d.getIdToken();return yield $t(d,function pn(_,d){return bt.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var y,D,T,L,H,ye,be,Fe;const Le=null!==(y=p.displayName)&&void 0!==y?y:void 0,Bt=null!==(D=p.email)&&void 0!==D?D:void 0,Rr=null!==(T=p.phoneNumber)&&void 0!==T?T:void 0,Ss=null!==(L=p.photoURL)&&void 0!==L?L:void 0,Gh=null!==(H=p.tenantId)&&void 0!==H?H:void 0,sf=null!==(ye=p._redirectEventId)&&void 0!==ye?ye:void 0,As=null!==(be=p.createdAt)&&void 0!==be?be:void 0,ta=null!==(Fe=p.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Ms,emailVerified:af,isAnonymous:na,providerData:ra,stsTokenManager:vm}=p;J(Ms&&vm,d,"internal-error");const Fc=Lr.fromJSON(this.name,vm);J("string"==typeof Ms,d,"internal-error"),gn(Le,d.name),gn(Bt,d.name),J("boolean"==typeof af,d,"internal-error"),J("boolean"==typeof na,d,"internal-error"),gn(Rr,d.name),gn(Ss,d.name),gn(Gh,d.name),gn(sf,d.name),gn(As,d.name),gn(ta,d.name);const lf=new mn({uid:Ms,auth:d,email:Bt,emailVerified:af,displayName:Le,isAnonymous:na,photoURL:Ss,phoneNumber:Rr,tenantId:Gh,stsTokenManager:Fc,createdAt:As,lastLoginAt:ta});return ra&&Array.isArray(ra)&&(lf.providerData=ra.map(zh=>Object.assign({},zh))),sf&&(lf._redirectEventId=sf),lf}static _fromIdTokenResponse(d,p,y=!1){return(0,g.Z)(function*(){const D=new Lr;D.updateFromServerResponse(p);const T=new mn({uid:p.localId,auth:d,stsTokenManager:D,isAnonymous:y});return yield yt(T),T})()}}const rr=new Map;function nn(_){ct(_ instanceof Function,"Expected a class definition");let d=rr.get(_);return d?(ct(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,rr.set(_,d),d)}const Cr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(p,y){var D=this;return(0,g.Z)(function*(){D.storage[p]=y})()}_get(p){var y=this;return(0,g.Z)(function*(){const D=y.storage[p];return void 0===D?null:D})()}_remove(p){var y=this;return(0,g.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return _.type="NONE",_})();function F(_,d,p){return`firebase:${_}:${d}:${p}`}class x{constructor(d,p,y){this.persistence=d,this.auth=p,this.userKey=y;const{config:D,name:T}=this.auth;this.fullUserKey=F(this.userKey,D.apiKey,T),this.fullPersistenceKey=F("persistence",D.apiKey,T),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?mn._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,g.Z)(function*(){if(p.persistence===d)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,y="authUser"){return(0,g.Z)(function*(){if(!p.length)return new x(nn(Cr),d,y);const D=(yield Promise.all(p.map(function(){var be=(0,g.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return be.apply(this,arguments)}}()))).filter(be=>be);let T=D[0]||nn(Cr);const L=F(y,d.config.apiKey,d.name);let H=null;for(const be of p)try{const Fe=yield be._get(L);if(Fe){const Le=mn._fromJSON(d,Fe);be!==T&&(H=Le),T=be;break}}catch{}const ye=D.filter(be=>be._shouldAllowMigration);return T._shouldAllowMigration&&ye.length?(T=ye[0],H&&(yield T._set(L,H.toJSON())),yield Promise.all(p.map(function(){var be=(0,g.Z)(function*(Fe){if(Fe!==T)try{yield Fe._remove(L)}catch{}});return function(Fe){return be.apply(this,arguments)}}())),new x(T,d,y)):new x(T,d,y)})()}}function B(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Je(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ce(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(_n(d))return"Blackberry";if(nt(d))return"Webos";if(Q(d))return"Safari";if((d.includes("chrome/")||Ne(d))&&!d.includes("edge/"))return"Chrome";if(Ke(d))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function ce(_=(0,P.z$)()){return/firefox\//i.test(_)}function Q(_=(0,P.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ne(_=(0,P.z$)()){return/crios\//i.test(_)}function Je(_=(0,P.z$)()){return/iemobile/i.test(_)}function Ke(_=(0,P.z$)()){return/android/i.test(_)}function _n(_=(0,P.z$)()){return/blackberry/i.test(_)}function nt(_=(0,P.z$)()){return/webos/i.test(_)}function Kt(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function li(_=(0,P.z$)()){return Kt(_)||Ke(_)||nt(_)||_n(_)||/windows phone/i.test(_)||Je(_)}function te(_,d=[]){let p;switch(_){case"Browser":p=B((0,P.z$)());break;case"Worker":p=`${B((0,P.z$)())}-${_}`;break;default:p=_}const y=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${z.SDK_VERSION}/${y}`}function _e(){return(_e=(0,g.Z)(function*(_){return(yield ge(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ke(_,d){return Re.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(_,d){return ge(_,"GET","/v2/recaptchaConfig",de(_,d))})).apply(this,arguments)}function st(_){return void 0!==_&&void 0!==_.getResponse}function Et(_){return void 0!==_&&void 0!==_.enterprise}class rn{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Rn(_){return new Promise((d,p)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=d,y.onerror=D=>{const T=Z("internal-error");T.customData=D,p(T)},y.type="text/javascript",y.charset="UTF-8",function sn(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(y)})}function qr(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Pl{constructor(d){this.type="recaptcha-enterprise",this.auth=on(d)}verify(d="verify",p=!1){var y=this;return(0,g.Z)(function*(){function T(){return T=(0,g.Z)(function*(H){if(!p){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var ye=(0,g.Z)(function*(be,Fe){ke(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Le=>{if(void 0!==Le.recaptchaKey){const Bt=new rn(Le);return null==H.tenantId?H._agentRecaptchaConfig=Bt:H._tenantRecaptchaConfigs[H.tenantId]=Bt,be(Bt.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(Le=>{Fe(Le)})});return function(be,Fe){return ye.apply(this,arguments)}}())}),T.apply(this,arguments)}function L(H,ye,be){const Fe=window.grecaptcha;Et(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(H,{action:d}).then(Le=>{ye(Le)}).catch(()=>{ye("NO_RECAPTCHA")})}):be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,ye)=>{(function D(H){return T.apply(this,arguments)})(y.auth).then(be=>{if(!p&&Et(window.grecaptcha))L(be,H,ye);else{if(typeof window>"u")return void ye(new Error("RecaptchaVerifier is only supported in browser"));Rn("https://www.google.com/recaptcha/enterprise.js?render="+be).then(()=>{L(be,H,ye)}).catch(Fe=>{ye(Fe)})}}).catch(be=>{ye(be)})})})()}}function Ir(_,d,p){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(_,d,p,y=!1){const D=new Pl(_);let T;try{T=yield D.verify(p)}catch{T=yield D.verify(p,!0)}const L=Object.assign({},d);return Object.assign(L,y?{captchaResp:T}:{captchaResponse:T}),Object.assign(L,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(L,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),L})).apply(this,arguments)}class So{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const y=T=>new Promise((L,H)=>{try{L(d(T))}catch(ye){H(ye)}});y.onAbort=p,this.queue.push(y);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,g.Z)(function*(){if(p.auth.currentUser===d)return;const y=[];try{for(const D of p.queue)yield D(d),D.onAbort&&y.push(D.onAbort)}catch(D){y.reverse();for(const T of y)try{T()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Nl{constructor(d,p,y,D){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ao(this),this.idTokenSubscription=new Ao(this),this.beforeStateQueue=new So(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,p){var y=this;return p&&(this._popupRedirectResolver=nn(p)),this._initializationPromise=this.queue((0,g.Z)(function*(){var D,T;if(!y._deleted&&(y.persistenceManager=yield x.create(y,d),!y._deleted)){if(null!==(D=y._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(T=y.currentUser)||void 0===T?void 0:T.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,g.Z)(function*(){var y;const D=yield p.assertedPersistence.getCurrentUser();let T=D,L=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const H=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,ye=T?._redirectEventId,be=yield p.tryRedirectSignIn(d);(!H||H===ye)&&be?.user&&(T=be.user,L=!0)}if(!T)return p.directlySetCurrentUser(null);if(!T._redirectEventId){if(L)try{yield p.beforeStateQueue.runMiddleware(T)}catch(H){T=D,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(H))}return T?p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)}return J(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(d){var p=this;return(0,g.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,g.Z)(function*(){try{yield yt(d)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Xi(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,g.Z)(function*(){const y=d?(0,P.m9)(d):null;return y&&J(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(d,p=!1){var y=this;return(0,g.Z)(function*(){if(!y._deleted)return d&&J(y.tenantId===d.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(d)),y.queue((0,g.Z)(function*(){yield y.directlySetCurrentUser(d),y.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,g.Z)(function*(){yield p.assertedPersistence.setPersistence(nn(d))}))}initializeRecaptchaConfig(){var d=this;return(0,g.Z)(function*(){const p=yield ke(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new rn(p);null==d.tenantId?d._agentRecaptchaConfig=y:d._tenantRecaptchaConfigs[d.tenantId]=y,y.emailPasswordEnabled&&new Pl(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new P.LL("auth","Firebase",d())}onAuthStateChanged(d,p,y){return this.registerStateListener(this.authStateSubscription,d,p,y)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,y){return this.registerStateListener(this.idTokenSubscription,d,p,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var y=this;return(0,g.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(p);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,g.Z)(function*(){if(!p.redirectPersistenceManager){const y=d&&nn(d)||p._popupRedirectResolver;J(y,p,"argument-error"),p.redirectPersistenceManager=yield x.create(p,[nn(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,g.Z)(function*(){var y,D;return p._isInitialized&&(yield p.queue((0,g.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===d?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,g.Z)(function*(){if(d===p.currentUser)return p.queue((0,g.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,y,D){if(this._deleted)return()=>{};const T="function"==typeof p?p:p.next.bind(p),L=this._isInitialized?Promise.resolve():this._initializationPromise;return J(L,this,"internal-error"),L.then(()=>T(this.currentUser)),"function"==typeof p?d.addObserver(p,y,D):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,g.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var p;const y={"X-Client-Version":d.clientVersion};d.app.options.appId&&(y["X-Firebase-gmpid"]=d.app.options.appId);const D=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();D&&(y["X-Firebase-Client"]=D);const T=yield d._getAppCheckToken();return T&&(y["X-Firebase-AppCheck"]=T),y})()}_getAppCheckToken(){var d=this;return(0,g.Z)(function*(){var p;const y=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return y?.error&&function je(_,...d){We.logLevel<=ie.in.WARN&&We.warn(`Auth (${z.SDK_VERSION}): ${_}`,...d)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function on(_){return(0,P.m9)(_)}class Ao{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ws(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function ec(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class ts{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return ze("not implemented")}_getIdTokenResponse(d){return ze("not implemented")}_linkToIdToken(d,p){return ze("not implemented")}_getReauthenticationResolver(d){return ze("not implemented")}}function Td(_,d){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:resetPassword",de(_,d))})).apply(this,arguments)}function tc(_,d){return nc.apply(this,arguments)}function nc(){return(nc=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:update",de(_,d))})).apply(this,arguments)}function kn(_,d){return xl.apply(this,arguments)}function xl(){return(xl=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithPassword",de(_,d))})).apply(this,arguments)}function ba(_,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:sendOobCode",de(_,d))})).apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(_,d){return ba(_,d)})).apply(this,arguments)}function Gs(_,d){return kl.apply(this,arguments)}function kl(){return(kl=(0,g.Z)(function*(_,d){return ba(_,d)})).apply(this,arguments)}function gt(_,d){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,g.Z)(function*(_,d){return ba(_,d)})).apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(_,d){return ba(_,d)})).apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithEmailLink",de(_,d))})).apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithEmailLink",de(_,d))})).apply(this,arguments)}class Sa extends ts{constructor(d,p,y,D=null){super("password",y),this._email=d,this._password=p,this._tenantId=D}static _fromEmailAndPassword(d,p){return new Sa(d,p,"password")}static _fromEmailAndCode(d,p,y=null){return new Sa(d,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,g.Z)(function*(){var y;switch(p.signInMethod){case"password":const D={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=d._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const T=yield Ir(d,D,"signInWithPassword");return kn(d,T)}return kn(d,D).catch(function(){var T=(0,g.Z)(function*(L){if("auth/missing-recaptcha-token"===L.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const H=yield Ir(d,D,"signInWithPassword");return kn(d,H)}return Promise.reject(L)});return function(L){return T.apply(this,arguments)}}());case"emailLink":return function jn(_,d){return Fl.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:ae(d,"internal-error")}})()}_linkToIdToken(d,p){var y=this;return(0,g.Z)(function*(){switch(y.signInMethod){case"password":return tc(d,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Sd(_,d){return Po.apply(this,arguments)}(d,{idToken:p,email:y._email,oobCode:y._password});default:ae(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Dr(_,d){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithIdp",de(_,d))})).apply(this,arguments)}class Ze extends ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Ze(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):ae("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:D}=p,T=(0,Y._T)(p,["providerId","signInMethod"]);if(!y||!D)return null;const L=new Ze(y,D);return L.idToken=T.idToken||void 0,L.accessToken=T.accessToken||void 0,L.secret=T.secret,L.nonce=T.nonce,L.pendingToken=T.pendingToken||null,L}_getIdTokenResponse(d){return Dr(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Dr(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Dr(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,P.xO)(p)}return d}}function Hn(){return(Hn=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:sendVerificationCode",de(_,d))})).apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithPhoneNumber",de(_,d))})).apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(_,d){const p=yield He(_,"POST","/v1/accounts:signInWithPhoneNumber",de(_,d));if(p.temporaryProof)throw kt(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ci={USER_NOT_FOUND:"user-not-found"};function Ye(){return(Ye=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithPhoneNumber",de(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ci)})).apply(this,arguments)}class Nn extends ts{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Nn({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Nn({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function ns(_,d){return Pn.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function No(_,d){return Gt.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function zs(_,d){return Ye.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:y,verificationCode:D}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:y,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:y,phoneNumber:D,temporaryProof:T}=d;return y||p||D||T?new Nn({verificationId:p,verificationCode:y,phoneNumber:D,temporaryProof:T}):null}}class Lt{constructor(d){var p,y,D,T,L,H;const ye=(0,P.zd)((0,P.pd)(d)),be=null!==(p=ye.apiKey)&&void 0!==p?p:null,Fe=null!==(y=ye.oobCode)&&void 0!==y?y:null,Le=function Ad(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ye.mode)&&void 0!==D?D:null);J(be&&Fe&&Le,"argument-error"),this.apiKey=be,this.operation=Le,this.code=Fe,this.continueUrl=null!==(T=ye.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(L=ye.languageCode)&&void 0!==L?L:null,this.tenantId=null!==(H=ye.tenantId)&&void 0!==H?H:null}static parseLink(d){const p=function Ni(_){const d=(0,P.zd)((0,P.pd)(_)).link,p=d?(0,P.zd)((0,P.pd)(d)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||p||d||_}(d);try{return new Lt(p)}catch{return null}}}let rs=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,y){return Sa._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const D=Lt.parseLink(y);return J(D,"argument-error"),Sa._fromEmailAndCode(p,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vn{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class di extends vn{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class fi extends di{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return J("providerId"in p&&"signInMethod"in p,"argument-error"),Ze._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return J(d.idToken||d.accessToken,"argument-error"),Ze._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return fi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return fi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:T,nonce:L,providerId:H}=d;if(!y&&!D&&!p&&!T||!H)return null;try{return new fi(H)._credential({idToken:p,accessToken:y,nonce:L,pendingToken:T})}catch{return null}}}let Oi=(()=>{class _ extends di{constructor(){super("facebook.com")}static credential(p){return Ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),br=(()=>{class _ extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return Ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:D}=p;if(!y&&!D)return null;try{return _.credential(y,D)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Aa=(()=>{class _ extends di{constructor(){super("github.com")}static credential(p){return Ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ot extends ts{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Dr(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Dr(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Dr(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:D,pendingToken:T}=p;return y&&D&&T&&y===D?new ot(y,T):null}static _create(d,p){return new ot(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zs extends vn{constructor(d){J(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Zs.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Zs.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=ot.fromJSON(d);return J(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:y}=d;if(!p||!y)return null;try{return ot._create(y,p)}catch{return null}}}let Ma=(()=>{class _ extends di{constructor(){super("twitter.com")}static credential(p,y){return Ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=p;if(!y||!D)return null;try{return _.credential(y,D)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function yn(_,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signUp",de(_,d))})).apply(this,arguments)}class En{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,y,D=!1){return(0,g.Z)(function*(){const T=yield mn._fromIdTokenResponse(d,y,D),L=xi(y);return new En({user:T,providerId:L,_tokenResponse:y,operationType:p})})()}static _forOperation(d,p,y){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const D=xi(y);return new En({user:d,providerId:D,_tokenResponse:y,operationType:p})})()}}function xi(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Md(){return(Md=(0,g.Z)(function*(_){var d;const p=on(_);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new En({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield yn(p,{returnSecureToken:!0}),D=yield En._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Cn extends P.ZR{constructor(d,p,y,D){var T;super(p.code,p.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,Cn.prototype),this.customData={appName:d.name,tenantId:null!==(T=d.tenantId)&&void 0!==T?T:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,p,y,D){return new Cn(d,p,y,D)}}function $n(_,d,p,y){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Cn._fromErrorAndOperation(_,T,d,y):T})}function Ra(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function pr(){return pr=(0,g.Z)(function*(_,d){const p=(0,P.m9)(_);yield qs(!0,p,d);const{providerUserInfo:y}=yield function xn(_,d){return dr.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),D=Ra(y||[]);return p.providerData=p.providerData.filter(T=>D.has(T.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),pr.apply(this,arguments)}function sr(_,d){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(_,d,p=!1){const y=yield $t(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return En._forOperation(_,"link",y)})).apply(this,arguments)}function qs(_,d,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,g.Z)(function*(_,d,p){yield yt(d);const D=!1===_?"provider-already-linked":"no-such-provider";J(Ra(d.providerData).has(p)===_,d.auth,D)})).apply(this,arguments)}function yh(_,d){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,g.Z)(function*(_,d,p=!1){const{auth:y}=_,D="reauthenticate";try{const T=yield $t(_,$n(y,D,d,_),p);J(T.idToken,y,"internal-error");const L=tt(T.idToken);J(L,y,"internal-error");const{sub:H}=L;return J(_.uid===H,y,"user-mismatch"),En._forOperation(_,D,T)}catch(T){throw"auth/user-not-found"===T?.code&&ae(y,"user-mismatch"),T}})).apply(this,arguments)}function Ul(_,d){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(_,d,p=!1){const y="signIn",D=yield $n(_,y,d),T=yield En._fromIdTokenResponse(_,y,D);return p||(yield _._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Bl(_,d){return sc.apply(this,arguments)}function sc(){return(sc=(0,g.Z)(function*(_,d){return Ul(on(_),d)})).apply(this,arguments)}function Eh(_,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(_,d){const p=(0,P.m9)(_);return yield qs(!1,p,d.providerId),sr(p,d)})).apply(this,arguments)}function Ch(_,d){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,g.Z)(function*(_,d){return yh((0,P.m9)(_),d)})).apply(this,arguments)}function Pd(){return(Pd=(0,g.Z)(function*(_,d){return He(_,"POST","/v1/accounts:signInWithCustomToken",de(_,d))})).apply(this,arguments)}function hi(){return hi=(0,g.Z)(function*(_,d){const p=on(_),y=yield function sm(_,d){return Pd.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),D=yield En._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(D.user),D}),hi.apply(this,arguments)}class jl{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Ys._fromServerResponse(d,p):"totpInfo"in p?Hl._fromServerResponse(d,p):ae(d,"internal-error")}}class Ys extends jl{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Ys(p)}}class Hl extends jl{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new Hl(p)}}function Oo(_,d,p){var y;J((null===(y=p.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),J(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(J(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(J(p.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function xo(){return xo=(0,g.Z)(function*(_,d,p){var y;const D=on(_),T={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const L=yield Ir(D,T,"getOobCode",!0);p&&Oo(D,L,p),yield Gs(D,L)}else p&&Oo(D,T,p),yield Gs(D,T).catch(function(){var L=(0,g.Z)(function*(H){if("auth/missing-recaptcha-token"!==H.code)return Promise.reject(H);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ye=yield Ir(D,T,"getOobCode",!0);p&&Oo(D,ye,p),yield Gs(D,ye)}});return function(H){return L.apply(this,arguments)}}())}),xo.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(_,d,p){yield Td((0,P.m9)(_),{oobCode:d,newPassword:p})})).apply(this,arguments)}function Wn(){return Wn=(0,g.Z)(function*(_,d){yield function wr(_,d){return Da.apply(this,arguments)}((0,P.m9)(_),{oobCode:d})}),Wn.apply(this,arguments)}function Oa(_,d){return xa.apply(this,arguments)}function xa(){return(xa=(0,g.Z)(function*(_,d){const p=(0,P.m9)(_),y=yield Td(p,{oobCode:d}),D=y.requestType;switch(J(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(y.mfaInfo,p,"internal-error");default:J(y.email,p,"internal-error")}let T=null;return y.mfaInfo&&(T=jl._fromServerResponse(on(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:T},operation:D}})).apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(_,d){const{data:p}=yield Oa((0,P.m9)(_),d);return p.email})).apply(this,arguments)}function ka(){return ka=(0,g.Z)(function*(_,d,p){var y;const D=on(_),T={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let L;if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const be=yield Ir(D,T,"signUpPassword");L=yn(D,be)}else L=yn(D,T).catch(function(){var be=(0,g.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Le=yield Ir(D,T,"signUpPassword");return yn(D,Le)}return Promise.reject(Fe)});return function(Fe){return be.apply(this,arguments)}}());const H=yield L.catch(be=>Promise.reject(be)),ye=yield En._fromIdTokenResponse(D,"signIn",H);return yield D._updateCurrentUser(ye.user),ye}),ka.apply(this,arguments)}function Jt(){return Jt=(0,g.Z)(function*(_,d,p){var y;const D=on(_),T={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function L(H,ye){J(ye.handleCodeInApp,D,"argument-error"),ye&&Oo(D,H,ye)}if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield Ir(D,T,"getOobCode",!0);L(H,p),yield gt(D,H)}else L(T,p),yield gt(D,T).catch(function(){var H=(0,g.Z)(function*(ye){if("auth/missing-recaptcha-token"!==ye.code)return Promise.reject(ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield Ir(D,T,"getOobCode",!0);L(be,p),yield gt(D,be)}});return function(ye){return H.apply(this,arguments)}}())}),Jt.apply(this,arguments)}function Fa(){return(Fa=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_),D=rs.credentialWithLink(d,p||An());return J(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Bl(y,D)})).apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:createAuthUri",de(_,d))})).apply(this,arguments)}function uc(){return uc=(0,g.Z)(function*(_,d){const y={identifier:d,continueUri:er()?An():"http://localhost"},{signinMethods:D}=yield function La(_,d){return ko.apply(this,arguments)}((0,P.m9)(_),y);return D||[]}),uc.apply(this,arguments)}function Js(){return Js=(0,g.Z)(function*(_,d){const p=(0,P.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&Oo(p.auth,D,d);const{email:T}=yield function rc(_,d){return Ta.apply(this,arguments)}(p.auth,D);T!==_.email&&(yield _.reload())}),Js.apply(this,arguments)}function ki(){return ki=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};p&&Oo(y.auth,T,p);const{email:L}=yield function Bn(_,d){return ui.apply(this,arguments)}(y.auth,T);L!==_.email&&(yield _.reload())}),ki.apply(this,arguments)}function kd(){return(kd=(0,g.Z)(function*(_,d){return ge(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ua(){return Ua=(0,g.Z)(function*(_,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const y=(0,P.m9)(_),T={idToken:yield y.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},L=yield $t(y,function xd(_,d){return kd.apply(this,arguments)}(y.auth,T));y.displayName=L.displayName||null,y.photoURL=L.photoUrl||null;const H=y.providerData.find(({providerId:ye})=>"password"===ye);H&&(H.displayName=y.displayName,H.photoURL=y.photoURL),yield y._updateTokensIfNecessary(L)}),Ua.apply(this,arguments)}function Fd(_,d,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(_,d,p){const{auth:y}=_,T={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(T.email=d),p&&(T.password=p);const L=yield $t(_,tc(y,T));yield _._updateTokensIfNecessary(L,!0)})).apply(this,arguments)}class us{constructor(d,p,y={}){this.isNewUser=d,this.providerId=p,this.profile=y}}class Fo extends us{constructor(d,p,y,D){super(d,p,y),this.username=D}}class Gl extends us{constructor(d,p){super(d,"facebook.com",p)}}class hc extends Fo{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ba extends us{constructor(d,p){super(d,"google.com",p)}}class cs extends Fo{constructor(d,p,y){super(d,"twitter.com",p,y)}}function Ld(_){const{user:d,_tokenResponse:p}=_;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function fc(_){var d,p;if(!_)return null;const{providerId:y}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},T=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const L=null===(p=null===(d=tt(_.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(L)return new us(T,"anonymous"!==L&&"custom"!==L?L:null)}if(!y)return null;switch(y){case"facebook.com":return new Gl(T,D);case"github.com":return new hc(T,D);case"google.com":return new Ba(T,D);case"twitter.com":return new cs(T,D,_.screenName||null);case"custom":case"anonymous":return new us(T,null);default:return new us(T,y,D)}}(p)}class Xt{constructor(d,p,y){this.type=d,this.credential=p,this.auth=y}static _fromIdtoken(d,p){return new Xt("enroll",d,p)}static _fromMfaPendingCredential(d){return new Xt("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,y;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Xt._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.idToken)return Xt._fromIdtoken(d.multiFactorSession.idToken)}return null}}class eo{constructor(d,p,y){this.session=d,this.hints=p,this.signInResolver=y}static _fromError(d,p){const y=on(d),D=p.customData._serverResponse,T=(D.mfaInfo||[]).map(H=>jl._fromServerResponse(y,H));J(D.mfaPendingCredential,y,"internal-error");const L=Xt._fromMfaPendingCredential(D.mfaPendingCredential);return new eo(L,T,function(){var H=(0,g.Z)(function*(ye){const be=yield ye._process(y,L);delete D.mfaInfo,delete D.mfaPendingCredential;const Fe=Object.assign(Object.assign({},D),{idToken:be.idToken,refreshToken:be.refreshToken});switch(p.operationType){case"signIn":const Le=yield En._fromIdTokenResponse(y,p.operationType,Fe);return yield y._updateCurrentUser(Le.user),Le;case"reauthenticate":return J(p.user,y,"internal-error"),En._forOperation(p.user,p.operationType,Fe);default:ae(y,"internal-error")}});return function(ye){return H.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,g.Z)(function*(){return p.signInResolver(d)})()}}class ds{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>jl._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new ds(d)}getSession(){var d=this;return(0,g.Z)(function*(){return Xt._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var y=this;return(0,g.Z)(function*(){const D=d,T=yield y.getSession(),L=yield $t(y.user,D._process(y.user.auth,T,p));return yield y.user._updateTokensIfNecessary(L),y.user.reload()})()}unenroll(d){var p=this;return(0,g.Z)(function*(){const y="string"==typeof d?d:d.uid,D=yield p.user.getIdToken();try{const T=yield $t(p.user,function mc(_,d){return ge(_,"POST","/v2/accounts/mfaEnrollment:withdraw",de(_,d))}(p.user.auth,{idToken:D,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:L})=>L!==y),yield p.user._updateTokensIfNecessary(T),yield p.user.reload()}catch(T){throw T}})()}}const to=new WeakMap,qe="__sak";class _c{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(qe,"1"),this.storage.removeItem(qe),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class _ extends _c{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bd(){const _=(0,P.z$)();return Q(_)||Kt(_)}()&&function To(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=li(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),T=this.localCache[y];D!==T&&p(y,T,D)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((H,ye,be)=>{this.notifyListeners(H,be)});const D=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(D);if(p.newValue!==H)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!y)return}const T=()=>{const H=this.storage.getItem(D);!y&&this.localCache[D]===H||this.notifyListeners(D,H)},L=this.storage.getItem(D);!function Kr(){return(0,P.w1)()&&10===document.documentMode}()||L===p.newValue||p.newValue===p.oldValue?T():setTimeout(T,10)}notifyListeners(p,y){this.localCache[p]=y;const D=this.listeners[p];if(D)for(const T of Array.from(D))T(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var D=()=>super._set,T=this;return(0,g.Z)(function*(){yield D().call(T,p,y),T.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,D=this;return(0,g.Z)(function*(){const T=yield y().call(D,p);return D.localCache[p]=JSON.stringify(T),T})()}_remove(p){var y=()=>super._remove,D=this;return(0,g.Z)(function*(){yield y().call(D,p),delete D.localCache[p]})()}}return _.type="LOCAL",_})(),hs=(()=>{class _ extends _c{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return _.type="SESSION",_})();let ql=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(T=>T.isListeningto(p));if(y)return y;const D=new _(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,g.Z)(function*(){const D=p,{eventId:T,eventType:L,data:H}=D.data,ye=y.handlersMap[L];if(!ye?.size)return;D.ports[0].postMessage({status:"ack",eventId:T,eventType:L});const be=Array.from(ye).map(function(){var Le=(0,g.Z)(function*(Bt){return Bt(D.origin,H)});return function(Bt){return Le.apply(this,arguments)}}()),Fe=yield function Ih(_){return Promise.all(_.map(function(){var d=(0,g.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return d.apply(this,arguments)}}()))}(be);D.ports[0].postMessage({status:"done",eventId:T,eventType:L,response:Fe})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Yl(_="",d=10){let p="";for(let y=0;y<d;y++)p+=Math.floor(10*Math.random());return _+p}class lm{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,y=50){var D=this;return(0,g.Z)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let L,H;return new Promise((ye,be)=>{const Fe=Yl("",20);T.port1.start();const Le=setTimeout(()=>{be(new Error("unsupported_event"))},y);H={messageChannel:T,onMessage(Bt){const Rr=Bt;if(Rr.data.eventId===Fe)switch(Rr.data.status){case"ack":clearTimeout(Le),L=setTimeout(()=>{be(new Error("timeout"))},3e3);break;case"done":clearTimeout(L),ye(Rr.data.response);break;default:clearTimeout(Le),clearTimeout(L),be(new Error("invalid_response"))}}},D.handlers.add(H),T.port1.addEventListener("message",H.onMessage),D.target.postMessage({eventType:d,eventId:Fe,data:p},[T.port2])}).finally(()=>{H&&D.removeMessageHandler(H)})})()}}function se(){return window}function Ql(){return typeof se().WorkerGlobalScope<"u"&&"function"==typeof se().importScripts}function cn(){return(cn=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vr="firebaseLocalStorageDb",ps="firebaseLocalStorage",Jl="fbase_key";class Xl{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Uo(_,d){return _.transaction([ps],d?"readwrite":"readonly").objectStore(ps)}function Ur(){const _=indexedDB.open(Vr,1);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(ps,{keyPath:Jl})}catch(D){p(D)}}),_.addEventListener("success",(0,g.Z)(function*(){const y=_.result;y.objectStoreNames.contains(ps)?d(y):(y.close(),yield function or(){const _=indexedDB.deleteDatabase(Vr);return new Xl(_).toPromise()}(),d(yield Ur()))}))})}function ro(_,d,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(_,d,p){const y=Uo(_,!0).put({[Jl]:d,value:p});return new Xl(y).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,g.Z)(function*(_,d){const p=Uo(_,!1).get(d),y=yield new Xl(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function tu(_,d){const p=Uo(_,!0).delete(d);return new Xl(p).toPromise()}const gs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,g.Z)(function*(){return p.db||(p.db=yield Ur()),p.db})()}_withRetries(p){var y=this;return(0,g.Z)(function*(){let D=0;for(;;)try{const T=yield y._openDb();return yield p(T)}catch(T){if(D++>3)throw T;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,g.Z)(function*(){return Ql()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,g.Z)(function*(){p.receiver=ql._getInstance(function qt(){return Ql()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,g.Z)(function*(D,T){return{keyProcessed:(yield p._poll()).includes(T.key)}});return function(D,T){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,g.Z)(function*(D,T){return["keyChanged"]});return function(D,T){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,g.Z)(function*(){var y,D;if(p.activeServiceWorker=yield function Hd(){return cn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new lm(p.activeServiceWorker);const T=yield p.sender._send("ping",{},800);T&&null!==(y=T[0])&&void 0!==y&&y.fulfilled&&null!==(D=T[0])&&void 0!==D&&D.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,g.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Vo(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ur();return yield ro(p,qe,"1"),yield tu(p,qe),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,g.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var D=this;return(0,g.Z)(function*(){return D._withPendingWrite((0,g.Z)(function*(){return yield D._withRetries(T=>ro(T,p,y)),D.localCache[p]=y,D.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,g.Z)(function*(){const D=yield y._withRetries(T=>function wn(_,d){return eu.apply(this,arguments)}(T,p));return y.localCache[p]=D,D})()}_remove(p){var y=this;return(0,g.Z)(function*(){return y._withPendingWrite((0,g.Z)(function*(){return yield y._withRetries(D=>tu(D,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,g.Z)(function*(){const y=yield p._withRetries(L=>{const H=Uo(L,!1).getAll();return new Xl(H).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const D=[],T=new Set;for(const{fbase_key:L,value:H}of y)T.add(L),JSON.stringify(p.localCache[L])!==JSON.stringify(H)&&(p.notifyListeners(L,H),D.push(L));for(const L of Object.keys(p.localCache))p.localCache[L]&&!T.has(L)&&(p.notifyListeners(L,null),D.push(L));return D})()}notifyListeners(p,y){this.localCache[p]=y;const D=this.listeners[p];if(D)for(const T of Array.from(D))T(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),io=1e12;class Ic{constructor(d){this.auth=d,this.counter=io,this._widgets=new Map}render(d,p){const y=this.counter;return this._widgets.set(y,new su(d,this.auth.name,p||{})),this.counter++,y}reset(d){var p;const y=d||io;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(d){var p;return(null===(p=this._widgets.get(d||io))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,g.Z)(function*(){var y;return null===(y=p._widgets.get(d||io))||void 0===y||y.execute(),""})()}}class su{constructor(d,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;J(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wd(_){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=qr("rcb"),Gd=new Ti(3e4,6e4);class ar{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=se().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return J(function Li(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&st(se().grecaptcha)?Promise.resolve(se().grecaptcha):new Promise((y,D)=>{const T=se().setTimeout(()=>{D(Z(d,"network-request-failed"))},Gd.get());se()[Ga]=()=>{se().clearTimeout(T),delete se()[Ga];const H=se().grecaptcha;if(!H||!st(H))return void D(Z(d,"internal-error"));const ye=H.render;H.render=(be,Fe)=>{const Le=ye(be,Fe);return this.counter++,Le},this.hostLanguage=p,y(H)},Rn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ga,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(T),D(Z(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=se().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yt{load(d){return(0,g.Z)(function*(){return new Ic(d)})()}clearedOneInstance(){}}const Za="recaptcha",Dh={theme:"light",type:"image"};class ou{constructor(d,p=Object.assign({},Dh),y){this.parameters=p,this.type=Za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(y),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;J(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yt:new ar,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(p)||new Promise(T=>{const L=H=>{H&&(d.tokenChangeListeners.delete(L),T(H))};d.tokenChangeListeners.add(L),d.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof d)d(p);else if("string"==typeof d){const y=se()[d];"function"==typeof y&&y(p)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){J(er()&&!Ql(),d.auth,"internal-error"),yield function bh(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function K(_){return _e.apply(this,arguments)}(d.auth);J(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lr{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Nn._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Vi(){return(Vi=(0,g.Z)(function*(_,d,p){const y=on(_),D=yield Ui(y,d,(0,P.m9)(p));return new lr(D,T=>Bl(y,T))})).apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_);yield qs(!1,y,"phone");const D=yield Ui(y.auth,d,(0,P.m9)(p));return new lr(D,T=>Eh(y,T))})).apply(this,arguments)}function ms(){return(ms=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_),D=yield Ui(y.auth,d,(0,P.m9)(p));return new lr(D,T=>Ch(y,T))})).apply(this,arguments)}function Ui(_,d,p){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,g.Z)(function*(_,d,p){var y;const D=yield p.verify();try{let T;if(J("string"==typeof D,_,"argument-error"),J(p.type===Za,_,"argument-error"),T="string"==typeof d?{phoneNumber:d}:d,"session"in T){const L=T.session;if("phoneNumber"in T)return J("enroll"===L.type,_,"internal-error"),(yield function Zl(_,d){return ge(_,"POST","/v2/accounts/mfaEnrollment:start",de(_,d))}(_,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{J("signin"===L.type,_,"internal-error");const H=(null===(y=T.multiFactorHint)||void 0===y?void 0:y.uid)||T.multiFactorUid;return J(H,_,"missing-multi-factor-info"),(yield function Ec(_,d){return ge(_,"POST","/v2/accounts/mfaSignIn:start",de(_,d))}(_,{mfaPendingCredential:L.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield function Ft(_,d){return Hn.apply(this,arguments)}(_,{phoneNumber:T.phoneNumber,recaptchaToken:D});return L}}finally{p._reset()}}),Bo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(_,d){yield sr((0,P.m9)(_),d)})).apply(this,arguments)}let _s=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=on(p)}verifyPhoneNumber(p,y){return Ui(this.auth,p,(0,P.m9)(y))}static credential(p,y){return Nn._fromVerification(p,y)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:D}=p;return y&&D?Nn._fromTokenResponse(y,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ln(_,d){return d?nn(d):(J(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Qe extends ts{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Dr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Dr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Dr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function wc(_){return Ul(_.auth,new Qe(_),_.bypassAuthState)}function zd(_){const{auth:d,user:p}=_;return J(p,d,"internal-error"),yh(p,new Qe(_),_.bypassAuthState)}function vs(_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(_){const{auth:d,user:p}=_;return J(p,d,"internal-error"),sr(p,new Qe(_),_.bypassAuthState)})).apply(this,arguments)}class qa{constructor(d,p,y,D,T=!1){this.auth=d,this.resolver=y,this.user=D,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,g.Z)(function*(y,D){d.pendingPromise={resolve:y,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(T){d.reject(T)}});return function(y,D){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,g.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:T,tenantId:L,error:H,type:ye}=d;if(H)return void p.reject(H);const be={auth:p.auth,requestUri:y,sessionId:D,tenantId:L||void 0,postBody:T||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ye)(be))}catch(Fe){p.reject(Fe)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return vs;case"reauthViaPopup":case"reauthViaRedirect":return zd;default:ae(this.auth,"internal-error")}}resolve(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ut=new Ti(2e3,1e4);function au(){return(au=(0,g.Z)(function*(_,d,p){const y=on(_);Ce(_,d,vn);const D=Ln(y,p);return new gi(y,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function ji(){return(ji=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_);Ce(y.auth,d,vn);const D=Ln(y.auth,p);return new gi(y.auth,"reauthViaPopup",d,D,y).executeNotNull()})).apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_);Ce(y.auth,d,vn);const D=Ln(y.auth,p);return new gi(y.auth,"linkViaPopup",d,D,y).executeNotNull()})).apply(this,arguments)}let gi=(()=>{class _ extends qa{constructor(p,y,D,T,L){super(p,y,T,L),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,g.Z)(function*(){const y=yield p.execute();return J(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,g.Z)(function*(){ct(1===p.filter.length,"Popup operations only handle one event");const y=Yl();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(Z(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Z(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,D;this.pollId=null!==(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Z(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Ut.get())};p()}}return _.currentPopupAction=null,_})();const oo="pendingRedirect",Ho=new Map;class $o extends qa{constructor(d,p,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,g.Z)(function*(){let y=Ho.get(p.auth._key());if(!y){try{const T=(yield function Wo(_,d){return bc.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;y=()=>Promise.resolve(T)}catch(D){y=()=>Promise.reject(D)}Ho.set(p.auth._key(),y)}return p.bypassAuthState||Ho.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,y=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(y,d);if("unknown"!==d.type){if(d.eventId){const D=yield y.auth._redirectUserForId(d.eventId);if(D)return y.user=D,p().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function bc(){return(bc=(0,g.Z)(function*(_,d){const p=ys(d),y=Ya(_);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(p));return yield y._remove(p),D})).apply(this,arguments)}function Zn(_,d){return mi.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(_,d){return Ya(_)._set(ys(d),"true")})).apply(this,arguments)}function Dn(_,d){Ho.set(_._key(),d)}function Ya(_){return nn(_._redirectPersistence)}function ys(_){return F(oo,_.config.apiKey,_.name)}function Ar(_,d,p){return function bn(_,d,p){return _i.apply(this,arguments)}(_,d,p)}function _i(){return(_i=(0,g.Z)(function*(_,d,p){const y=on(_);Ce(_,d,vn),yield y._initializationPromise;const D=Ln(y,p);return yield Zn(D,y),D._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function Tc(_,d,p){return function Jr(_,d,p){return Tn.apply(this,arguments)}(_,d,p)}function Tn(){return(Tn=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_);Ce(y.auth,d,vn),yield y.auth._initializationPromise;const D=Ln(y.auth,p);yield Zn(D,y.auth);const T=yield Xa(y);return D._openRedirect(y.auth,d,"reauthViaRedirect",T)})).apply(this,arguments)}function Qa(_,d,p){return function Ja(_,d,p){return vi.apply(this,arguments)}(_,d,p)}function vi(){return(vi=(0,g.Z)(function*(_,d,p){const y=(0,P.m9)(_);Ce(y.auth,d,vn),yield y.auth._initializationPromise;const D=Ln(y.auth,p);yield qs(!1,y,d.providerId),yield Zn(D,y.auth);const T=yield Xa(y);return D._openRedirect(y.auth,d,"linkViaRedirect",T)})).apply(this,arguments)}function $i(){return($i=(0,g.Z)(function*(_,d){return yield on(_)._initializationPromise,an(_,d,!1)})).apply(this,arguments)}function an(_,d){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(_,d,p=!1){const y=on(_),D=Ln(y,d),L=yield new $o(y,D,p).execute();return L&&!p&&(delete L.user._redirectEventId,yield y._persistUserIfCurrent(L.user),yield y._setRedirectUser(null,d)),L})).apply(this,arguments)}function Xa(_){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(_){const d=Yl(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class Zo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(p=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ko(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var y;if(d.error&&!lo(d)){const D=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(Z(this.auth,D))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const y=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ao(d))}saveEventToCache(d){this.cachedEventUids.add(ao(d)),this.lastProcessedEventTime=Date.now()}}function ao(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function lo({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function uu(_){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(_,d={}){return ge(_,"GET","/v1/projects",d)})).apply(this,arguments)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uo=/^https?/;function Xr(){return(Xr=(0,g.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield uu(_);for(const p of d)try{if(Cs(p))return}catch{}ae(_,"unauthorized-domain")})).apply(this,arguments)}function Cs(_){const d=An(),{protocol:p,hostname:y}=new URL(d);if(_.startsWith("chrome-extension://")){const L=new URL(_);return""===L.hostname&&""===y?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&L.hostname===y}if(!uo.test(p))return!1;if(yi.test(_))return y===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const Ei=new Ti(3e4,6e4);function cu(){const _=se().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let ei=null;const Sh=new Ti(5e3,15e3),Ah="__/auth/iframe",Zd="emulator/auth/iframe",ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(_){const d=_.config;J(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?ee(d,Zd):`https://${_.config.authDomain}/${Ah}`,y={apiKey:d.apiKey,appName:_.name,v:z.SDK_VERSION},D=Kd.get(_.config.apiHost);D&&(y.eid=D);const T=_._getFrameworks();return T.length&&(y.fw=T.join(",")),`${p}?${(0,P.xO)(y).slice(1)}`}function C(){return C=(0,g.Z)(function*(_){const d=yield function co(_){return ei=ei||function Is(_){return new Promise((d,p)=>{var y,D,T;function L(){cu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cu(),p(Z(_,"network-request-failed"))},timeout:Ei.get()})}if(null!==(D=null===(y=se().gapi)||void 0===y?void 0:y.iframes)&&void 0!==D&&D.Iframe)d(gapi.iframes.getContext());else{if(null===(T=se().gapi)||void 0===T||!T.load){const H=qr("iframefcb");return se()[H]=()=>{gapi.load?L():p(Z(_,"network-request-failed"))},Rn(`https://apis.google.com/js/api.js?onload=${H}`).catch(ye=>p(ye))}L()}}).catch(d=>{throw ei=null,d})}(_),ei}(_),p=se().gapi;return J(p,_,"internal-error"),d.open({where:document.body,url:qd(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ws,dontclear:!0},y=>new Promise(function(){var D=(0,g.Z)(function*(T,L){yield y.restyle({setHideOnLeave:!1});const H=Z(_,"network-request-failed"),ye=se().setTimeout(()=>{L(H)},Sh.get());function be(){se().clearTimeout(ye),T(y)}y.ping(be).then(be,()=>{L(H)})});return function(T,L){return D.apply(this,arguments)}}()))}),C.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Se{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rt="__/auth/handler",et="emulator/auth/handler",Kn=encodeURIComponent("fac");function It(_,d,p,y,D,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(_,d,p,y,D,T){J(_.config.authDomain,_,"auth-domain-config-required"),J(_.config.apiKey,_,"invalid-api-key");const L={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:y,v:z.SDK_VERSION,eventId:D};if(d instanceof vn){d.setDefaultLanguage(_.languageCode),L.providerId=d.providerId||"",(0,P.xb)(d.getCustomParameters())||(L.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Fe,Le]of Object.entries(T||{}))L[Fe]=Le}if(d instanceof di){const Fe=d.getScopes().filter(Le=>""!==Le);Fe.length>0&&(L.scopes=Fe.join(","))}_.tenantId&&(L.tid=_.tenantId);const H=L;for(const Fe of Object.keys(H))void 0===H[Fe]&&delete H[Fe];const ye=yield _._getAppCheckToken(),be=ye?`#${Kn}=${encodeURIComponent(ye)}`:"";return`${function Wi({config:_}){return _.emulator?ee(_,et):`https://${_.authDomain}/${rt}`}(_)}?${(0,P.xO)(H).slice(1)}${be}`})).apply(this,arguments)}const Gi="webStorageSupport",ti=class qn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=an,this._overrideRedirectResult=Dn}_openPopup(d,p,y,D){var T=this;return(0,g.Z)(function*(){var L;ct(null===(L=T.eventManagers[d._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const H=yield It(d,p,y,An(),D);return function De(_,d,p,y=500,D=600){const T=Math.max((window.screen.availHeight-D)/2,0).toString(),L=Math.max((window.screen.availWidth-y)/2,0).toString();let H="";const ye=Object.assign(Object.assign({},b),{width:y.toString(),height:D.toString(),top:T,left:L}),be=(0,P.z$)().toLowerCase();p&&(H=Ne(be)?"_blank":p),ce(be)&&(d=d||"http://localhost",ye.scrollbars="yes");const Fe=Object.entries(ye).reduce((Bt,[Rr,Ss])=>`${Bt}${Rr}=${Ss},`,"");if(function un(_=(0,P.z$)()){var d;return Kt(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(be)&&"_self"!==H)return function Ve(_,d){const p=document.createElement("a");p.href=_,p.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(d||"",H),new Se(null);const Le=window.open(d||"",H,Fe);J(Le,_,"popup-blocked");try{Le.focus()}catch{}return new Se(Le)}(d,H,Yl())})()}_openRedirect(d,p,y,D){var T=this;return(0,g.Z)(function*(){return yield T._originValidation(d),function Ct(_){se().location.href=_}(yield It(d,p,y,An(),D)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:D,promise:T}=this.eventManagers[p];return D?Promise.resolve(D):(ct(T,"If manager is not set, promise should be"),T)}const y=this.initAndGetManager(d);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(d){var p=this;return(0,g.Z)(function*(){const y=yield function E(_){return C.apply(this,arguments)}(d),D=new Zo(d);return y.register("authEvent",T=>(J(T?.authEvent,d,"invalid-auth-event"),{status:D.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:D},p.iframes[d._key()]=y,D})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Gi,{type:Gi},D=>{var T;const L=null===(T=D?.[0])||void 0===T?void 0:T[Gi];void 0!==L&&p(!!L),ae(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Es(_){return Xr.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return li()||Q()||Kt()}};class du{constructor(d){this.factorId=d}_process(d,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,y);case"signin":return this._finalizeSignIn(d,p.credential);default:return ze("unexpected MultiFactorSessionType")}}}class Yd extends du{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Yd(d)}_finalizeEnroll(d,p,y){return function Fi(_,d){return ge(_,"POST","/v2/accounts/mfaEnrollment:finalize",de(_,d))}(d,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function ru(_,d){return ge(_,"POST","/v2/accounts/mfaSignIn:finalize",de(_,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let um=(()=>{class _{constructor(){}static assertion(p){return Yd._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Mh="@firebase/auth";class cm{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,g.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(y=>{d(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ho(){return window}(0,P.Pz)("authIdTokenMaxAge"),function dm(_){(0,z._registerComponent)(new oe.wA("auth",(d,{options:p})=>{const y=d.getProvider("app").getImmediate(),D=d.getProvider("heartbeat"),T=d.getProvider("app-check-internal"),{apiKey:L,authDomain:H}=y.options;J(L&&!L.includes(":"),"invalid-api-key",{appName:y.name});const ye={apiKey:L,authDomain:H,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:te(_)},be=new Nl(y,D,T,ye);return function bd(_,d){const p=d?.persistence||[],y=(Array.isArray(p)?p:[p]).map(nn);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(y,d?.popupRedirectResolver)}(be,p),be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,y)=>{d.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new oe.wA("auth-internal",d=>{const p=on(d.getProvider("auth").getImmediate());return new cm(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(Mh,"0.23.2",function Ac(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,z.registerVersion)(Mh,"0.23.2","esm2017")}("Browser");function Qo(){return Qo=(0,g.Z)(function*(_,d,p){var y;const{BuildInfo:D}=ho();ct(d.sessionId,"AuthEvent did not contain a session ID");const T=yield function hm(_){return tl.apply(this,arguments)}(d.sessionId),L={};return Kt()?L.ibi=D.packageName:Ke()?L.apn=D.packageName:ae(_,"operation-not-supported-in-this-environment"),D.displayName&&(L.appDisplayName=D.displayName),L.sessionId=T,It(_,p,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,L)}),Qo.apply(this,arguments)}function gu(){return(gu=(0,g.Z)(function*(_){const{BuildInfo:d}=ho(),p={};Kt()?p.iosBundleId=d.packageName:Ke()?p.androidPackageName=d.packageName:ae(_,"operation-not-supported-in-this-environment"),yield uu(_,p)})).apply(this,arguments)}function el(){return(el=(0,g.Z)(function*(_,d,p){const{cordova:y}=ho();let D=()=>{};try{yield new Promise((T,L)=>{let H=null;function ye(){var Le;T();const Bt=null===(Le=y.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof Bt&&Bt(),"function"==typeof p?.close&&p.close()}function be(){H||(H=window.setTimeout(()=>{L(Z(_,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===document?.visibilityState&&be()}d.addPassiveListener(ye),document.addEventListener("resume",be,!1),Ke()&&document.addEventListener("visibilitychange",Fe,!1),D=()=>{d.removePassiveListener(ye),document.removeEventListener("resume",be,!1),document.removeEventListener("visibilitychange",Fe,!1),H&&window.clearTimeout(H)}})}finally{D()}})).apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(_){const d=function Jd(_){if(ct(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),p=new Uint8Array(d);for(let y=0;y<_.length;y++)p[y]=_.charCodeAt(y);return p}(_),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Nh extends Zo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function kh(_){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,g.Z)(function*(_){const d=yield vu()._get(Ds(_));return d&&(yield vu()._remove(Ds(_))),d})).apply(this,arguments)}function ni(){const _=[];for(let p=0;p<20;p++){const y=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return _.join("")}function vu(){return nn(fs)}function Ds(_){return F("authEvent",_.config.apiKey,_.name)}function nl(_){if(!_?.includes("?"))return{};const[d,...p]=_.split("?");return(0,P.zd)(p.join("?"))}const gy=class py{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=an,this._overrideRedirectResult=Dn}_initialize(d){var p=this;return(0,g.Z)(function*(){const y=d._key();let D=p.eventManagers.get(y);return D||(D=new Nh(d),p.eventManagers.set(y,D),p.attachCallbackListeners(d,D)),D})()}_openPopup(d){ae(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,y,D){var T=this;return(0,g.Z)(function*(){!function fm(_){var d,p,y,D,T,L,H,ye,be,Fe;const Le=ho();J("function"==typeof(null===(d=Le?.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(p=Le?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(T=null===(D=null===(y=Le?.cordova)||void 0===y?void 0:y.plugins)||void 0===D?void 0:D.browsertab)||void 0===T?void 0:T.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(ye=null===(H=null===(L=Le?.cordova)||void 0===L?void 0:L.plugins)||void 0===H?void 0:H.browsertab)||void 0===ye?void 0:ye.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Fe=null===(be=Le?.cordova)||void 0===be?void 0:be.InAppBrowser)||void 0===Fe?void 0:Fe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const L=yield T._initialize(d);yield L.initialized(),L.resetRedirect(),function Go(){Ho.clear()}(),yield T._originValidation(d);const H=function Oh(_,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:ni(),postBody:null,tenantId:_.tenantId,error:Z(_,"no-auth-event")}}(d,y,D);yield function xh(_,d){return vu()._set(Ds(_),d)}(d,H);const ye=yield function po(_,d,p){return Qo.apply(this,arguments)}(d,H,p),be=yield function Ph(_){const{cordova:d}=ho();return new Promise(p=>{d.plugins.browsertab.isAvailable(y=>{let D=null;y?d.plugins.browsertab.openUrl(_):D=d.InAppBrowser.open(_,function pt(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(D)})})}(ye);return function hy(_,d,p){return el.apply(this,arguments)}(d,L,be)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Rh(_){return gu.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:y,handleOpenURL:D,BuildInfo:T}=ho(),L=setTimeout((0,g.Z)(function*(){yield kh(d),p.onEvent(Fh())}),500),H=function(){var Fe=(0,g.Z)(function*(Le){clearTimeout(L);const Bt=yield kh(d);let Rr=null;Bt&&Le?.url&&(Rr=function _u(_,d){var p,y;const D=function yu(_){const d=nl(_),p=d.link?decodeURIComponent(d.link):void 0,y=nl(p).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return nl(D).link||D||y||p||_}(d);if(D.includes("/__/auth/callback")){const T=nl(D),L=T.firebaseError?function Jo(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(T.firebaseError)):null,H=null===(y=null===(p=L?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],ye=H?Z(H):null;return ye?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:ye,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(Bt,Le.url)),p.onEvent(Rr||Fh())});return function(Bt){return Fe.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,H);const ye=D,be=`${T.packageName.toLowerCase()}://`;ho().handleOpenURL=function(){var Fe=(0,g.Z)(function*(Le){if(Le.toLowerCase().startsWith(be)&&H({url:Le}),"function"==typeof ye)try{ye(Le)}catch(Bt){console.error(Bt)}});return function(Le){return Fe.apply(this,arguments)}}()}};function Fh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Z("no-auth-event")}}function rl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Xd(_=(0,P.z$)()){return!("file:"!==rl()&&"ionic:"!==rl()&&"capacitor:"!==rl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uh(){try{const _=self.localStorage,d=Yl();if(_)return _.setItem(d,"1"),_.removeItem(d),!function tf(_=(0,P.z$)()){return function sl(){return(0,P.w1)()&&11===document?.documentMode}()||function ol(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch{return Xo()&&(0,P.hl)()}return!1}function Xo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oc(){return(function il(){return"http:"===rl()||"https:"===rl()}()||(0,P.ru)()||Xd())&&!function ef(){return(0,P.b$)()||(0,P.UG)()}()&&Uh()&&!Xo()}function Eu(){return Xd()&&typeof document<"u"}function Ci(){return(Ci=(0,g.Z)(function*(){return!!Eu()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},ea=J,Bh="persistence";function Yn(_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,g.Z)(function*(_){yield _._initializationPromise;const d=Du(),p=F(Bh,_.config.apiKey,_.name);d&&d.setItem(p,_._getPersistence())})).apply(this,arguments)}function Du(){var _;try{return(null===(_=function al(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Vn=J;class jr{constructor(){this.browserResolver=nn(ti),this.cordovaResolver=nn(gy),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=an,this._overrideRedirectResult=Dn}_initialize(d){var p=this;return(0,g.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,y,D){var T=this;return(0,g.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(d,p,y,D)})()}_openRedirect(d,p,y,D){var T=this;return(0,g.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(d,p,y,D)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Eu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Cu(){return Ci.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function bu(_){return _.unwrap()}function jh(_){return Tu(_)}function Tu(_){const{_tokenResponse:d}=_ instanceof P.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return _s.credentialFromResult(_);const p=d.providerId;if(!p||p===re.PASSWORD)return null;let y;switch(p){case re.GOOGLE:y=br;break;case re.FACEBOOK:y=Oi;break;case re.GITHUB:y=Aa;break;case re.TWITTER:y=Ma;break;default:const{oauthIdToken:D,oauthAccessToken:T,oauthTokenSecret:L,pendingToken:H,nonce:ye}=d;return T||L||D||H?H?p.startsWith("saml.")?ot._create(p,H):Ze._fromParams({providerId:p,signInMethod:p,pendingToken:H,idToken:D,accessToken:T}):new fi(p).credential({idToken:D,accessToken:T,rawNonce:ye}):null}return _ instanceof P.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function ur(_,d){return d.catch(p=>{throw p instanceof P.ZR&&function Hh(_,d){var p;const y=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new gm(_,function gc(_,d){var p;const y=(0,P.m9)(_),D=d;return J(d.customData.operationType,y,"argument-error"),J(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),eo._fromError(y,D)}(_,d));else if(y){const D=Tu(d),T=d;D&&(T.credential=D,T.tenantId=y.tenantId||void 0,T.email=y.email||void 0,T.phoneNumber=y.phoneNumber||void 0)}}(_,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:jh(p),additionalUserInfo:Ld(p),user:bs.getOrCreate(D)}})}function nf(_,d){return go.apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(_,d){const p=yield d;return{verificationId:p.verificationId,confirm:y=>ur(_,p.confirm(y))}})).apply(this,arguments)}class gm{constructor(d,p){this.resolver=p,this.auth=function xc(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return ur(bu(this.auth),this.resolver.resolveSignIn(d))}}class bs{constructor(d){this._delegate=d,this.multiFactor=function Wa(_){const d=(0,P.m9)(_);return to.has(d)||to.set(d,ds._fromUser(d)),to.get(d)}(d)}static getOrCreate(d){return bs.USER_MAP.has(d)||bs.USER_MAP.set(d,new bs(d)),bs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,g.Z)(function*(){return ur(p.auth,Eh(p._delegate,d))})()}linkWithPhoneNumber(d,p){var y=this;return(0,g.Z)(function*(){return nf(y.auth,function Nt(_,d,p){return Ge.apply(this,arguments)}(y._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,g.Z)(function*(){return ur(p.auth,function Th(_,d,p){return Qr.apply(this,arguments)}(p._delegate,d,jr))})()}linkWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield Yn(on(p.auth)),Qa(p._delegate,d,jr)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,g.Z)(function*(){return ur(p.auth,Ch(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return nf(this.auth,function Fn(_,d,p){return ms.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return ur(this.auth,function lu(_,d,p){return ji.apply(this,arguments)}(this._delegate,d,jr))}reauthenticateWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield Yn(on(p.auth)),Tc(p._delegate,d,jr)})()}sendEmailVerification(d){return function Va(_,d){return Js.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,g.Z)(function*(){return yield function os(_,d){return pr.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function cc(_,d){return Fd((0,P.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function dc(_,d){return Fd((0,P.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Ka(_,d){return jo.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function am(_,d){return Ua.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Wl(_,d,p){return ki.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bs.USER_MAP=new WeakMap;const Ts=J;let Su=(()=>{class _{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Ts(D,"invalid-api-key",{appName:p.name}),Ts(D,"invalid-api-key",{appName:p.name});const T=typeof window<"u"?jr:void 0;this._delegate=y.initialize({options:{persistence:Au(D,p.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function ir(_,d,p){const y=on(_);J(y._canInitEmulator,y,"emulator-config-failed"),J(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const D=!!p?.disableWarnings,T=Ws(d),{host:L,port:H}=function Ol(_){const d=Ws(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const T=D[1];return{host:T,port:ec(y.substr(T.length+1))}}{const[T,L]=y.split(":");return{host:T,port:ec(L)}}}(d);y.config.emulator={url:`${T}//${L}${null===H?"":`:${H}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:L,port:H,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function _h(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,y)}applyActionCode(p){return function ac(_,d){return Wn.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Oa(this._delegate,p)}confirmPasswordReset(p,y){return function as(_,d,p){return Na.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var D=this;return(0,g.Z)(function*(){return ur(D._delegate,function Nd(_,d,p){return ka.apply(this,arguments)}(D._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function lc(_,d){return uc.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Od(_,d){const p=Lt.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,g.Z)(function*(){Ts(Oc(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function Hi(_,d){return $i.apply(this,arguments)}(p._delegate,jr);return y?ur(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Pc(_,d){on(_)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,y,D){const{next:T,error:L,complete:H}=rf(p,y,D);return this._delegate.onAuthStateChanged(T,L,H)}onIdTokenChanged(p,y,D){const{next:T,error:L,complete:H}=rf(p,y,D);return this._delegate.onIdTokenChanged(T,L,H)}sendSignInLinkToEmail(p,y){return function ls(_,d,p){return Jt.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function om(_,d,p){return xo.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,g.Z)(function*(){let D;switch(function ll(_,d){ea(Object.values(Mr).includes(d),_,"invalid-persistence-type"),(0,P.b$)()?ea(d!==Mr.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ea(d===Mr.NONE,_,"unsupported-persistence-type"):Xo()?ea(d===Mr.NONE||d===Mr.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ea(d===Mr.NONE||Uh(),_,"unsupported-persistence-type")}(y._delegate,p),p){case Mr.SESSION:D=hs;break;case Mr.LOCAL:D=(yield nn(gs)._isAvailable())?gs:fs;break;case Mr.NONE:D=Cr;break;default:return ae("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ur(this._delegate,function On(_){return Md.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ur(this._delegate,Bl(this._delegate,p))}signInWithCustomToken(p){return ur(this._delegate,function oc(_,d){return hi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return ur(this._delegate,function Yr(_,d,p){return Bl((0,P.m9)(_),rs.credential(d,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return ur(this._delegate,function Gn(_,d,p){return Fa.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return nf(this._delegate,function so(_,d,p){return Vi.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,g.Z)(function*(){return Ts(Oc(),y._delegate,"operation-not-supported-in-this-environment"),ur(y._delegate,function Dc(_,d,p){return au.apply(this,arguments)}(y._delegate,p,jr))})()}signInWithRedirect(p){var y=this;return(0,g.Z)(function*(){return Ts(Oc(),y._delegate,"operation-not-supported-in-this-environment"),yield Yn(y._delegate),Ar(y._delegate,p,jr)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function $l(_,d){return Qs.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Mr,_})();function rf(_,d,p){let y=_;"function"!=typeof _&&({next:y,error:d,complete:p}=_);const D=y;return{next:L=>D(L&&bs.getOrCreate(L)),error:d,complete:p}}function Au(_,d){const p=function wu(_,d){const p=Du();if(!p)return[];const y=F(Bh,_,d);switch(p.getItem(y)){case Mr.NONE:return[Cr];case Mr.LOCAL:return[gs,hs];case Mr.SESSION:return[hs];default:return[]}}(_,d);if(typeof self<"u"&&!p.includes(gs)&&p.push(gs),typeof window<"u")for(const y of[fs,hs])p.includes(y)||p.push(y);return p.includes(Cr)||p.push(Cr),p}class kc{constructor(){this.providerId="phone",this._delegate=new _s(bu(W.Z.auth()))}static credential(d,p){return _s.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}kc.PHONE_SIGN_IN_METHOD=_s.PHONE_SIGN_IN_METHOD,kc.PROVIDER_ID=_s.PROVIDER_ID;const $h=J;class Wh{constructor(d,p,y=W.Z.app()){var D;$h(null===(D=y.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new ou(d,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _m(_){_.INTERNAL.registerComponent(new oe.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new Su(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:rs,FacebookAuthProvider:Oi,GithubAuthProvider:Aa,GoogleAuthProvider:br,OAuthProvider:fi,SAMLAuthProvider:Zs,PhoneAuthProvider:kc,PhoneMultiFactorGenerator:um,RecaptchaVerifier:Wh,TwitterAuthProvider:Ma,Auth:Su,AuthCredential:ts,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(W.Z)},5861:(Be,fe,R)=>{function g(P,z,Y,ie,oe,Ee,re){try{var O=P[Ee](re),V=O.value}catch($){return void Y($)}O.done?z(V):Promise.resolve(V).then(ie,oe)}function W(P){return function(){var z=this,Y=arguments;return new Promise(function(ie,oe){var Ee=P.apply(z,Y);function re(V){g(Ee,ie,oe,re,O,"next",V)}function O(V){g(Ee,ie,oe,re,O,"throw",V)}re(void 0)})}}R.d(fe,{Z:()=>W})},7582:(Be,fe,R)=>{function z(ee,ne){var le={};for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&ne.indexOf(ue)<0&&(le[ue]=ee[ue]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(ue=Object.getOwnPropertySymbols(ee);de<ue.length;de++)ne.indexOf(ue[de])<0&&Object.prototype.propertyIsEnumerable.call(ee,ue[de])&&(le[ue[de]]=ee[ue[de]])}return le}function $(ee,ne,le,ue){return new(le||(le=Promise))(function(ge,xe){function Te(vt){try{He(ue.next(vt))}catch(it){xe(it)}}function Zt(vt){try{He(ue.throw(vt))}catch(it){xe(it)}}function He(vt){vt.done?ge(vt.value):function de(ge){return ge instanceof le?ge:new le(function(xe){xe(ge)})}(vt.value).then(Te,Zt)}He((ue=ue.apply(ee,ne||[])).next())})}function q(ee){return this instanceof q?(this.v=ee,this):new q(ee)}function ae(ee,ne,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ue=le.apply(ee,ne||[]),ge=[];return de={},xe("next"),xe("throw"),xe("return"),de[Symbol.asyncIterator]=function(){return this},de;function xe(xt){ue[xt]&&(de[xt]=function(kt){return new Promise(function(pn,bt){ge.push([xt,kt,pn,bt])>1||Te(xt,kt)})})}function Te(xt,kt){try{!function Zt(xt){xt.value instanceof q?Promise.resolve(xt.value.v).then(He,vt):it(ge[0][2],xt)}(ue[xt](kt))}catch(pn){it(ge[0][3],pn)}}function He(xt){Te("next",xt)}function vt(xt){Te("throw",xt)}function it(xt,kt){xt(kt),ge.shift(),ge.length&&Te(ge[0][0],ge[0][1])}}function he(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ne=ee[Symbol.asyncIterator];return ne?ne.call(ee):(ee=function ve(ee){var ne="function"==typeof Symbol&&Symbol.iterator,le=ne&&ee[ne],ue=0;if(le)return le.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ue>=ee.length&&(ee=void 0),{value:ee&&ee[ue++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),le={},ue("next"),ue("throw"),ue("return"),le[Symbol.asyncIterator]=function(){return this},le);function ue(ge){le[ge]=ee[ge]&&function(xe){return new Promise(function(Te,Zt){!function de(ge,xe,Te,Zt){Promise.resolve(Zt).then(function(He){ge({value:He,done:Te})},xe)}(Te,Zt,(xe=ee[ge](xe)).done,xe.value)})}}}R.d(fe,{FC:()=>ae,KL:()=>he,_T:()=>z,mG:()=>$,qq:()=>q}),"function"==typeof SuppressedError&&SuppressedError}},Be=>{Be(Be.s=6622)}]);